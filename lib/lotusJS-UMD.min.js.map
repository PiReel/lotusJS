{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///lotusJS-UMD.min.js","webpack:///webpack/bootstrap 14c2213ecff0e9f487c9?a52e","webpack:///external \"Lavender\"?5437","webpack:///./src/view/SkinPart.ts?c204","webpack:///./src/view/AbstractComponent.ts?5f79","webpack:///./src/control/events/ComponentEvent.ts?d6c9","webpack:///./src/control/events/ItemViewEvent.ts?a81c","webpack:///./src/factory/HttpServiceFactory.ts?1dc6","webpack:///./src/mediators/AbstractMediator.ts?c8ca","webpack:///./src/reflection/InjectorDecorator.ts?aec1","webpack:///./src/context/CommandMap.ts?45e2","webpack:///./src/context/ComponentList.ts?7ddc","webpack:///./src/context/ComponentMap.ts?33bf","webpack:///./src/context/Injector.ts?d857","webpack:///./src/context/MediatorMap.ts?50bc","webpack:///./src/control/command/AbstractCommand.ts?ec08","webpack:///./src/control/events/ActionErrorEvent.ts?941e","webpack:///./src/control/events/ActionSuccessEvent.ts?a0e4","webpack:///./src/control/service/SampleService.ts?6b65","webpack:///./src/factory/EventDispatcherFactory.ts?862a","webpack:///./src/view/AbstractCollectionView.ts?4fd1","webpack:///./src/view/AbstractItemView.ts?7abe","webpack:///./src/view/AbstractRecordSetCollectionView.ts?7ae4","webpack:///./src/view/AbstractThumbnailView.ts?e8ba","webpack:///./src/view/SkinPartList.ts?c8e1","webpack:///./src/context/Context.ts?7eb9","webpack:///./src/control/command/SampleCommand.ts?d4cf","webpack:///./src/factory/SerializeFactory.ts?ed9b","webpack:///./src/factory/ServiceFactory.ts?2162","webpack:///./src/mediators/ButtonMediator.ts?caee","webpack:///./src/mediators/ListMediator.ts?f914","webpack:///./src/view/Button.ts?8ae8","webpack:///./src/view/ImageGalleryCollectionView.ts?3837","webpack:///./src/view/ImageGalleryItemDetail.ts?08ad","webpack:///./src/view/ImageGalleryView.ts?5951","webpack:///./src/index.ts?eac3","webpack:///./~/process/browser.js?82e4","webpack:///./~/reflect-metadata/Reflect.js?ae60","webpack:///(webpack)/buildin/global.js?3698"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","Lavender","SkinPart","_super","label","instance","attribute","_this","_label","_instance","_attribute","set","val","notify","Subject","SkinPartList_1","ComponentEvent_1","AbstractComponent","_ready","_id","Math","random","_skinParts","SkinPartList","ObjectUtils","mixin","EventDispatcher","_element","undefined","getComponentInstance","bind","_context","init","addAttributes","defineSkinParts","addSkinParts","element","attributes","length","indexOf","index","newProp","substring","camelCased","replace","g","toUpperCase","getAllPropertyNames","obj","iterateSelfBool","iteratePrototypeBool","props","getOwnPropertyNames","forEach","prop","push","getPrototypeOf","getAttribute","addSkinPart","skinPartsNodeList","querySelectorAll","part","skinParts","skinPartsByLabel","onSkinPartAdded","onReady","ready","dispatch","ComponentEvent","READY","created","console","log","destroy","removeEventListeners","binder","unbindAll","id","inserted","removed","attributeChanged","addEventListeners","type","payload","clone","AbstractEvent","ItemViewEvent","ITEM_SELECTED","Error","ITEM_DESELECTED","REMOVE_ITEM","HttpServiceFactory","INSTANCE","getInstance","getHttpService","code","httpService","XhrHttpService","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","__metadata","k","v","metadata","InjectorDecorator_1","AbstractMediator","componentInstance","context","UuidUtils","generateUUID","addEventListener","_componentInstance","canListen","removeEventListener","setUpBindings","removeBindings","toString","injectable","inject","t","getMetadata","f","args","_i","apply","resolveInjections","injector","CommandMap","eventFunctionMap","instanceMap","addCommand","eventType","handler","functionName","useSingleton","hasCommandMap","eventDispatcher","hasCommand","mapArray","itemIndex","item","removeCommand","shift","pop","head","slice","tail","concat","removeAllCommands","removeAllEventListeners","routeEventToCommand","event","ComponentList","instancesByConstructor","addToHash","removeItemFromHash","hash","objects","addItem","clear","clearHash","removeItemAt","getItemAt","insert","suppressChangeEvent","replaceIndex","returnValue","ArrayList","ComponentList_1","ComponentMap","componentInstances","tagInstanceToRequestId","success","result","tagInstance","requestId","div","document","createElement","innerHTML","resultObj","importNode","childNodes","content","component","querySelector","lotusComponentInstance","host","createShadowRoot","appendChild","createComponent","window","ShadowCSS","shimStyling","nodeName","fault","onProgress","progress","addComponent","functionConstructor","mediatorMap","tagName","toLowerCase","src","addResponder","send","mapComponent","framework","xtag","componentMap","lifecycle","attrName","oldValue","newValue","definition","register","Injector","typeMap","objectMap","mapObject","mapIndex","mapSingletonInstance","map","MediatorMap","_tagConstructorMap","_mediatorInstanceMap","add","mediatorConstructor","hasMediatorMap","tagConstructorMap","remove","mapId","ActionSuccessEvent_1","ActionErrorEvent_1","AbstractCommand","service","parser","opModel","errorModel","execute","executionError","asyncOperationComplete","asyncOperationCount","executeServiceMethod","parseResponse","dispatchSuccess","parsedResult","doneEvent","ActionSuccessEvent","SUCCESS","e","errorMessage","getErrorMessage","message","stack","errorEvent","ActionErrorEvent","ERROR","error","errors","appError","getFaultString","status","msg","getExecErrorString","HttpServiceFactory_1","SampleService","config","serviceMap","echoJSON","localRequest","getURLWithParams","StringUtil","substitute","getURL","baseUrl","jsonKey","responder","paramObj","format","contentType","cache","url","sendRequest","testRequestUsingIncludedAPI","isPostRequest","params","JSON","stringify","httpRequestInstance","serviceCode","requestType","AbstractHttpService","EventDispatcherFactory","getEventDispatcher","eventDispatcherCode","dispatcher","AbstractComponent_1","SkinPart_1","ItemViewEvent_1","AbstractCollectionView","_childViews","_collectionContainer","_itemTemplate","_selectedItem","_collection","removeCollectionEventListeners","addCollectionEventListeners","_itemView","destroyChildViews","childViews","removeChildView","collectionContainer","firstChild","removeChild","collection","CollectionEvent","COLLECTION_CHANGE","onCollectionChange","addChildView","removeChildViewFromModel","removeAllChildViews","createChildView","model","evalClass","eval","itemView","view","itemTemplate","cloneNode","addViewEventListeners","removeViewEventListeners","onItemSelectedDeselect","selectedItem","resetState","onItemRemove","addAllChildViews","models","removeElement","initCollection","getCollection","render","parentNode","AbstractItemView","_model","onModelChange","setElementDisplay","display","style","AbstractCollectionView_1","AbstractRecordSetCollectionView","nextBtn","pervBtn","firstBtn","lastBtn","_recordSet","_navBtnEnabledClass","_navBtnDisabledClass","_nextBtn","_pervBtn","_firstBtn","_lastBtn","recordSet","RecordSetEvent","RESULTS_CHANGE","unbind","onClickHandler","currentTarget","selectedPage","totalPages","refreshNavButtonDisplay","button","classList","contains","navBtnDisabledClass","navBtnEnabledClass","classToAdd","onResultsChange","onPageListChange","RecordSet","pageList","AbstractItemView_1","AbstractThumbnailView","_allowDrag","_thumbWidth","_thumbHeight","_thumbnail","_thumbnailContainer","sizeImage","thumbnail","defaultSize","getDefaultSize","containerSize","getContainerSize","scale","ResizeUtils","getScaleToFit","width","height","setAttribute","maxWidth","maxHeight","onThumbClick","onDragStart","getImageURL","parseInt","returnObj","thumbnailContainer","getComputedStyle","NaN","isNaN","thumbWidth","thumbHeight","_thumbnailDisplay","onload","_thumbnailSelectedClass","toggle","source","allowDuplicates","skinPart","ComponentMap_1","CommandMap_1","Injector_1","MediatorMap_1","EventDispatcherFactory_1","Context","commandMap","startUp","mapComponents","mapCommands","mapObjects","mapMediators","AbstractCommand_1","SampleCommand","parse","SerializeFactory","getServiceResultParser","parserCode","getServiceExporter","exporterCode","exporter","SampleService_1","ServiceFactory","getService","AbstractMediator_1","ButtonMediator","onClick","serviceFactory","ListMediator","Button","_buttonSkinPart","_type","buttonSkinPart","originalEvent","AbstractRecordSetCollectionView_1","ImageGalleryCollectionView","ImageGalleryItemDetail","_asset","_nameLabel","_dateCreatedLabel","_urlLabel","asset","nameLabel","objectName","dateCreatedLabel","createdDate","toDateString","urlLabel","AbstractThumbnailView_1","ImageGalleryView","_itemDetail","itemDetail","onItemDetailReady","effectAllowed","setData","dataTransfer","__export","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","len","run","Item","array","noop","process","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","global","propertyKey","IsUndefined","IsArray","TypeError","IsConstructor","DecorateConstructor","IsObject","IsNull","ToPropertyKey","DecorateProperty","metadataKey","metadataValue","decorator","IsPropertyKey","OrdinaryDefineOwnMetadata","defineMetadata","hasMetadata","OrdinaryHasMetadata","hasOwnMetadata","OrdinaryHasOwnMetadata","OrdinaryGetMetadata","getOwnMetadata","OrdinaryGetOwnMetadata","getMetadataKeys","OrdinaryMetadataKeys","getOwnMetadataKeys","OrdinaryOwnMetadataKeys","deleteMetadata","metadataMap","GetOrCreateMetadataMap","delete","size","targetMetadata","Metadata","decorated","descriptor","O","P","Create","_Map","MetadataKey","parent","OrdinaryGetPrototypeOf","ToBoolean","has","MetadataValue","ownKeys","parentKeys","_Set","keys","ownKeys_1","hasKey","_a","parentKeys_1","keysObj","iterator","GetIterator","next","IteratorStep","nextValue","IteratorValue","IteratorClose","Type","x","IsSymbol","ToPrimitive","input","PreferredType","hint","exoticToPrim","GetMethod","toPrimitiveSymbol","OrdinaryToPrimitive","toString_1","IsCallable","valueOf","toString_2","argument","ToString","isArray","V","func","method","iteratorSymbol","iterResult","done","proto","functionPrototype","prototypeProto","MakeDictionary","HashMap","hasOwn","supportsSymbol","Symbol","toPrimitive","supportsCreate","supportsProto","downLevel","Function","usePolyfill","Map","entries","getKey","_","getValue","getEntry","cacheSentinel","arraySentinel","MapIterator","values","selector","_index","_keys","_values","_selector","throw","return","_cacheKey","_cacheIndex","_find","Set","_map","_WeakMap","WeakMap","CreateUniqueKey","CreateUUID","GetOrCreateWeakMapTable","rootKey","FillRandomBytes","buffer","GenRandomBytes","Uint8Array","crypto","getRandomValues","msCrypto","data","UUID_SIZE","offset","byte","_key","table","__global","self"],"mappings":"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","file":"lotusJS-UMD.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Lavender\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lotus\", [\"Lavender\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lotus\"] = factory(require(\"Lavender\"));\n\telse\n\t\troot[\"Lotus\"] = factory(root[\"Lavender\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Lavender\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lotus\", [\"Lavender\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lotus\"] = factory(require(\"Lavender\"));\n\telse\n\t\troot[\"Lotus\"] = factory(root[\"Lavender\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 33);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/1/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPart = (function (_super) {\r\n    __extends(SkinPart, _super);\r\n    function SkinPart(label, instance, attribute) {\r\n        var _this = _super.call(this) || this;\r\n        _this._label = label;\r\n        _this._instance = instance;\r\n        _this._attribute = attribute;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SkinPart.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SkinPart.prototype, \"element\", {\r\n        get: function () {\r\n            return this._instance[this._attribute];\r\n        },\r\n        set: function (val) {\r\n            this._instance[this._attribute] = val;\r\n            this.notify(val, 'element');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SkinPart;\r\n}(Lavender.Subject));\r\nexports.SkinPart = SkinPart;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPartList_1 = __webpack_require__(22);\r\nvar ComponentEvent_1 = __webpack_require__(3);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar AbstractComponent = (function (_super) {\r\n    __extends(AbstractComponent, _super);\r\n    function AbstractComponent() {\r\n        var _this = _super.call(this) || this;\r\n        _this._ready = false;\r\n        _this._id = Math.random();\r\n        _this._skinParts = new SkinPartList_1.SkinPartList();\r\n        Lavender.ObjectUtils.mixin(Lavender.EventDispatcher, AbstractComponent, _this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractComponent.prototype, \"element\", {\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        set: function (val) {\r\n            this._element = val;\r\n            if (this._element !== null && this._element !== undefined) {\r\n                this._element.getComponentInstance = this.getComponentInstance.bind(this);\r\n            }\r\n            this.notify(val, 'element');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        set: function (val) {\r\n            this._context = val;\r\n            this.notify(val, 'context');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"ready\", {\r\n        get: function () {\r\n            return this._ready;\r\n        },\r\n        set: function (val) {\r\n            this._ready = val;\r\n            this.notify(val, 'ready');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        set: function (val) {\r\n            this._id = val;\r\n            this.notify(val, 'id');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"skinParts\", {\r\n        get: function () {\r\n            return this._skinParts;\r\n        },\r\n        set: function (val) {\r\n            this._skinParts = val;\r\n            this.notify(val, 'skinParts');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractComponent.prototype.init = function () {\r\n        this.addAttributes();\r\n        this.defineSkinParts();\r\n        this.addSkinParts();\r\n    };\r\n    AbstractComponent.prototype.addAttributes = function () {\r\n        for (var i = 0; i < this.element.attributes.length; i++) {\r\n            var attribute = this.element.attributes[i];\r\n            if (attribute.name.indexOf('attribute') >= 0) {\r\n                var index = attribute.name.indexOf('attribute') + 10;\r\n                var newProp = attribute.name.substring(index); //remove prefix\r\n                //convert dashes to camel case\r\n                //LEGACY: using the data- prefix should trigger camel case on dash automagically\r\n                var camelCased = newProp.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n                var properties = this.getAllPropertyNames(this);\r\n                if (properties.indexOf(camelCased) >= 0) {\r\n                    this[camelCased] = attribute.value;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    AbstractComponent.prototype.getAllPropertyNames = function (obj, iterateSelfBool, iteratePrototypeBool) {\r\n        if (iterateSelfBool === void 0) { iterateSelfBool = true; }\r\n        if (iteratePrototypeBool === void 0) { iteratePrototypeBool = true; }\r\n        var props = [];\r\n        do {\r\n            if (iterateSelfBool) {\r\n                Object.getOwnPropertyNames(obj).forEach(function (prop) {\r\n                    if (props.indexOf(prop) === -1) {\r\n                        props.push(prop);\r\n                    }\r\n                });\r\n            }\r\n            if (!iteratePrototypeBool) {\r\n                break;\r\n            }\r\n            iterateSelfBool = true;\r\n        } while (obj = Object.getPrototypeOf(obj));\r\n        return props;\r\n    };\r\n    AbstractComponent.prototype.addSkinParts = function () {\r\n        if (this.element.getAttribute('data-skin-part') !== null && this.element.getAttribute('data-skin-part') !== undefined) {\r\n            this.addSkinPart(this.element.getAttribute('data-skin-part'), this.element);\r\n        }\r\n        var skinPartsNodeList = this.element.querySelectorAll('[data-skin-part]');\r\n        for (var i = 0; i < skinPartsNodeList.length; i++) {\r\n            // iterate over matches\r\n            //call addSkinPart on the component passing skin part attribute value and the element\r\n            this.addSkinPart(skinPartsNodeList[i].getAttribute('data-skin-part'), skinPartsNodeList[i]);\r\n        }\r\n    };\r\n    AbstractComponent.prototype.addSkinPart = function (part, element) {\r\n        //skip undefined skin parts\r\n        if (this.skinParts.skinPartsByLabel[part] === null || this.skinParts.skinPartsByLabel[part] === undefined) {\r\n            return null;\r\n        }\r\n        //assign the skin part\r\n        this.skinParts.skinPartsByLabel[part].element = element;\r\n        //notify\r\n        this.onSkinPartAdded(part, this.skinParts.skinPartsByLabel[part].element);\r\n    };\r\n    AbstractComponent.prototype.onReady = function () {\r\n        this.ready = true;\r\n        this.dispatch(new ComponentEvent_1.ComponentEvent(ComponentEvent_1.ComponentEvent.READY));\r\n    };\r\n    AbstractComponent.prototype.getComponentInstance = function () {\r\n        return this;\r\n    };\r\n    AbstractComponent.prototype.created = function (element) {\r\n        console.log('AbstractComponent.created called');\r\n        this.element = element;\r\n        this.init();\r\n        this.onReady();\r\n    };\r\n    AbstractComponent.prototype.destroy = function () {\r\n        this.removeEventListeners();\r\n        this.binder.unbindAll();\r\n        this.binder = null;\r\n        this.element = null;\r\n        this.id = null;\r\n    };\r\n    //stub methods below\r\n    AbstractComponent.prototype.defineSkinParts = function () {\r\n    };\r\n    AbstractComponent.prototype.onSkinPartAdded = function (part, element) {\r\n    };\r\n    AbstractComponent.prototype.inserted = function (element) {\r\n        console.log('AbstractComponent.inserted called');\r\n    };\r\n    AbstractComponent.prototype.removed = function (element) {\r\n        console.log('AbstractComponent.removed called');\r\n    };\r\n    AbstractComponent.prototype.attributeChanged = function (element) {\r\n        console.log('AbstractComponent.attributeChanged called');\r\n    };\r\n    AbstractComponent.prototype.addEventListeners = function () {\r\n    };\r\n    AbstractComponent.prototype.removeEventListeners = function () {\r\n    };\r\n    return AbstractComponent;\r\n}(Lavender.Subject));\r\nexports.AbstractComponent = AbstractComponent;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/31/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentEvent = (function (_super) {\r\n    __extends(ComponentEvent, _super);\r\n    function ComponentEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    ComponentEvent.prototype.clone = function (type, payload) {\r\n        return new ComponentEvent(this.type, this.payload);\r\n    };\r\n    ComponentEvent.READY = 'lotusComponentReady';\r\n    return ComponentEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ComponentEvent = ComponentEvent;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/31/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ItemViewEvent = (function (_super) {\r\n    __extends(ItemViewEvent, _super);\r\n    function ItemViewEvent(type, payload) {\r\n        var _this = _super.call(this, type, payload) || this;\r\n        if (type == ItemViewEvent.ITEM_SELECTED && (!payload.hasOwnProperty('item') || payload['item'] === null || payload['item'] === undefined)) {\r\n            throw new Error('Lotus.ItemViewEvent payload.item is required');\r\n        }\r\n        return _this;\r\n    }\r\n    ItemViewEvent.prototype.clone = function (type, payload) {\r\n        return new ItemViewEvent(this.type, this.payload);\r\n    };\r\n    ItemViewEvent.ITEM_SELECTED = 'itemViewItemSelected';\r\n    ItemViewEvent.ITEM_DESELECTED = 'itemViewItemDeselected';\r\n    ItemViewEvent.REMOVE_ITEM = 'itemViewRemoveItem';\r\n    return ItemViewEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ItemViewEvent = ItemViewEvent;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\n/**\r\n * Created by dsmiley on 7/27/17.\r\n */\r\nvar HttpServiceFactory = (function () {\r\n    function HttpServiceFactory() {\r\n        if (HttpServiceFactory.INSTANCE != null) {\r\n            throw ('HttpServiceFactory.INSTANCE: Singleton class has already been instantiated');\r\n        }\r\n        else {\r\n            //perform any required object set up\r\n        }\r\n    }\r\n    HttpServiceFactory.getInstance = function () {\r\n        if (HttpServiceFactory.INSTANCE == null) {\r\n            HttpServiceFactory.INSTANCE = new HttpServiceFactory();\r\n        }\r\n        return HttpServiceFactory.INSTANCE;\r\n    };\r\n    //override this method to return custon IService implementations\r\n    HttpServiceFactory.prototype.getHttpService = function (code) {\r\n        if (code === void 0) { code = 'Lavender.XhrHttpService'; }\r\n        var httpService;\r\n        switch (code) {\r\n            case \"Lavender.XhrHttpService\":\r\n            default:\r\n                httpService = new Lavender.XhrHttpService();\r\n                break;\r\n        }\r\n        return httpService;\r\n    };\r\n    HttpServiceFactory.INSTANCE = null;\r\n    return HttpServiceFactory;\r\n}());\r\nexports.HttpServiceFactory = HttpServiceFactory;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentEvent_1 = __webpack_require__(3);\r\nvar InjectorDecorator_1 = __webpack_require__(7);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar AbstractMediator = (function (_super) {\r\n    __extends(AbstractMediator, _super);\r\n    function AbstractMediator(componentInstance, context) {\r\n        var _this = _super.call(this) || this;\r\n        _this.id = Lavender.UuidUtils.generateUUID();\r\n        _this.componentInstance = componentInstance;\r\n        _this.context = context;\r\n        if (!_this.componentInstance.ready) {\r\n            _this.componentInstance.addEventListener(ComponentEvent_1.ComponentEvent.READY, _this, 'init');\r\n        }\r\n        else {\r\n            _this.init();\r\n        }\r\n        return _this;\r\n        /*\r\n        if(this.resolveInjections){\r\n            //TODO: move this method to a decorator that sets up this.resolveInjections as an accessor and adds this functionality to the contructor\r\n            this.resolveInjections.forEach(function(value:injectionResolver, index:number){\r\n                var instane:any = this.context.injector.inject(value.type);\r\n                if(instane){\r\n                    this[value.property] = instane;\r\n                }\r\n            }.bind(this));\r\n        }\r\n        */\r\n    }\r\n    Object.defineProperty(AbstractMediator.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        set: function (value) {\r\n            this._id = value;\r\n            this.notify(value, 'id');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractMediator.prototype, \"componentInstance\", {\r\n        get: function () {\r\n            return this._componentInstance;\r\n        },\r\n        set: function (value) {\r\n            this._componentInstance = value;\r\n            this.notify(value, 'componentInstance');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractMediator.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        set: function (value) {\r\n            this._context = value;\r\n            this.notify(value, 'context');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractMediator.prototype.addEventListeners = function () {\r\n    };\r\n    AbstractMediator.prototype.removeEventListeners = function () {\r\n        if (this.componentInstance.canListen(ComponentEvent_1.ComponentEvent.READY, this, 'init')) {\r\n            this.componentInstance.removeEventListener(ComponentEvent_1.ComponentEvent.READY, this, 'init');\r\n        }\r\n    };\r\n    AbstractMediator.prototype.setUpBindings = function () {\r\n    };\r\n    AbstractMediator.prototype.removeBindings = function () {\r\n        this.binder.unbindAll();\r\n    };\r\n    AbstractMediator.prototype.toString = function () {\r\n        return this.id;\r\n    };\r\n    AbstractMediator.prototype.init = function () {\r\n        this.addEventListeners();\r\n        this.setUpBindings();\r\n    };\r\n    AbstractMediator.prototype.destroy = function () {\r\n        this.removeEventListeners();\r\n        this.removeBindings();\r\n        this.id = null;\r\n        this.componentInstance = null;\r\n    };\r\n    AbstractMediator = __decorate([\r\n        InjectorDecorator_1.injectable,\r\n        __metadata(\"design:paramtypes\", [Object, Object])\r\n    ], AbstractMediator);\r\n    return AbstractMediator;\r\n}(Lavender.Subject));\r\nexports.AbstractMediator = AbstractMediator;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/30/17.\r\n */\r\n__webpack_require__(35);\r\nfunction inject(target, key) {\r\n    //set target[key] equal to a new instance of the mapped constructor of target's type\r\n    var t = Reflect.getMetadata('design:type', target, key);\r\n    if (!t) {\r\n        // Needed to support react native inheritance\r\n        t = Reflect.getMetadata('design:type', target.constructor, key);\r\n    }\r\n    if (!target['resolveInjections']) {\r\n        target['resolveInjections'] = new Array();\r\n    }\r\n    target['resolveInjections'].push({ property: key, type: t });\r\n    //TODO:see if we can overrite the constructor in target to include the code in AbstractMediator that resolves injections\r\n    console.log('key: ' + key);\r\n    console.log('t.name: ' + t.name);\r\n    console.log('target.constructor.name: ' + target.constructor.name);\r\n    console.log('target.constructor.prototype: ' + target.constructor.prototype);\r\n}\r\nexports.inject = inject;\r\nfunction injectable(target) {\r\n    // the new constructor behaviour\r\n    var f = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        Object.getPrototypeOf(this.constructor.prototype).constructor.apply(this, args);\r\n        console.log(\"injectable constructor called, attempting to resolve injections: \" + this.constructor.prototype);\r\n        if (this.resolveInjections) {\r\n            console.log(\"injections found!!!!: \");\r\n            //TODO: move this method to a decorator that sets up this.resolveInjections as an accessor and adds this functionality to the contructor\r\n            this.resolveInjections.forEach(function (value, index) {\r\n                var instance = this.context.injector.inject(value.type);\r\n                if (instance) {\r\n                    this[value.property] = instance;\r\n                }\r\n            }.bind(this));\r\n        }\r\n        return this;\r\n    };\r\n    // copy prototype so intanceof operator still works\r\n    f.prototype = target.prototype;\r\n    return f;\r\n}\r\nexports.injectable = injectable;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CommandMap = (function () {\r\n    function CommandMap(context) {\r\n        //Note: this could be improved by creating read only accessor methods for instanceMap and eventFunctionMap\r\n        this.eventFunctionMap = {};\r\n        this.instanceMap = {};\r\n        this.context = context;\r\n    }\r\n    CommandMap.prototype.addCommand = function (eventType, handler, functionName, useSingleton) {\r\n        if (functionName === void 0) { functionName = 'execute'; }\r\n        if (useSingleton === void 0) { useSingleton = false; }\r\n        if (this.eventFunctionMap[eventType] === null || this.eventFunctionMap[eventType] === undefined) {\r\n            this.eventFunctionMap[eventType] = [];\r\n        }\r\n        if (this.hasCommandMap(eventType, handler, functionName)) {\r\n            return; //don't add the handler/function twice\r\n        }\r\n        this.eventFunctionMap[eventType].push({ eventType: eventType, handler: handler, functionName: functionName, useSingleton: useSingleton });\r\n        if (useSingleton) {\r\n            if (this.instanceMap[eventType] === null || this.instanceMap[eventType] === undefined) {\r\n                this.instanceMap[eventType] = {};\r\n            }\r\n            if (this.instanceMap[eventType][handler] === null || this.instanceMap[eventType][handler] === undefined) {\r\n                this.instanceMap[eventType][handler] = new handler(this.context);\r\n            }\r\n        }\r\n        if (!this.context.eventDispatcher.canListen(eventType, this, 'routeEventToCommand')) {\r\n            this.context.eventDispatcher.addEventListener(eventType, this, 'routeEventToCommand');\r\n        }\r\n    };\r\n    CommandMap.prototype.hasCommandMap = function (eventType, handler, functionName) {\r\n        var hasCommand = false;\r\n        if (this.eventFunctionMap[eventType] !== null && this.eventFunctionMap[eventType] !== undefined) {\r\n            var mapArray = this.eventFunctionMap[eventType];\r\n            for (var itemIndex = 0; itemIndex < mapArray.length; itemIndex++) {\r\n                var item = mapArray[itemIndex];\r\n                if (item.handler == handler && item.functionName == functionName) {\r\n                    hasCommand = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return hasCommand;\r\n    };\r\n    CommandMap.prototype.removeCommand = function (eventType, handler) {\r\n        if (this.eventFunctionMap[eventType] !== null && this.eventFunctionMap[eventType] !== undefined) {\r\n            var mapArray = this.eventFunctionMap[eventType];\r\n            for (var itemIndex = mapArray.length - 1; itemIndex >= 0; itemIndex--) {\r\n                var item = mapArray[itemIndex];\r\n                if (item.handler == handler) {\r\n                    //remove the item form the array\r\n                    switch (itemIndex) {\r\n                        case 0:\r\n                            mapArray.shift();\r\n                            break;\r\n                        case mapArray.length - 1:\r\n                            mapArray.pop();\r\n                            break;\r\n                        default:\r\n                            var head = mapArray.slice(0, itemIndex);\r\n                            var tail = mapArray.slice(itemIndex + 1);\r\n                            mapArray = head.concat(tail);\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            if (this.eventFunctionMap[eventType].length <= 0) {\r\n                this.context.eventDispatcher.removeEventListener(eventType, this, 'routeEventToCommand');\r\n                delete this.eventFunctionMap[eventType];\r\n            }\r\n        }\r\n    };\r\n    CommandMap.prototype.removeAllCommands = function () {\r\n        this.eventFunctionMap = {};\r\n        this.instanceMap = {};\r\n        this.context.eventDispatcher.removeAllEventListeners(this);\r\n    };\r\n    CommandMap.prototype.routeEventToCommand = function (event) {\r\n        if (this.eventFunctionMap[event.type] !== null && this.eventFunctionMap[event.type] !== undefined) {\r\n            var mapArray = this.eventFunctionMap[event.type];\r\n            for (var itemIndex = 0; itemIndex < mapArray.length; itemIndex++) {\r\n                var item = mapArray[itemIndex];\r\n                if (item.useSingleton) {\r\n                    this.instanceMap[item.event.type][item.handler][item.functionName]();\r\n                }\r\n                else {\r\n                    var instance = void 0;\r\n                    if (typeof item.handler === 'object') {\r\n                        instance = item.handler;\r\n                    }\r\n                    else {\r\n                        //IMPORTANT: only constructor function will get the context! This is by design as it's assumed preconstructed objects have all required dependencies\r\n                        instance = new item.handler(this.context);\r\n                    }\r\n                    instance[item.functionName](event);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return CommandMap;\r\n}());\r\nexports.CommandMap = CommandMap;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentList = (function (_super) {\r\n    __extends(ComponentList, _super);\r\n    function ComponentList() {\r\n        var _this = _super.call(this) || this;\r\n        _this.instancesByConstructor = {};\r\n        return _this;\r\n    }\r\n    ComponentList.prototype.addToHash = function (object) {\r\n        if (this.instancesByConstructor[object.constructor] === null || this.instancesByConstructor[object.constructor] === undefined) {\r\n            this.instancesByConstructor[object.constructor] = [];\r\n        }\r\n        this.instancesByConstructor[object.constructor].push(object);\r\n    };\r\n    ComponentList.prototype.removeItemFromHash = function (hash, object) {\r\n        var objects = hash[object.constructor];\r\n        if (objects === null || objects === undefined || objects.length < 1) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < objects.length; i++) {\r\n            if (objects[i] == object) {\r\n                //remove the item from the array\r\n                switch (i) {\r\n                    case 0:\r\n                        objects.shift();\r\n                        break;\r\n                    case objects.length - 1:\r\n                        objects.pop();\r\n                        break;\r\n                    default:\r\n                        var head = objects.slice(0, i);\r\n                        var tail = objects.slice(i + 1);\r\n                        objects = head.concat(tail);\r\n                        break;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    ComponentList.prototype.addItem = function (object, hash, key) {\r\n        var index = _super.prototype.addItem.call(this, object, hash, key);\r\n        //populate hash\r\n        this.addToHash(object);\r\n        return index;\r\n    };\r\n    ComponentList.prototype.clear = function () {\r\n        _super.prototype.clearHash.call(this, this.instancesByConstructor);\r\n        _super.prototype.clear.call(this);\r\n    };\r\n    ComponentList.prototype.removeItemAt = function (index) {\r\n        var object = this.getItemAt(index);\r\n        this.removeItemFromHash(this.instancesByConstructor, object);\r\n        _super.prototype.removeItemAt.call(this, index);\r\n    };\r\n    ComponentList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        var returnValue = _super.prototype.insert.call(this, object, index, suppressChangeEvent, hash, key, replaceIndex);\r\n        this.addToHash(object);\r\n        return returnValue;\r\n    };\r\n    return ComponentList;\r\n}(Lavender.ArrayList));\r\nexports.ComponentList = ComponentList;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentList_1 = __webpack_require__(9);\r\n/**\r\n * Created by dsmiley on 7/25/17.\r\n */\r\nvar ComponentMap = (function () {\r\n    function ComponentMap(context) {\r\n        this.context = context;\r\n        this.componentInstances = new ComponentList_1.ComponentList();\r\n        this.tagInstanceToRequestId = {};\r\n    }\r\n    ComponentMap.prototype.success = function (result) {\r\n        var tagInstance = this.tagInstanceToRequestId[result.requestId];\r\n        var div = document.createElement('div');\r\n        div.innerHTML = result.resultObj;\r\n        //clone the contents\r\n        var clone = document.importNode(div.childNodes[0].content, true);\r\n        //select the root component node\r\n        var component = clone.querySelector(tagInstance.getAttribute('data-component-root'));\r\n        component.lotusComponentInstance = tagInstance.lotusComponentInstance;\r\n        //create a shadow host from the tag instance and append the clone to it\r\n        var host = tagInstance.createShadowRoot();\r\n        host.appendChild(clone);\r\n        //pass along the root component node to the view component\r\n        this.createComponent(component);\r\n        //Scope styles to the tag. This appends the tag's nodeName to all styles to simulate DOM encapsulation, however it will not shield the shadowDOM from selectors in the lightDOM. This is not possible with pollyfills at this time.\r\n        //Note window.WebComponents is added by bower web components core. shimStyling is used by polyfills\r\n        if (window['WebComponents'] && window['WebComponents'].ShadowCSS) {\r\n            window['WebComponents'].ShadowCSS.shimStyling(host, tagInstance.nodeName);\r\n        }\r\n    };\r\n    ComponentMap.prototype.fault = function (fault) {\r\n        console.log(fault);\r\n        throw new Error('Could not load template. Please check you defined the correct path.');\r\n    };\r\n    ComponentMap.prototype.onProgress = function (progress) {\r\n    };\r\n    ComponentMap.prototype.addComponent = function (tagInstance, functionConstructor) {\r\n        // fired once at the time a component\r\n        // is initially created or parsed\r\n        if (tagInstance.lotusComponentInstance === null || tagInstance.lotusComponentInstance === undefined) {\r\n            tagInstance.lotusComponentInstance = new functionConstructor();\r\n            this.componentInstances.addItem(tagInstance.lotusComponentInstance);\r\n        }\r\n        //trigger mediator assignment if any\r\n        this.context.mediatorMap.apply(tagInstance.tagName.toLowerCase(), tagInstance.lotusComponentInstance);\r\n        //if the tag instance defines a scr attribute load the template and set up the shadow DOM\r\n        var src = tagInstance.getAttribute('data-template-url');\r\n        if (src !== null && src !== undefined) {\r\n            var httpService = new Lavender.XhrHttpService();\r\n            httpService.addResponder(this);\r\n            httpService.send('GET', src, null, 'text/html', 'text', true);\r\n            this.tagInstanceToRequestId[httpService.requestId] = tagInstance;\r\n            return;\r\n        }\r\n        this.createComponent(tagInstance);\r\n    };\r\n    ComponentMap.prototype.createComponent = function (tagInstance) {\r\n        tagInstance.lotusComponentInstance.created(tagInstance);\r\n    };\r\n    ComponentMap.prototype.mapComponent = function (tagName, prototype, functionConstructor, framework) {\r\n        if (!framework) {\r\n            framework = xtag;\r\n        }\r\n        var componentMap = this;\r\n        var lifecycle = {\r\n            created: function () {\r\n                //IMPORTANT:, use builder patter here and create an add component function\r\n                componentMap.addComponent(this, functionConstructor);\r\n            },\r\n            inserted: function () {\r\n                // fired each time a component\r\n                // is inserted into the DOM\r\n                this.lotusComponentInstance.inserted(this);\r\n            },\r\n            removed: function () {\r\n                // fired each time an element\r\n                // is removed from DOM\r\n                this.lotusComponentInstance.removed(this);\r\n            },\r\n            attributeChanged: function (attrName, oldValue, newValue) {\r\n                // fired when attributes are set\r\n                this.lotusComponentInstance.attributeChanged(this);\r\n            }\r\n        };\r\n        var definition = {\r\n            // extend existing elements\r\n            prototype: prototype,\r\n            lifecycle: lifecycle\r\n        };\r\n        framework.register(tagName, definition);\r\n    };\r\n    return ComponentMap;\r\n}());\r\nexports.ComponentMap = ComponentMap;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Injector = (function () {\r\n    function Injector(context) {\r\n        this.typeMap = [];\r\n        this.context = context;\r\n        this.objectMap = {};\r\n    }\r\n    Injector.prototype.mapObject = function (key, constructor, useSingleton) {\r\n        if (useSingleton === void 0) { useSingleton = false; }\r\n        if (typeof key == 'function') {\r\n            var mapIndex = -1;\r\n            this.typeMap.forEach(function (value, index) {\r\n                if (value.constructor == constructor) {\r\n                    mapIndex = index;\r\n                    return false;\r\n                }\r\n            });\r\n            //TODO:refactror to overrite index\r\n            if (mapIndex < 0) {\r\n                this.typeMap.push({ constructor: constructor, useSingleton: useSingleton, instance: null, type: key });\r\n            }\r\n        }\r\n        else {\r\n            //instantiate singleton instance upon request is more efficient\r\n            this.objectMap[key] = { constructor: constructor, useSingleton: useSingleton, instance: null };\r\n        }\r\n    };\r\n    Injector.prototype.mapSingletonInstance = function (key, instance) {\r\n        if (typeof key == 'function') {\r\n            var mapIndex = -1;\r\n            this.typeMap.forEach(function (value, index) {\r\n                if (value.instance == instance) {\r\n                    mapIndex = index;\r\n                    return false;\r\n                }\r\n            });\r\n            //TODO:refactror to overrite index\r\n            if (mapIndex < 0) {\r\n                this.typeMap.push({ constructor: null, useSingleton: true, instance: instance });\r\n            }\r\n        }\r\n        else {\r\n            //map injector as sigleton using the supplied instance\r\n            //this method is very useful for mapping objects that are themselves singletons and may have already been constructed\r\n            //prime example is the model wich generally is constructed before injections are defined\r\n            this.objectMap[key] = { constructor: null, useSingleton: true, instance: instance };\r\n        }\r\n    };\r\n    Injector.prototype.inject = function (key) {\r\n        if (typeof key == 'function') {\r\n            var map;\r\n            this.typeMap.forEach(function (value, index) {\r\n                if (value.type == key || value.instance instanceof key) {\r\n                    map = value;\r\n                    return false;\r\n                }\r\n            });\r\n            if (map) {\r\n                if (map['useSingleton']) {\r\n                    if (map['instance'] === null) {\r\n                        map['instance'] = new map.constructor();\r\n                    }\r\n                    return map['instance'];\r\n                }\r\n                else {\r\n                    return new map.constructor();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this.objectMap[key] !== null && this.objectMap[key] !== undefined) {\r\n                if (this.objectMap[key].useSingleton) {\r\n                    if (this.objectMap[key].instance === null) {\r\n                        this.objectMap[key].instance = new this.objectMap[key].constructor();\r\n                    }\r\n                    return this.objectMap[key].instance;\r\n                }\r\n                else {\r\n                    return new this.objectMap[key].constructor();\r\n                }\r\n            }\r\n        }\r\n        throw new Error('Lotus.Injector.prototype.getObject: could not find object for key: ' + key);\r\n    };\r\n    return Injector;\r\n}());\r\nexports.Injector = Injector;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar MediatorMap = (function () {\r\n    function MediatorMap(context) {\r\n        //Note: this could be improved by creating read only accessor methods for tagMap and eventFunctionMap\r\n        this._tagConstructorMap = {};\r\n        this._mediatorInstanceMap = {};\r\n        this.context = context;\r\n    }\r\n    Object.defineProperty(MediatorMap.prototype, \"tagConstructorMap\", {\r\n        get: function () {\r\n            return this._tagConstructorMap;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(MediatorMap.prototype, \"mediatorInstanceMap\", {\r\n        get: function () {\r\n            return this._mediatorInstanceMap;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MediatorMap.prototype.add = function (tagName, mediatorConstructor, useSingleton) {\r\n        if (useSingleton === void 0) { useSingleton = false; }\r\n        if (this.hasMediatorMap(tagName, mediatorConstructor)) {\r\n            return; //don't add the mediatorConstructor/function twice\r\n        }\r\n        this.tagConstructorMap[tagName] = { useSingleton: useSingleton, constructor: mediatorConstructor, id: Lavender.UuidUtils.generateUUID(), name: mediatorConstructor.toString() };\r\n    };\r\n    MediatorMap.prototype.remove = function (tagName, mediatorConstructor) {\r\n        if (!this.hasMediatorMap(tagName, mediatorConstructor)) {\r\n            return; //don't add the mediatorConstructor/function twice\r\n        }\r\n        var mapId = this.tagConstructorMap[tagName].id;\r\n        this.tagConstructorMap[tagName] = null;\r\n        delete this.tagConstructorMap[tagName];\r\n        if (this._mediatorInstanceMap[mapId] === null || this._mediatorInstanceMap[mapId] === undefined) {\r\n            return; //mo mediators were applied to this mapping\r\n        }\r\n        //iterate in reverse over all instance and destroy\r\n        for (var i = 0; i < this._mediatorInstanceMap[mapId].length; i++) {\r\n            this._mediatorInstanceMap[mapId][i].destroy();\r\n        }\r\n        //make the array eligible for garbage collection\r\n        this._mediatorInstanceMap[mapId] = null;\r\n        delete this._mediatorInstanceMap[mapId];\r\n        return mapId; //return mapId to help enable better tests\r\n    };\r\n    MediatorMap.prototype.apply = function (tagName, componentInstance) {\r\n        var map = this.tagConstructorMap[tagName];\r\n        if (!map) {\r\n            return; //no mediator found for this tag\r\n        }\r\n        if (this._mediatorInstanceMap[map.id] === null || this._mediatorInstanceMap[map.id] === undefined) {\r\n            this._mediatorInstanceMap[map.id] = [];\r\n        }\r\n        if (map.useSingleton) {\r\n            if (this._mediatorInstanceMap[map.id].length == 0) {\r\n                this._mediatorInstanceMap[map.id].push(new map.constructor(componentInstance, this.context));\r\n            }\r\n        }\r\n        else {\r\n            this._mediatorInstanceMap[map.id].push(new map.constructor(componentInstance, this.context));\r\n        }\r\n    };\r\n    MediatorMap.prototype.hasMediatorMap = function (tagName, mediatorConstructor) {\r\n        return (this.tagConstructorMap.hasOwnProperty(tagName) && this.tagConstructorMap[tagName].name == mediatorConstructor.toString());\r\n    };\r\n    return MediatorMap;\r\n}());\r\nexports.MediatorMap = MediatorMap;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ActionSuccessEvent_1 = __webpack_require__(15);\r\nvar ActionErrorEvent_1 = __webpack_require__(14);\r\n/**\r\n * Created by dsmiley on 7/28/17.\r\n */\r\nvar AbstractCommand = (function (_super) {\r\n    __extends(AbstractCommand, _super);\r\n    function AbstractCommand(context) {\r\n        var _this = _super.call(this) || this;\r\n        _this.context = context;\r\n        _this.service = context.injector.inject('service');\r\n        _this.parser = context.injector.inject('parser');\r\n        _this.opModel = context.injector.inject('opModel');\r\n        _this.errorModel = context.injector.inject('errorModel');\r\n        return _this;\r\n    }\r\n    AbstractCommand.prototype.execute = function (event) {\r\n        if (this.service === null || this.service === undefined || this.opModel === null || this.opModel === undefined || this.parser === null || this.parser === undefined) {\r\n            this.executionError();\r\n        }\r\n        this.opModel.asyncOperationComplete = false;\r\n        this.opModel.asyncOperationCount += 1;\r\n        return this.executeServiceMethod();\r\n    };\r\n    //method must return a requestID\r\n    //Override this method in subclasses\r\n    AbstractCommand.prototype.executeServiceMethod = function () {\r\n        return null;\r\n    };\r\n    //Override this method in subclasses\r\n    //it should parse the result and return the resulting Object tree\r\n    AbstractCommand.prototype.parseResponse = function (result) {\r\n        return null;\r\n    };\r\n    AbstractCommand.prototype.dispatchSuccess = function (parsedResult) {\r\n        var doneEvent = new ActionSuccessEvent_1.ActionSuccessEvent(ActionSuccessEvent_1.ActionSuccessEvent.SUCCESS, { result: parsedResult });\r\n        this.dispatch(doneEvent);\r\n    };\r\n    AbstractCommand.prototype.success = function (result) {\r\n        try {\r\n            //result is instance of Lavender.HttpSuccess\r\n            var parsedResult = this.parseResponse(result);\r\n            this.dispatchSuccess(parsedResult);\r\n        }\r\n        catch (e) {\r\n            var errorMessage = this.getErrorMessage() + \"\\n\" + e.message + \"\\n\" + e.stack;\r\n            var errorEvent = new ActionErrorEvent_1.ActionErrorEvent(ActionErrorEvent_1.ActionErrorEvent.ERROR, { message: errorMessage });\r\n            this.dispatch(errorEvent);\r\n            var error = { name: 'error', message: errorMessage };\r\n            this.errorModel.errors.addItem(error);\r\n            this.errorModel.appError = true;\r\n        }\r\n        finally {\r\n            this.opModel.asyncOperationCount -= 1;\r\n            if (this.opModel.asyncOperationCount == 0) {\r\n                this.opModel.asyncOperationComplete = true;\r\n            }\r\n            this.destroy();\r\n        }\r\n    };\r\n    AbstractCommand.prototype.fault = function (fault) {\r\n        //fault is an instance of Lavender.HttpFault\r\n        this.opModel.asyncOperationCount -= 1;\r\n        if (this.opModel.asyncOperationCount == 0) {\r\n            this.opModel.asyncOperationComplete = true;\r\n        }\r\n        var errorMessage = this.getFaultString() + fault.message;\r\n        var errorEvent = new ActionErrorEvent_1.ActionErrorEvent(ActionErrorEvent_1.ActionErrorEvent.ERROR, { message: errorMessage });\r\n        this.dispatch(errorEvent);\r\n        var error = { name: fault.status, message: errorMessage };\r\n        this.errorModel.errors.addItem(error);\r\n        this.errorModel.appError = true;\r\n        this.destroy();\r\n    };\r\n    //Override this method in subclasses\r\n    AbstractCommand.prototype.onProgress = function (progress) {\r\n    };\r\n    //Override this method in subclasses\r\n    AbstractCommand.prototype.getFaultString = function () {\r\n        return null;\r\n    };\r\n    //Override this method in subclasses\r\n    AbstractCommand.prototype.getErrorMessage = function () {\r\n        return null;\r\n    };\r\n    AbstractCommand.prototype.executionError = function () {\r\n        // These properties weren't injected or supplied in the constructor or manually.\r\n        // They are needed so we throw an error.\r\n        var msg = this.getExecErrorString();\r\n        if (this.service === null || this.service === undefined) {\r\n            msg += \" service\";\r\n        }\r\n        if (this.opModel === null || this.opModel) {\r\n            msg += \", opModel\";\r\n        }\r\n        if (this.parser === null || this.parser === undefined) {\r\n            msg += \", parser\";\r\n        }\r\n        msg += \".\";\r\n        throw new Error(msg);\r\n    };\r\n    //Override this method in subclasses\r\n    AbstractCommand.prototype.getExecErrorString = function () {\r\n        return 'Lavender.AbstractServiceAction.prototype.executionError: the following are required: ';\r\n    };\r\n    AbstractCommand.prototype.destroy = function () {\r\n        if (this.canListen(ActionErrorEvent_1.ActionErrorEvent.ERROR, this, 'onError')) {\r\n            this.removeEventListener(ActionErrorEvent_1.ActionErrorEvent.ERROR, this, 'onError');\r\n        }\r\n        if (this.canListen(ActionSuccessEvent_1.ActionSuccessEvent.SUCCESS, this, 'onSuccess')) {\r\n            this.removeEventListener(ActionSuccessEvent_1.ActionSuccessEvent.SUCCESS, this, 'onSuccess');\r\n        }\r\n        this.context = null;\r\n        this.opModel = null;\r\n        this.service = null;\r\n        this.parser = null;\r\n        this.errorModel = null;\r\n    };\r\n    return AbstractCommand;\r\n}(Lavender.EventDispatcher));\r\nexports.AbstractCommand = AbstractCommand;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/18/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ActionErrorEvent = (function (_super) {\r\n    __extends(ActionErrorEvent, _super);\r\n    function ActionErrorEvent(type, payload) {\r\n        var _this = _super.call(this, type, payload) || this;\r\n        if (!payload || payload.message === null || payload.message === undefined) {\r\n            throw new Error('Lavender.ActionErrorEvent: payload.message is required');\r\n        }\r\n        return _this;\r\n    }\r\n    ActionErrorEvent.prototype.clone = function (type, payload) {\r\n        return new ActionErrorEvent(this.type, this.payload);\r\n    };\r\n    ActionErrorEvent.ERROR = 'actionError';\r\n    return ActionErrorEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ActionErrorEvent = ActionErrorEvent;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 5/18/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ActionSuccessEvent = (function (_super) {\r\n    __extends(ActionSuccessEvent, _super);\r\n    function ActionSuccessEvent(type, payload) {\r\n        var _this = _super.call(this, type, payload) || this;\r\n        if (payload === null || payload === undefined) {\r\n            throw new Error('Lavender.ActionSuccessEvent: payload is required');\r\n        }\r\n        return _this;\r\n    }\r\n    ActionSuccessEvent.prototype.clone = function (type, payload) {\r\n        return new ActionSuccessEvent(this.type, this.payload);\r\n    };\r\n    ActionSuccessEvent.SUCCESS = 'actionSuccess';\r\n    return ActionSuccessEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ActionSuccessEvent = ActionSuccessEvent;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar HttpServiceFactory_1 = __webpack_require__(5);\r\n/**\r\n * Created by dsmiley on 7/27/17.\r\n * This is a sample asynchronous action used in unit tests. It can be used as a template though for all asynch actions\r\n */\r\nvar SampleService = (function (_super) {\r\n    __extends(SampleService, _super);\r\n    function SampleService(config) {\r\n        var _this = _super.call(this) || this;\r\n        _this.config = config;\r\n        _this.serviceMap = (config.hasOwnProperty('serviceMap')) ? config['serviceMap'] :\r\n            {\r\n                'echoJSON': ':3000/echoJSON/key/{0}',\r\n                'localRequest': ':3000/printondemand/1234/photos/{0}'\r\n            };\r\n        return _this;\r\n    }\r\n    SampleService.prototype.getURLWithParams = function (key, args) {\r\n        return (args !== null && args !== undefined) ? Lavender.StringUtil.substitute(this.getURL(key), args) : this.getURL(key);\r\n    };\r\n    SampleService.prototype.getURL = function (key) {\r\n        return this.config.baseUrl + this.serviceMap[key];\r\n    };\r\n    SampleService.prototype.echoJSON = function (jsonKey, key, responder, paramObj, format, contentType, cache) {\r\n        if (paramObj === void 0) { paramObj = {}; }\r\n        if (format === void 0) { format = 'json'; }\r\n        if (contentType === void 0) { contentType = 'application/json'; }\r\n        if (cache === void 0) { cache = false; }\r\n        //this is a sample service method to be used as an example only. You service methods will be dependent on your service API and model objects\r\n        //note the use of the key param. This is a very importnat feature and I highly recommend that whatever service you created implements a similar method\r\n        //don't hard code or otherwise tightly couple the URL creation inside this method. The use of a builder pattern ensures the end point can be changed based on environment\r\n        var url = this.getURLWithParams(key, [jsonKey]);\r\n        return this.sendRequest(true, responder, url, paramObj, format, contentType, cache);\r\n    };\r\n    SampleService.prototype.testRequestUsingIncludedAPI = function (key, responder, format, contentType, cache) {\r\n        if (format === void 0) { format = 'json'; }\r\n        if (contentType === void 0) { contentType = 'application/json'; }\r\n        if (cache === void 0) { cache = false; }\r\n        var url = this.getURLWithParams(key, ['54232fc2-7345-4921-8079']); //hard coded args\r\n        return this.sendRequest(false, responder, url, null, format, contentType, cache);\r\n    };\r\n    SampleService.prototype.sendRequest = function (isPostRequest, responder, url, paramObj, format, contentType, cache) {\r\n        if (paramObj === void 0) { paramObj = {}; }\r\n        if (format === void 0) { format = 'json'; }\r\n        if (contentType === void 0) { contentType = 'application/json'; }\r\n        if (cache === void 0) { cache = false; }\r\n        var params = JSON.stringify(paramObj);\r\n        if (cache === null || cache === undefined) {\r\n            cache = false;\r\n        }\r\n        var httpRequestInstance = HttpServiceFactory_1.HttpServiceFactory.getInstance().getHttpService(this.config.serviceCode);\r\n        httpRequestInstance.addResponder(responder);\r\n        var requestType = (isPostRequest) ? 'POST' : 'GET';\r\n        return httpRequestInstance.send(requestType, url, params, contentType, format, cache);\r\n    };\r\n    return SampleService;\r\n}(Lavender.AbstractHttpService));\r\nexports.SampleService = SampleService;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\n/**\r\n * Created by dsmiley on 7/27/17.\r\n */\r\nvar EventDispatcherFactory = (function () {\r\n    function EventDispatcherFactory() {\r\n        if (EventDispatcherFactory.INSTANCE != null) {\r\n            throw ('EventDispatcherFactory.INSTANCE: Singleton class has already been instantiated');\r\n        }\r\n        else {\r\n            //perform any required object set up\r\n        }\r\n    }\r\n    EventDispatcherFactory.getInstance = function () {\r\n        if (EventDispatcherFactory.INSTANCE == null) {\r\n            EventDispatcherFactory.INSTANCE = new EventDispatcherFactory();\r\n        }\r\n        return EventDispatcherFactory.INSTANCE;\r\n    };\r\n    EventDispatcherFactory.prototype.getEventDispatcher = function (eventDispatcherCode) {\r\n        if (eventDispatcherCode === void 0) { eventDispatcherCode = 'Lavender.EventDispatcher'; }\r\n        var dispatcher;\r\n        //config.daoCode defaults to jquery\r\n        switch (eventDispatcherCode) {\r\n            case \"Lavender.EventDispatcher\":\r\n            default:\r\n                dispatcher = new Lavender.EventDispatcher();\r\n        }\r\n        return dispatcher;\r\n    };\r\n    EventDispatcherFactory.INSTANCE = null;\r\n    return EventDispatcherFactory;\r\n}());\r\nexports.EventDispatcherFactory = EventDispatcherFactory;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/4/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ItemViewEvent_1 = __webpack_require__(4);\r\nvar AbstractCollectionView = (function (_super) {\r\n    __extends(AbstractCollectionView, _super);\r\n    function AbstractCollectionView() {\r\n        var _this = _super.call(this) || this;\r\n        _this._childViews = new Lavender.ArrayList();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"collectionContainer\", {\r\n        get: function () {\r\n            return this._collectionContainer;\r\n        },\r\n        set: function (value) {\r\n            this._collectionContainer = value;\r\n            this.notify(value, 'collectionContainer');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"itemTemplate\", {\r\n        get: function () {\r\n            return this._itemTemplate;\r\n        },\r\n        set: function (value) {\r\n            this._itemTemplate = value;\r\n            this.notify(value, 'itemTemplate');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"selectedItem\", {\r\n        get: function () {\r\n            return this._selectedItem;\r\n        },\r\n        set: function (value) {\r\n            this._selectedItem = value;\r\n            this.notify(value, 'selectedItem');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"collection\", {\r\n        get: function () {\r\n            return this._collection;\r\n        },\r\n        set: function (value) {\r\n            this.removeCollectionEventListeners(); //must occur first\r\n            this._collection = value;\r\n            if (value) {\r\n                this.addCollectionEventListeners();\r\n            } //must occur after line above\r\n            this.notify(value, 'collection');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"childViews\", {\r\n        get: function () {\r\n            return this._childViews;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"itemView\", {\r\n        get: function () {\r\n            return this._itemView;\r\n        },\r\n        set: function (value) {\r\n            this._itemView = value;\r\n            this.notify(value, 'itemView');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractCollectionView.prototype.destroyChildViews = function () {\r\n        for (var i = 0; i < this.childViews.length; i++) {\r\n            this.removeChildView(this.childViews.getItemAt(i));\r\n        }\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            while (this.collectionContainer.firstChild) {\r\n                this.collectionContainer.removeChild(this.collectionContainer.firstChild);\r\n            }\r\n        }\r\n        else {\r\n            //remove child nodes\r\n            while (this.element.firstChild) {\r\n                this.element.removeChild(this.element.firstChild);\r\n            }\r\n        }\r\n        this._childViews = null;\r\n    };\r\n    AbstractCollectionView.prototype.addCollectionEventListeners = function () {\r\n        if (this.collection !== null && this.collection !== undefined) {\r\n            this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeCollectionEventListeners = function () {\r\n        if (this.collection !== null && this.collection !== undefined) {\r\n            this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.onCollectionChange = function (event) {\r\n        switch (event.payload['type']) {\r\n            case 'add':\r\n                this.addChildView(event.payload['item']);\r\n                break;\r\n            case 'remove':\r\n                this.removeChildViewFromModel(event.payload['item']);\r\n                break;\r\n            case 'removeAll':\r\n                this.removeAllChildViews();\r\n                break;\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.createChildView = function (model) {\r\n        var evalClass = eval(this.itemView);\r\n        return new evalClass();\r\n    };\r\n    AbstractCollectionView.prototype.addChildView = function (model) {\r\n        var view = this.createChildView(model);\r\n        //clone the view\r\n        var clone = this.itemTemplate.cloneNode(true);\r\n        view.model = model;\r\n        view.element = clone;\r\n        view.init();\r\n        this.childViews.addItem(view);\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            this.collectionContainer.appendChild(view.element);\r\n        }\r\n        else {\r\n            this.element.appendChild(view.element);\r\n        }\r\n        this.addViewEventListeners(view);\r\n    };\r\n    AbstractCollectionView.prototype.addViewEventListeners = function (view) {\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\r\n    };\r\n    AbstractCollectionView.prototype.removeViewEventListeners = function (view) {\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\r\n    };\r\n    AbstractCollectionView.prototype.onItemSelectedDeselect = function (event) {\r\n        if (this.selectedItem !== null && this.selectedItem !== undefined && this.selectedItem != event.payload['item']) {\r\n            this.selectedItem.resetState();\r\n        }\r\n        this.selectedItem = (event.type == ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED) ? event.payload['item'] : null;\r\n    };\r\n    AbstractCollectionView.prototype.onItemRemove = function (event) {\r\n        var index = this.collection.indexOf(event.payload['item'].model);\r\n        if (index >= 0) {\r\n            this.collection.removeItemAt(index);\r\n        }\r\n    };\r\n    //IMPORTANT: this is a convience method for manual population only, do not bind it to a collection models collection change event as the add event is also fired\r\n    AbstractCollectionView.prototype.addAllChildViews = function (models) {\r\n        for (var i = 0; i < models.length; i++) {\r\n            this.addChildView(models[i]);\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeAllChildViews = function () {\r\n        for (var i = this.childViews.length - 1; i >= 0; i--) {\r\n            this.removeChildView(this.childViews.getItemAt(i));\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeChildView = function (view) {\r\n        this.removeViewEventListeners(view);\r\n        this.removeElement(view.element);\r\n        view.destroy();\r\n        this.childViews.removeItemAt(this.childViews.indexOf(view));\r\n    };\r\n    AbstractCollectionView.prototype.removeElement = function (element) {\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            this.collectionContainer.removeChild(element);\r\n        }\r\n        else {\r\n            this.element.removeChild(element);\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeChildViewFromModel = function (model) {\r\n        //get the view associated with the model\r\n        for (var i = 0; i < this.childViews.length; i++) {\r\n            if (this.childViews.getItemAt(i).model == model) {\r\n                this.removeChildView(this.childViews.getItemAt(i));\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.initCollection = function () {\r\n        //assign a default collection if it has not already been set\r\n        if (this.collection === null || this.collection === undefined) {\r\n            this.collection = this.getCollection();\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.init = function () {\r\n        _super.prototype.init.call(this);\r\n        this.initCollection();\r\n        this.render();\r\n    };\r\n    AbstractCollectionView.prototype.render = function () {\r\n        if (this.itemView === null || this.itemView == undefined) {\r\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\r\n        }\r\n        for (var i = 0; i < this.collection.length; i++) {\r\n            this.addChildView(this.collection.getItemAt(i));\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('collectionContainer', this, 'collectionContainer'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('itemTemplate', this, 'itemTemplate'));\r\n    };\r\n    AbstractCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //required, defines the layout for child views\r\n            case 'itemTemplate':\r\n                element.parentNode.removeChild(element); //remove from the view\r\n                break;\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.getCollection = function () {\r\n        return new Lavender.ArrayList();\r\n    };\r\n    AbstractCollectionView.prototype.destroy = function () {\r\n        this.destroyChildViews();\r\n        _super.prototype.destroy.call(this);\r\n        this.collection = null;\r\n        this.itemView = null;\r\n        this.collectionContainer = null;\r\n        this.itemTemplate = null;\r\n        this.selectedItem = null;\r\n    };\r\n    return AbstractCollectionView;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.AbstractCollectionView = AbstractCollectionView;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\n/**\r\n * Created by dsmiley on 8/4/17.\r\n */\r\nvar AbstractItemView = (function (_super) {\r\n    __extends(AbstractItemView, _super);\r\n    function AbstractItemView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(AbstractItemView.prototype, \"model\", {\r\n        get: function () {\r\n            return this._model;\r\n        },\r\n        set: function (val) {\r\n            this._model = val;\r\n            this.onModelChange(val);\r\n            this.notify(val, 'model');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractItemView.prototype.setElementDisplay = function (element, display) {\r\n        //at some points in the items lifecycle element could be null, se we require this check\r\n        if (element !== null && element !== undefined) {\r\n            element.style.display = display;\r\n        }\r\n    };\r\n    //stub for override\r\n    AbstractItemView.prototype.onModelChange = function (value) {\r\n    };\r\n    //stub for override\r\n    AbstractItemView.prototype.resetState = function () {\r\n    };\r\n    AbstractItemView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.model = null;\r\n    };\r\n    return AbstractItemView;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.AbstractItemView = AbstractItemView;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/23/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar AbstractCollectionView_1 = __webpack_require__(18);\r\nvar AbstractRecordSetCollectionView = (function (_super) {\r\n    __extends(AbstractRecordSetCollectionView, _super);\r\n    function AbstractRecordSetCollectionView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.nextBtn = null;\r\n        _this.pervBtn = null;\r\n        _this.firstBtn = null;\r\n        _this.lastBtn = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"recordSet\", {\r\n        get: function () {\r\n            return this._recordSet;\r\n        },\r\n        set: function (value) {\r\n            this.removeCollectionEventListeners(); //must occur first\r\n            this._recordSet = value;\r\n            this.addCollectionEventListeners(); //must occur after line above\r\n            this.notify(value, 'recordSet');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"navBtnEnabledClass\", {\r\n        get: function () {\r\n            return this._navBtnEnabledClass;\r\n        },\r\n        set: function (value) {\r\n            this._navBtnEnabledClass = value;\r\n            this.notify(value, 'navBtnEnabledClass');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"navBtnDisabledClass\", {\r\n        get: function () {\r\n            return this._navBtnDisabledClass;\r\n        },\r\n        set: function (value) {\r\n            this._navBtnDisabledClass = value;\r\n            this.notify(value, 'navBtnDisabledClass');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"nextBtn\", {\r\n        get: function () {\r\n            return this._nextBtn;\r\n        },\r\n        set: function (value) {\r\n            this._nextBtn = value;\r\n            this.notify(value, 'nextBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"pervBtn\", {\r\n        get: function () {\r\n            return this._pervBtn;\r\n        },\r\n        set: function (value) {\r\n            this._pervBtn = value;\r\n            this.notify(value, 'pervBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"firstBtn\", {\r\n        get: function () {\r\n            return this._firstBtn;\r\n        },\r\n        set: function (value) {\r\n            this._firstBtn = value;\r\n            this.notify(value, 'firstBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"lastBtn\", {\r\n        get: function () {\r\n            return this._lastBtn;\r\n        },\r\n        set: function (value) {\r\n            this._lastBtn = value;\r\n            this.notify(value, 'lastBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractRecordSetCollectionView.prototype.addCollectionEventListeners = function () {\r\n        //IMPORTANT, do not call super, we don't want to listen for collection change events but instead the events below\r\n        if (this.recordSet !== null && this.recordSet !== undefined) {\r\n            this.recordSet.addEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\r\n            this.binder.bind(this.recordSet, 'pageList', this, 'onPageListChange', null, null, 'pageListChaneHandler');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.removeCollectionEventListeners = function () {\r\n        //IMPORTANT, do not call super\r\n        //This method can be called as part of a destroy sequence where the collection is nulled out, so we check for NPE\r\n        if (this.recordSet !== null && this.recordSet !== undefined) {\r\n            //remove old event listeners\r\n            this.recordSet.removeEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\r\n        }\r\n        if (this.binder !== null && this.binder !== undefined) {\r\n            this.binder.unbind('pageListChaneHandler');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onClickHandler = function (event) {\r\n        //event.currentTarget always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\r\n        switch (event.currentTarget.getAttribute('data-skin-part')) {\r\n            case 'nextBtn':\r\n                if (this.recordSet.selectedPage + 1 > this.recordSet.totalPages) {\r\n                    return;\r\n                }\r\n                this.recordSet.selectedPage += 1;\r\n                break;\r\n            case 'pervBtn':\r\n                if (this.recordSet.selectedPage - 1 < 1) {\r\n                    return;\r\n                }\r\n                this.recordSet.selectedPage -= 1;\r\n                break;\r\n            case 'firstBtn':\r\n                this.recordSet.selectedPage = 1;\r\n                break;\r\n            case 'lastBtn':\r\n                this.recordSet.selectedPage = this.recordSet.totalPages;\r\n                break;\r\n        }\r\n        if (this.nextBtn) {\r\n            this.refreshNavButtonDisplay(this.nextBtn, 'next');\r\n        }\r\n        if (this.pervBtn) {\r\n            this.refreshNavButtonDisplay(this.pervBtn, 'prev');\r\n        }\r\n        if (this.firstBtn) {\r\n            this.refreshNavButtonDisplay(this.firstBtn, 'prev');\r\n        }\r\n        if (this.lastBtn) {\r\n            this.refreshNavButtonDisplay(this.lastBtn, 'next');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.refreshNavButtonDisplay = function (button, type) {\r\n        if (button.classList.contains(this.navBtnDisabledClass)) {\r\n            button.classList.remove(this.navBtnDisabledClass);\r\n        }\r\n        if (button.classList.contains(this.navBtnEnabledClass)) {\r\n            button.classList.remove(this.navBtnEnabledClass);\r\n        }\r\n        var classToAdd;\r\n        if (type === 'next') {\r\n            classToAdd = (this.recordSet.selectedPage + 1 > this.recordSet.totalPages) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\r\n        }\r\n        else {\r\n            classToAdd = (this.recordSet.selectedPage - 1 < 1) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\r\n        }\r\n        button.classList.add(classToAdd);\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onResultsChange = function (event) {\r\n        this.render();\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onPageListChange = function (value) {\r\n        this.render();\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.initCollection = function () {\r\n        //assign a default collection if it has not already been set\r\n        if (this.recordSet === null || this.recordSet === undefined) {\r\n            this.recordSet = new Lavender.RecordSet();\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('nextBtn', this, 'nextBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('pervBtn', this, 'pervBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('firstBtn', this, 'firstBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('lastBtn', this, 'lastBtn'));\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //optional container for displaying collection elements\r\n            case 'nextBtn':\r\n                this.nextBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'pervBtn':\r\n                this.pervBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'firstBtn':\r\n                this.firstBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'lastBtn':\r\n                this.lastBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n        }\r\n        //IMPORTANT: you could defined these classes on a sort of dummy skin part defined within the component, or on one of the buttons\r\n        if (element.getAttribute('data-enabledClass') !== null && element.getAttribute('data-enabledClass') !== undefined) {\r\n            this.navBtnEnabledClass = element.getAttribute('data-enabledClass');\r\n        }\r\n        if (element.getAttribute('data-disabled-class') !== null && element.getAttribute('data-disabled-class') !== undefined) {\r\n            this.navBtnDisabledClass = element.getAttribute('data-disabled-class');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.render = function () {\r\n        //IMPORTANT: do not call super!\r\n        if (this.itemView === null || this.itemView == undefined) {\r\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\r\n        }\r\n        //clear the current view\r\n        this.removeAllChildViews();\r\n        if (this.nextBtn) {\r\n            this.refreshNavButtonDisplay(this.nextBtn, 'next');\r\n        }\r\n        if (this.pervBtn) {\r\n            this.refreshNavButtonDisplay(this.pervBtn, 'prev');\r\n        }\r\n        if (this.firstBtn) {\r\n            this.refreshNavButtonDisplay(this.firstBtn, 'prev');\r\n        }\r\n        if (this.lastBtn) {\r\n            this.refreshNavButtonDisplay(this.lastBtn, 'next');\r\n        }\r\n        if (this.recordSet.pageList === null || this.recordSet.pageList === undefined) {\r\n            return;\r\n        }\r\n        //populate the new view using the record set's current page\r\n        for (var i = 0; i < this.recordSet.pageList.length; i++) {\r\n            var model = this.recordSet.pageList.getItemAt(i);\r\n            this.addChildView(model);\r\n        }\r\n        this.selectedItem = null; //reset the selected item state\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.nextBtn) {\r\n            this.nextBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.pervBtn) {\r\n            this.pervBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.firstBtn) {\r\n            this.firstBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.lastBtn) {\r\n            this.lastBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        this.recordSet.destroy();\r\n        this.navBtnEnabledClass = null;\r\n        this.navBtnDisabledClass = null;\r\n        this.nextBtn = null;\r\n        this.pervBtn = null;\r\n        this.firstBtn = null;\r\n        this.lastBtn = null;\r\n        this.recordSet = null;\r\n    };\r\n    return AbstractRecordSetCollectionView;\r\n}(AbstractCollectionView_1.AbstractCollectionView));\r\nexports.AbstractRecordSetCollectionView = AbstractRecordSetCollectionView;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/23/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar AbstractItemView_1 = __webpack_require__(19);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ItemViewEvent_1 = __webpack_require__(4);\r\nvar AbstractThumbnailView = (function (_super) {\r\n    __extends(AbstractThumbnailView, _super);\r\n    function AbstractThumbnailView() {\r\n        var _this = _super.call(this) || this;\r\n        _this._allowDrag = true;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbWidth\", {\r\n        get: function () {\r\n            return this._thumbWidth;\r\n        },\r\n        set: function (value) {\r\n            this._thumbWidth = value;\r\n            this.notify(value, 'thumbWidth');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbHeight\", {\r\n        get: function () {\r\n            return this._thumbHeight;\r\n        },\r\n        set: function (value) {\r\n            this._thumbHeight = value;\r\n            this.notify(value, 'thumbHeight');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbnail\", {\r\n        get: function () {\r\n            return this._thumbnail;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnail = value;\r\n            this.notify(value, 'thumbnail');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbnailContainer\", {\r\n        get: function () {\r\n            return this._thumbnailContainer;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnailContainer = value;\r\n            this.notify(value, 'thumbnailContainer');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"allowDrag\", {\r\n        get: function () {\r\n            return this._allowDrag;\r\n        },\r\n        set: function (value) {\r\n            this._allowDrag = value;\r\n            this.notify(value, 'allowDrag');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractThumbnailView.prototype.sizeImage = function () {\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        var defaultSize = this.getDefaultSize();\r\n        var containerSize = this.getContainerSize();\r\n        var scale = Lavender.ResizeUtils.getScaleToFit(defaultSize, containerSize);\r\n        var width = defaultSize['width'] * scale;\r\n        var height = defaultSize['height'] * scale;\r\n        //console.log(\"width/height \"+width+\"/\"+height)\r\n        this.thumbnail.setAttribute('width', width + 'px');\r\n        this.thumbnail.setAttribute('height', height + 'px');\r\n        this.thumbnail.style.maxWidth = containerSize.width + 'px';\r\n        this.thumbnail.style.maxHeight = containerSize.height + 'px';\r\n    };\r\n    AbstractThumbnailView.prototype.onThumbClick = function (event) {\r\n        this.resetState();\r\n    };\r\n    //stub for override\r\n    AbstractThumbnailView.prototype.onDragStart = function (event) {\r\n    };\r\n    AbstractThumbnailView.prototype.getImageURL = function () {\r\n        return this.model['thumbUrl'];\r\n    };\r\n    AbstractThumbnailView.prototype.getDefaultSize = function () {\r\n        return { width: parseInt(this.thumbnail.getAttribute('width')), height: parseInt(this.thumbnail.getAttribute('height')) };\r\n    };\r\n    AbstractThumbnailView.prototype.getContainerSize = function () {\r\n        var returnObj = (this.thumbnailContainer !== null && this.thumbnailContainer !== undefined) ? { width: parseInt(window.getComputedStyle(this.thumbnailContainer).width), height: parseInt(window.getComputedStyle(this.thumbnailContainer).height) } : { width: NaN, height: NaN };\r\n        //if the container has a defined width and height set in the tempalte use that instead of our defaults\r\n        if (!isNaN(parseInt(this.thumbWidth)) && !isNaN(parseInt(this.thumbWidth))) {\r\n            returnObj = { width: parseInt(this.thumbWidth), height: parseInt(this.thumbHeight) };\r\n        }\r\n        return returnObj;\r\n    };\r\n    AbstractThumbnailView.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        this.thumbnail.setAttribute('draggable', (this.allowDrag) ? 'true' : 'false');\r\n        this.thumbnail.addEventListener('click', this.onThumbClick.bind(this));\r\n        this.thumbnail.addEventListener('dragstart', this.onDragStart.bind(this));\r\n    };\r\n    AbstractThumbnailView.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        this.thumbnail.removeEventListener('click', this.onThumbClick);\r\n        this.thumbnail.removeEventListener('dragstart', this.onDragStart);\r\n    };\r\n    AbstractThumbnailView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('thumbnail', this, 'thumbnail'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('thumbnailContainer', this, 'thumbnailContainer'));\r\n    };\r\n    AbstractThumbnailView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'thumbnail':\r\n                this._thumbnailDisplay = this.thumbnail.style.display;\r\n                this.thumbnail.onload = function (event) {\r\n                    if (!this.thumbnail) {\r\n                        return;\r\n                    }\r\n                    this.thumbnail.onload = null;\r\n                    this.thumbnail.style.display = this._thumbnailDisplay;\r\n                    this.sizeImage();\r\n                }.bind(this);\r\n                this.thumbnail.style.display = 'none';\r\n                this.thumbnail['src'] = this.getImageURL();\r\n                this.addEventListeners();\r\n                break;\r\n            case 'thumbnailContainer':\r\n                this._thumbnailSelectedClass = this.thumbnailContainer.getAttribute('selected-class');\r\n                break;\r\n        }\r\n    };\r\n    AbstractThumbnailView.prototype.resetState = function () {\r\n        this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);\r\n        var eventType = (this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass)) ? ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED : ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED;\r\n        //dispatch event to notify view that the layout was selected/or deselected\r\n        this.dispatch(new ItemViewEvent_1.ItemViewEvent(eventType, { item: this }));\r\n    };\r\n    AbstractThumbnailView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.removeEventListeners();\r\n        this.thumbnail = null;\r\n        this.thumbnailContainer = null;\r\n        this._thumbnailSelectedClass = null;\r\n    };\r\n    return AbstractThumbnailView;\r\n}(AbstractItemView_1.AbstractItemView));\r\nexports.AbstractThumbnailView = AbstractThumbnailView;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/1/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPartList = (function (_super) {\r\n    __extends(SkinPartList, _super);\r\n    function SkinPartList(source, allowDuplicates) {\r\n        if (allowDuplicates === void 0) { allowDuplicates = true; }\r\n        var _this = _super.call(this, source, allowDuplicates) || this;\r\n        _this.skinPartsByLabel = {};\r\n        return _this;\r\n    }\r\n    SkinPartList.prototype.addItem = function (object, hash, key) {\r\n        //ensure the object is valid before proceeding\r\n        var index = _super.prototype.addItem.call(this, object, hash, key);\r\n        //populate hash\r\n        this.skinPartsByLabel[object.label] = object;\r\n        return index;\r\n    };\r\n    SkinPartList.prototype.clear = function () {\r\n        _super.prototype.clearHash.call(this, this.skinPartsByLabel);\r\n        _super.prototype.clear.call(this);\r\n    };\r\n    SkinPartList.prototype.removeItemAt = function (index) {\r\n        var skinPart = this.getItemAt(index);\r\n        _super.prototype.removeItemFromHash.call(this, this.skinPartsByLabel, skinPart.label);\r\n        _super.prototype.removeItemAt.call(this, index);\r\n    };\r\n    SkinPartList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        //ensure the object is valid before proceeding\r\n        var returnValue = _super.prototype.insert.call(this, object, index, suppressChangeEvent, hash, key, replaceIndex);\r\n        //populate hash\r\n        this.skinPartsByLabel[object.label] = object;\r\n        return returnValue;\r\n    };\r\n    return SkinPartList;\r\n}(Lavender.ArrayList));\r\nexports.SkinPartList = SkinPartList;\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ComponentMap_1 = __webpack_require__(10);\r\nvar CommandMap_1 = __webpack_require__(8);\r\nvar Injector_1 = __webpack_require__(11);\r\nvar MediatorMap_1 = __webpack_require__(12);\r\nvar EventDispatcherFactory_1 = __webpack_require__(17);\r\n/**\r\n * Created by dsmiley on 7/24/17.\r\n */\r\nvar Context = (function () {\r\n    function Context(config, params) {\r\n        this.config = config;\r\n        //IMPORTANT: must occur first so application event bus is configured\r\n        this.eventDispatcher = EventDispatcherFactory_1.EventDispatcherFactory.getInstance().getEventDispatcher();\r\n        this.componentMap = new ComponentMap_1.ComponentMap(this); //create factory if we require sub classes one day\r\n        this.commandMap = new CommandMap_1.CommandMap(this); //create factory if we require sub classes one day\r\n        this.injector = new Injector_1.Injector(this); //create factory if we require sub classes one day\r\n        this.mediatorMap = new MediatorMap_1.MediatorMap(this);\r\n        this.startUp();\r\n    }\r\n    Context.prototype.startUp = function () {\r\n        this.mapComponents();\r\n        this.mapCommands();\r\n        this.mapObjects();\r\n        this.mapMediators();\r\n    };\r\n    Context.prototype.mapComponents = function () {\r\n    };\r\n    Context.prototype.mapCommands = function () {\r\n    };\r\n    Context.prototype.mapObjects = function () {\r\n    };\r\n    Context.prototype.mapMediators = function () {\r\n    };\r\n    return Context;\r\n}());\r\nexports.Context = Context;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractCommand_1 = __webpack_require__(13);\r\n/**\r\n * Created by dsmiley on 7/28/17.\r\n */\r\nvar SampleCommand = (function (_super) {\r\n    __extends(SampleCommand, _super);\r\n    function SampleCommand(context) {\r\n        return _super.call(this, context) || this;\r\n    }\r\n    SampleCommand.prototype.executeServiceMethod = function () {\r\n        //since services will always be injected by the IOC container always user the interface type\r\n        return this.service.testRequestUsingIncludedAPI('localRequest', this);\r\n    };\r\n    SampleCommand.prototype.parseResponse = function (result) {\r\n        //since serilization objects will always be injected by the IOC container always user the interface type\r\n        return this.parser.parse(result); //use this.parser.parse to deserialize results. You'll of course need to implement the parser, our tests just use a generic function that returns the result\r\n        //most commands would also receive a model injection and the command would update it here\r\n    };\r\n    SampleCommand.prototype.getFaultString = function () {\r\n        return 'Lotus.SampleCommand a service request error occured';\r\n    };\r\n    SampleCommand.prototype.getErrorMessage = function () {\r\n        return 'Lotus.SampleCommand an execution error occured ';\r\n    };\r\n    SampleCommand.prototype.getExecErrorString = function () {\r\n        return 'Lotus.SampleCommand the following are required: ';\r\n    };\r\n    return SampleCommand;\r\n}(AbstractCommand_1.AbstractCommand));\r\nexports.SampleCommand = SampleCommand;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/27/17.\r\n */\r\nvar SerializeFactory = (function () {\r\n    function SerializeFactory() {\r\n        if (SerializeFactory.INSTANCE != null) {\r\n            throw ('SerializeFactory.INSTANCE: Singleton class has already been instantiated');\r\n        }\r\n        else {\r\n            //perform any required object set up\r\n        }\r\n    }\r\n    SerializeFactory.getInstance = function () {\r\n        if (SerializeFactory.INSTANCE == null) {\r\n            SerializeFactory.INSTANCE = new SerializeFactory();\r\n        }\r\n        return SerializeFactory.INSTANCE;\r\n    };\r\n    /*\r\n     * Stub for override, this method is just an example of how this factory can be used\r\n     * */\r\n    SerializeFactory.prototype.getServiceResultParser = function (parserCode) {\r\n        var parser;\r\n        switch (parserCode) {\r\n            case 'local':\r\n            case 'remote':\r\n            default:\r\n                parser = {};\r\n                break;\r\n        }\r\n        return parser;\r\n    };\r\n    /*\r\n     * Stub for override, this method is just an example of how this factory can be used\r\n     * */\r\n    SerializeFactory.prototype.getServiceExporter = function (exporterCode) {\r\n        var exporter;\r\n        //we resuse parserCode which should really probably be called serializationCode\r\n        switch (exporterCode) {\r\n            case 'local':\r\n            case 'remote':\r\n            default:\r\n                exporter = {};\r\n                break;\r\n        }\r\n        return exporter;\r\n    };\r\n    SerializeFactory.INSTANCE = null;\r\n    return SerializeFactory;\r\n}());\r\nexports.SerializeFactory = SerializeFactory;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SampleService_1 = __webpack_require__(16);\r\n/**\r\n * Created by dsmiley on 7/27/17.\r\n */\r\nvar ServiceFactory = (function () {\r\n    function ServiceFactory() {\r\n        if (ServiceFactory.INSTANCE != null) {\r\n            throw ('ServiceFactory.INSTANCE: Singleton class has already been instantiated');\r\n        }\r\n        else {\r\n            //perform any required object set up\r\n        }\r\n    }\r\n    ServiceFactory.getInstance = function () {\r\n        if (ServiceFactory.INSTANCE == null) {\r\n            ServiceFactory.INSTANCE = new ServiceFactory();\r\n        }\r\n        return ServiceFactory.INSTANCE;\r\n    };\r\n    ServiceFactory.prototype.getService = function (config) {\r\n        var service;\r\n        switch (config.serviceCode) {\r\n            default:\r\n                service = new SampleService_1.SampleService(config);\r\n        }\r\n        return service;\r\n    };\r\n    ServiceFactory.INSTANCE = null;\r\n    return ServiceFactory;\r\n}());\r\nexports.ServiceFactory = ServiceFactory;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractMediator_1 = __webpack_require__(6);\r\nvar InjectorDecorator_1 = __webpack_require__(7);\r\nvar HttpServiceFactory_1 = __webpack_require__(5);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar ButtonMediator = (function (_super) {\r\n    __extends(ButtonMediator, _super);\r\n    function ButtonMediator(componentInstance, context) {\r\n        var _this = this;\r\n        console.log('ButtonMediator constructor called');\r\n        _this = _super.call(this, componentInstance, context) || this;\r\n        return _this;\r\n    }\r\n    ButtonMediator.prototype.onClick = function (event) {\r\n        console.log('Im the button mediator, I can handle the component click and dispatch an application event. serviceFactory ' + this.serviceFactory);\r\n    };\r\n    ButtonMediator.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.componentInstance.addEventListener('click', this, 'onClick');\r\n    };\r\n    ButtonMediator.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        this.componentInstance.removeEventListener('click', this, 'onClick');\r\n    };\r\n    ButtonMediator.prototype.toString = function () {\r\n        return 'Lotus.ButtonMediator';\r\n    };\r\n    __decorate([\r\n        InjectorDecorator_1.inject,\r\n        __metadata(\"design:type\", HttpServiceFactory_1.HttpServiceFactory)\r\n    ], ButtonMediator.prototype, \"serviceFactory\", void 0);\r\n    return ButtonMediator;\r\n}(AbstractMediator_1.AbstractMediator));\r\nexports.ButtonMediator = ButtonMediator;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractMediator_1 = __webpack_require__(6);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar ListMediator = (function (_super) {\r\n    __extends(ListMediator, _super);\r\n    function ListMediator(componentInstance, context) {\r\n        return _super.call(this, componentInstance, context) || this;\r\n    }\r\n    ListMediator.prototype.toString = function () {\r\n        return 'Lotus.ListMediator';\r\n    };\r\n    return ListMediator;\r\n}(AbstractMediator_1.AbstractMediator));\r\nexports.ListMediator = ListMediator;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ComponentEvent_1 = __webpack_require__(3);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar Button = (function (_super) {\r\n    __extends(Button, _super);\r\n    function Button() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(Button.prototype, \"buttonSkinPart\", {\r\n        get: function () {\r\n            return this._buttonSkinPart;\r\n        },\r\n        set: function (value) {\r\n            this._buttonSkinPart = value;\r\n            this.notify(value, 'buttonSkinPart');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Button.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        set: function (value) {\r\n            this._type = value;\r\n            this.notify(value, 'type');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Button.prototype.onClick = function (event) {\r\n        console.log('Lotus.Button.prototype.onClick: event is ' + event);\r\n        console.log('Lotus.Button.prototype.onClick: my id is ' + this.id);\r\n        console.log('Lotus.Button.prototype.onClick: this ' + this);\r\n        this.dispatch(new ComponentEvent_1.ComponentEvent('click', { target: this.buttonSkinPart, originalEvent: event }));\r\n    };\r\n    Button.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('button', this, 'buttonSkinPart'));\r\n    };\r\n    Button.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'button':\r\n                //add button event listener or whatever else yo want to do when this skin part is added\r\n                //you could hold until all skin parts are added and then call addEventListeners\r\n                console.log('Lotus.Button.prototype.onSkinPartAdded: part: ' + part);\r\n                console.log('Lotus.Button.prototype.onSkinPartAdded: skinPart: ' + part);\r\n                this.addEventListeners();\r\n                break;\r\n        }\r\n    };\r\n    Button.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.buttonSkinPart.addEventListener('click', this.onClick.bind(this));\r\n    };\r\n    Button.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        this.buttonSkinPart.removeEventListener('click', this.onClick);\r\n    };\r\n    Button.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.buttonSkinPart = null;\r\n    };\r\n    return Button;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.Button = Button;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/24/17.\r\n */\r\nvar AbstractRecordSetCollectionView_1 = __webpack_require__(20);\r\nvar ImageGalleryCollectionView = (function (_super) {\r\n    __extends(ImageGalleryCollectionView, _super);\r\n    function ImageGalleryCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return ImageGalleryCollectionView;\r\n}(AbstractRecordSetCollectionView_1.AbstractRecordSetCollectionView));\r\nexports.ImageGalleryCollectionView = ImageGalleryCollectionView;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar ImageGalleryItemDetail = (function (_super) {\r\n    __extends(ImageGalleryItemDetail, _super);\r\n    function ImageGalleryItemDetail() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"asset\", {\r\n        get: function () {\r\n            return this._asset;\r\n        },\r\n        set: function (value) {\r\n            this._asset = value;\r\n            this.notify(value, 'asset');\r\n            this.render();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"nameLabel\", {\r\n        get: function () {\r\n            return this._nameLabel;\r\n        },\r\n        set: function (value) {\r\n            this._nameLabel = value;\r\n            this.notify(value, 'nameLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"dateCreatedLabel\", {\r\n        get: function () {\r\n            return this._dateCreatedLabel;\r\n        },\r\n        set: function (value) {\r\n            this._dateCreatedLabel = value;\r\n            this.notify(value, 'dateCreatedLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"urlLabel\", {\r\n        get: function () {\r\n            return this._urlLabel;\r\n        },\r\n        set: function (value) {\r\n            this._urlLabel = value;\r\n            this.notify(value, 'urlLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ImageGalleryItemDetail.prototype.render = function () {\r\n        if (this.asset && this.ready) {\r\n            if (this.nameLabel) {\r\n                this.nameLabel.innerHTML = this.asset.objectName;\r\n            }\r\n            if (this.dateCreatedLabel) {\r\n                this.dateCreatedLabel.innerHTML = this.asset.createdDate.toDateString();\r\n            }\r\n            if (this.urlLabel) {\r\n                this.urlLabel.innerHTML = this.asset.url;\r\n            }\r\n        }\r\n    };\r\n    ImageGalleryItemDetail.prototype.defineSkinParts = function () {\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('nameLabel', this, 'nameLabel'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('dateCreatedLabel', this, 'dateCreatedLabel'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('urlLabel', this, 'urlLabel'));\r\n    };\r\n    ImageGalleryItemDetail.prototype.created = function (element) {\r\n        _super.prototype.created.call(this, element);\r\n    };\r\n    ImageGalleryItemDetail.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.asset = null;\r\n        this.nameLabel = null;\r\n        this.dateCreatedLabel = null;\r\n        this.urlLabel = null;\r\n    };\r\n    return ImageGalleryItemDetail;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.ImageGalleryItemDetail = ImageGalleryItemDetail;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/24/17.\r\n */\r\nvar AbstractThumbnailView_1 = __webpack_require__(21);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ComponentEvent_1 = __webpack_require__(3);\r\nvar ImageGalleryView = (function (_super) {\r\n    __extends(ImageGalleryView, _super);\r\n    function ImageGalleryView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(ImageGalleryView.prototype, \"itemDetail\", {\r\n        get: function () {\r\n            return this._itemDetail;\r\n        },\r\n        set: function (value) {\r\n            this._itemDetail = value;\r\n            this.notify(value, 'itemDetail');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ImageGalleryView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('itemDetail', this, 'itemDetail'));\r\n    };\r\n    ImageGalleryView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //optional container for displaying collection elements\r\n            case 'itemDetail':\r\n                if (this.model) {\r\n                    //this is an example of working with nested components which are skin parts and require a reference to and item view model\r\n                    //nested components in your skins (template files) work natively, but if you have a skin part that requires a model reference you have to wait until ComponentEvent.READY is dispatched\r\n                    this.itemDetail.lotusComponentInstance.asset = this.model;\r\n                    this.itemDetail.lotusComponentInstance.addEventListener(ComponentEvent_1.ComponentEvent.READY, this, 'onItemDetailReady');\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onItemDetailReady = function (event) {\r\n        if (this.model) {\r\n            this.itemDetail.lotusComponentInstance.asset = this.model;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onModelChange = function (value) {\r\n        _super.prototype.onModelChange.call(this, value);\r\n        if (this.itemDetail) {\r\n            this.itemDetail.lotusComponentInstance.asset = value;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onDragStart = function (event) {\r\n        if (event['dataTransfer'] !== null && event['dataTransfer'] !== undefined) {\r\n            event['dataTransfer'].effectAllowed = 'all';\r\n            try {\r\n                event['dataTransfer'].setData('galleryImage', this.model['source']);\r\n            }\r\n            catch (e) {\r\n                event['dataTransfer'].setData('text', this.model['source']); //IE only allows two possible key values, text is the nest options\r\n            }\r\n        }\r\n        else {\r\n            event['originalEvent'].dataTransfer.effectAllowed = 'all';\r\n            try {\r\n                event['originalEvent'].dataTransfer.setData('galleryImage', this.model['source']);\r\n            }\r\n            catch (e) {\r\n                event['originalEvent'].dataTransfer.setData('text', this.model['source']); //IE only allows two possible key values, text is the nest options\r\n            }\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.itemDetail) {\r\n            this.itemDetail.lotusComponentInstance.removeEventListener(ComponentEvent_1.ComponentEvent.READY, this, 'onItemDetailReady');\r\n        }\r\n        this.itemDetail = null;\r\n    };\r\n    return ImageGalleryView;\r\n}(AbstractThumbnailView_1.AbstractThumbnailView));\r\nexports.ImageGalleryView = ImageGalleryView;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/24/17.\r\n */\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(23));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(9));\r\n__export(__webpack_require__(12));\r\n__export(__webpack_require__(10));\r\n__export(__webpack_require__(17));\r\n__export(__webpack_require__(25));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(26));\r\n__export(__webpack_require__(16));\r\n__export(__webpack_require__(15));\r\n__export(__webpack_require__(14));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(13));\r\n__export(__webpack_require__(24));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(27));\r\n__export(__webpack_require__(28));\r\n__export(__webpack_require__(1));\r\n__export(__webpack_require__(22));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(19));\r\n__export(__webpack_require__(18));\r\n__export(__webpack_require__(20));\r\n__export(__webpack_require__(21));\r\n__export(__webpack_require__(29));\r\n__export(__webpack_require__(30));\r\n__export(__webpack_require__(31));\r\n__export(__webpack_require__(32));\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global) {/*! *****************************************************************************\r\nCopyright (C) Microsoft. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\nvar Reflect;\r\n(function (Reflect) {\r\n    \"use strict\";\r\n    var hasOwn = Object.prototype.hasOwnProperty;\r\n    // feature test for Symbol support\r\n    var supportsSymbol = typeof Symbol === \"function\";\r\n    var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\r\n    var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\r\n    var HashMap;\r\n    (function (HashMap) {\r\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\r\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\r\n        var downLevel = !supportsCreate && !supportsProto;\r\n        // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\r\n        HashMap.create = supportsCreate\r\n            ? function () { return MakeDictionary(Object.create(null)); }\r\n            : supportsProto\r\n                ? function () { return MakeDictionary({ __proto__: null }); }\r\n                : function () { return MakeDictionary({}); };\r\n        HashMap.has = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key); }\r\n            : function (map, key) { return key in map; };\r\n        HashMap.get = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\r\n            : function (map, key) { return map[key]; };\r\n    })(HashMap || (HashMap = {}));\r\n    // Load global or shim versions of Map, Set, and WeakMap\r\n    var functionPrototype = Object.getPrototypeOf(Function);\r\n    var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\r\n    var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\r\n    var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\r\n    var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\r\n    // [[Metadata]] internal slot\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\r\n    var Metadata = new _WeakMap();\r\n    /**\r\n      * Applies a set of decorators to a property of a target object.\r\n      * @param decorators An array of decorators.\r\n      * @param target The target object.\r\n      * @param propertyKey (Optional) The property key to decorate.\r\n      * @param attributes (Optional) The property descriptor for the target key.\r\n      * @remarks Decorators are applied in reverse order.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Example = Reflect.decorate(decoratorsArray, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Object.defineProperty(Example, \"staticMethod\",\r\n      *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\r\n      *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\r\n      *\r\n      *     // method (on prototype)\r\n      *     Object.defineProperty(Example.prototype, \"method\",\r\n      *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\r\n      *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\r\n      *\r\n      */\r\n    function decorate(decorators, target, propertyKey, attributes) {\r\n        if (!IsUndefined(propertyKey)) {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\r\n                throw new TypeError();\r\n            if (IsNull(attributes))\r\n                attributes = undefined;\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n            return DecorateProperty(decorators, target, propertyKey, attributes);\r\n        }\r\n        else {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsConstructor(target))\r\n                throw new TypeError();\r\n            return DecorateConstructor(decorators, target);\r\n        }\r\n    }\r\n    Reflect.decorate = decorate;\r\n    // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\r\n    // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\r\n    /**\r\n      * A default metadata decorator factory that can be used on a class, class member, or parameter.\r\n      * @param metadataKey The key for the metadata entry.\r\n      * @param metadataValue The value for the metadata entry.\r\n      * @returns A decorator function.\r\n      * @remarks\r\n      * If `metadataKey` is already defined for the target and target key, the\r\n      * metadataValue for that key will be overwritten.\r\n      * @example\r\n      *\r\n      *     // constructor\r\n      *     @Reflect.metadata(key, value)\r\n      *     class Example {\r\n      *     }\r\n      *\r\n      *     // property (on constructor, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticProperty;\r\n      *     }\r\n      *\r\n      *     // property (on prototype, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         property;\r\n      *     }\r\n      *\r\n      *     // method (on constructor)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticMethod() { }\r\n      *     }\r\n      *\r\n      *     // method (on prototype)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         method() { }\r\n      *     }\r\n      *\r\n      */\r\n    function metadata(metadataKey, metadataValue) {\r\n        function decorator(target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\r\n                throw new TypeError();\r\n            OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n        }\r\n        return decorator;\r\n    }\r\n    Reflect.metadata = metadata;\r\n    /**\r\n      * Define a unique metadata entry on the target.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param metadataValue A value that contains attached metadata.\r\n      * @param target The target object on which to define metadata.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\r\n      *\r\n      *     // decorator factory as metadata-producing annotation.\r\n      *     function MyAnnotation(options): Decorator {\r\n      *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\r\n      *     }\r\n      *\r\n      */\r\n    function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n    }\r\n    Reflect.defineMetadata = defineMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasMetadata = hasMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasOwnMetadata = hasOwnMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getMetadata = getMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadata = getOwnMetadata;\r\n    /**\r\n      * Gets the metadata keys defined on the target object or its prototype chain.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getMetadataKeys = getMetadataKeys;\r\n    /**\r\n      * Gets the unique metadata keys defined on the target object.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryOwnMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadataKeys = getOwnMetadataKeys;\r\n    /**\r\n      * Deletes the metadata entry from the target object with the provided key.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata entry was found and deleted; otherwise, false.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function deleteMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        if (!metadataMap.delete(metadataKey))\r\n            return false;\r\n        if (metadataMap.size > 0)\r\n            return true;\r\n        var targetMetadata = Metadata.get(target);\r\n        targetMetadata.delete(propertyKey);\r\n        if (targetMetadata.size > 0)\r\n            return true;\r\n        Metadata.delete(target);\r\n        return true;\r\n    }\r\n    Reflect.deleteMetadata = deleteMetadata;\r\n    function DecorateConstructor(decorators, target) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsConstructor(decorated))\r\n                    throw new TypeError();\r\n                target = decorated;\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function DecorateProperty(decorators, target, propertyKey, descriptor) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target, propertyKey, descriptor);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsObject(decorated))\r\n                    throw new TypeError();\r\n                descriptor = decorated;\r\n            }\r\n        }\r\n        return descriptor;\r\n    }\r\n    function GetOrCreateMetadataMap(O, P, Create) {\r\n        var targetMetadata = Metadata.get(O);\r\n        if (IsUndefined(targetMetadata)) {\r\n            if (!Create)\r\n                return undefined;\r\n            targetMetadata = new _Map();\r\n            Metadata.set(O, targetMetadata);\r\n        }\r\n        var metadataMap = targetMetadata.get(P);\r\n        if (IsUndefined(metadataMap)) {\r\n            if (!Create)\r\n                return undefined;\r\n            metadataMap = new _Map();\r\n            targetMetadata.set(P, metadataMap);\r\n        }\r\n        return metadataMap;\r\n    }\r\n    // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\r\n    function OrdinaryHasMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return true;\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryHasMetadata(MetadataKey, parent, P);\r\n        return false;\r\n    }\r\n    // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\r\n    function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        return ToBoolean(metadataMap.has(MetadataKey));\r\n    }\r\n    // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\r\n    function OrdinaryGetMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return OrdinaryGetOwnMetadata(MetadataKey, O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryGetMetadata(MetadataKey, parent, P);\r\n        return undefined;\r\n    }\r\n    // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\r\n    function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return undefined;\r\n        return metadataMap.get(MetadataKey);\r\n    }\r\n    // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\r\n    function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\r\n        metadataMap.set(MetadataKey, MetadataValue);\r\n    }\r\n    // 3.1.6.1 OrdinaryMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\r\n    function OrdinaryMetadataKeys(O, P) {\r\n        var ownKeys = OrdinaryOwnMetadataKeys(O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (parent === null)\r\n            return ownKeys;\r\n        var parentKeys = OrdinaryMetadataKeys(parent, P);\r\n        if (parentKeys.length <= 0)\r\n            return ownKeys;\r\n        if (ownKeys.length <= 0)\r\n            return parentKeys;\r\n        var set = new _Set();\r\n        var keys = [];\r\n        for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\r\n            var key = ownKeys_1[_i];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\r\n            var key = parentKeys_1[_a];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n    // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\r\n    function OrdinaryOwnMetadataKeys(O, P) {\r\n        var keys = [];\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return keys;\r\n        var keysObj = metadataMap.keys();\r\n        var iterator = GetIterator(keysObj);\r\n        var k = 0;\r\n        while (true) {\r\n            var next = IteratorStep(iterator);\r\n            if (!next) {\r\n                keys.length = k;\r\n                return keys;\r\n            }\r\n            var nextValue = IteratorValue(next);\r\n            try {\r\n                keys[k] = nextValue;\r\n            }\r\n            catch (e) {\r\n                try {\r\n                    IteratorClose(iterator);\r\n                }\r\n                finally {\r\n                    throw e;\r\n                }\r\n            }\r\n            k++;\r\n        }\r\n    }\r\n    // 6 ECMAScript Data Typ0es and Values\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\r\n    function Type(x) {\r\n        if (x === null)\r\n            return 1 /* Null */;\r\n        switch (typeof x) {\r\n            case \"undefined\": return 0 /* Undefined */;\r\n            case \"boolean\": return 2 /* Boolean */;\r\n            case \"string\": return 3 /* String */;\r\n            case \"symbol\": return 4 /* Symbol */;\r\n            case \"number\": return 5 /* Number */;\r\n            case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\r\n            default: return 6 /* Object */;\r\n        }\r\n    }\r\n    // 6.1.1 The Undefined Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\r\n    function IsUndefined(x) {\r\n        return x === undefined;\r\n    }\r\n    // 6.1.2 The Null Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\r\n    function IsNull(x) {\r\n        return x === null;\r\n    }\r\n    // 6.1.5 The Symbol Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\r\n    function IsSymbol(x) {\r\n        return typeof x === \"symbol\";\r\n    }\r\n    // 6.1.7 The Object Type\r\n    // https://tc39.github.io/ecma262/#sec-object-type\r\n    function IsObject(x) {\r\n        return typeof x === \"object\" ? x !== null : typeof x === \"function\";\r\n    }\r\n    // 7.1 Type Conversion\r\n    // https://tc39.github.io/ecma262/#sec-type-conversion\r\n    // 7.1.1 ToPrimitive(input [, PreferredType])\r\n    // https://tc39.github.io/ecma262/#sec-toprimitive\r\n    function ToPrimitive(input, PreferredType) {\r\n        switch (Type(input)) {\r\n            case 0 /* Undefined */: return input;\r\n            case 1 /* Null */: return input;\r\n            case 2 /* Boolean */: return input;\r\n            case 3 /* String */: return input;\r\n            case 4 /* Symbol */: return input;\r\n            case 5 /* Number */: return input;\r\n        }\r\n        var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\r\n        var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\r\n        if (exoticToPrim !== undefined) {\r\n            var result = exoticToPrim.call(input, hint);\r\n            if (IsObject(result))\r\n                throw new TypeError();\r\n            return result;\r\n        }\r\n        return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\r\n    }\r\n    // 7.1.1.1 OrdinaryToPrimitive(O, hint)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\r\n    function OrdinaryToPrimitive(O, hint) {\r\n        if (hint === \"string\") {\r\n            var toString_1 = O.toString;\r\n            if (IsCallable(toString_1)) {\r\n                var result = toString_1.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        else {\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var toString_2 = O.toString;\r\n            if (IsCallable(toString_2)) {\r\n                var result = toString_2.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        throw new TypeError();\r\n    }\r\n    // 7.1.2 ToBoolean(argument)\r\n    // https://tc39.github.io/ecma262/2016/#sec-toboolean\r\n    function ToBoolean(argument) {\r\n        return !!argument;\r\n    }\r\n    // 7.1.12 ToString(argument)\r\n    // https://tc39.github.io/ecma262/#sec-tostring\r\n    function ToString(argument) {\r\n        return \"\" + argument;\r\n    }\r\n    // 7.1.14 ToPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-topropertykey\r\n    function ToPropertyKey(argument) {\r\n        var key = ToPrimitive(argument, 3 /* String */);\r\n        if (IsSymbol(key))\r\n            return key;\r\n        return ToString(key);\r\n    }\r\n    // 7.2 Testing and Comparison Operations\r\n    // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\r\n    // 7.2.2 IsArray(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isarray\r\n    function IsArray(argument) {\r\n        return Array.isArray\r\n            ? Array.isArray(argument)\r\n            : argument instanceof Object\r\n                ? argument instanceof Array\r\n                : Object.prototype.toString.call(argument) === \"[object Array]\";\r\n    }\r\n    // 7.2.3 IsCallable(argument)\r\n    // https://tc39.github.io/ecma262/#sec-iscallable\r\n    function IsCallable(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.4 IsConstructor(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isconstructor\r\n    function IsConstructor(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.7 IsPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-ispropertykey\r\n    function IsPropertyKey(argument) {\r\n        switch (Type(argument)) {\r\n            case 3 /* String */: return true;\r\n            case 4 /* Symbol */: return true;\r\n            default: return false;\r\n        }\r\n    }\r\n    // 7.3 Operations on Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-objects\r\n    // 7.3.9 GetMethod(V, P)\r\n    // https://tc39.github.io/ecma262/#sec-getmethod\r\n    function GetMethod(V, P) {\r\n        var func = V[P];\r\n        if (func === undefined || func === null)\r\n            return undefined;\r\n        if (!IsCallable(func))\r\n            throw new TypeError();\r\n        return func;\r\n    }\r\n    // 7.4 Operations on Iterator Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\r\n    function GetIterator(obj) {\r\n        var method = GetMethod(obj, iteratorSymbol);\r\n        if (!IsCallable(method))\r\n            throw new TypeError(); // from Call\r\n        var iterator = method.call(obj);\r\n        if (!IsObject(iterator))\r\n            throw new TypeError();\r\n        return iterator;\r\n    }\r\n    // 7.4.4 IteratorValue(iterResult)\r\n    // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\r\n    function IteratorValue(iterResult) {\r\n        return iterResult.value;\r\n    }\r\n    // 7.4.5 IteratorStep(iterator)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorstep\r\n    function IteratorStep(iterator) {\r\n        var result = iterator.next();\r\n        return result.done ? false : result;\r\n    }\r\n    // 7.4.6 IteratorClose(iterator, completion)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorclose\r\n    function IteratorClose(iterator) {\r\n        var f = iterator[\"return\"];\r\n        if (f)\r\n            f.call(iterator);\r\n    }\r\n    // 9.1 Ordinary Object Internal Methods and Internal Slots\r\n    // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\r\n    // 9.1.1.1 OrdinaryGetPrototypeOf(O)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\r\n    function OrdinaryGetPrototypeOf(O) {\r\n        var proto = Object.getPrototypeOf(O);\r\n        if (typeof O !== \"function\" || O === functionPrototype)\r\n            return proto;\r\n        // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\r\n        // Try to determine the superclass constructor. Compatible implementations\r\n        // must either set __proto__ on a subclass constructor to the superclass constructor,\r\n        // or ensure each class has a valid `constructor` property on its prototype that\r\n        // points back to the constructor.\r\n        // If this is not the same as Function.[[Prototype]], then this is definately inherited.\r\n        // This is the case when in ES6 or when using __proto__ in a compatible browser.\r\n        if (proto !== functionPrototype)\r\n            return proto;\r\n        // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\r\n        var prototype = O.prototype;\r\n        var prototypeProto = prototype && Object.getPrototypeOf(prototype);\r\n        if (prototypeProto == null || prototypeProto === Object.prototype)\r\n            return proto;\r\n        // If the constructor was not a function, then we cannot determine the heritage.\r\n        var constructor = prototypeProto.constructor;\r\n        if (typeof constructor !== \"function\")\r\n            return proto;\r\n        // If we have some kind of self-reference, then we cannot determine the heritage.\r\n        if (constructor === O)\r\n            return proto;\r\n        // we have a pretty good guess at the heritage.\r\n        return constructor;\r\n    }\r\n    // naive Map shim\r\n    function CreateMapPolyfill() {\r\n        var cacheSentinel = {};\r\n        var arraySentinel = [];\r\n        var MapIterator = (function () {\r\n            function MapIterator(keys, values, selector) {\r\n                this._index = 0;\r\n                this._keys = keys;\r\n                this._values = values;\r\n                this._selector = selector;\r\n            }\r\n            MapIterator.prototype[\"@@iterator\"] = function () { return this; };\r\n            MapIterator.prototype[iteratorSymbol] = function () { return this; };\r\n            MapIterator.prototype.next = function () {\r\n                var index = this._index;\r\n                if (index >= 0 && index < this._keys.length) {\r\n                    var result = this._selector(this._keys[index], this._values[index]);\r\n                    if (index + 1 >= this._keys.length) {\r\n                        this._index = -1;\r\n                        this._keys = arraySentinel;\r\n                        this._values = arraySentinel;\r\n                    }\r\n                    else {\r\n                        this._index++;\r\n                    }\r\n                    return { value: result, done: false };\r\n                }\r\n                return { value: undefined, done: true };\r\n            };\r\n            MapIterator.prototype.throw = function (error) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                throw error;\r\n            };\r\n            MapIterator.prototype.return = function (value) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                return { value: value, done: true };\r\n            };\r\n            return MapIterator;\r\n        }());\r\n        return (function () {\r\n            function Map() {\r\n                this._keys = [];\r\n                this._values = [];\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            }\r\n            Object.defineProperty(Map.prototype, \"size\", {\r\n                get: function () { return this._keys.length; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\r\n            Map.prototype.get = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                return index >= 0 ? this._values[index] : undefined;\r\n            };\r\n            Map.prototype.set = function (key, value) {\r\n                var index = this._find(key, /*insert*/ true);\r\n                this._values[index] = value;\r\n                return this;\r\n            };\r\n            Map.prototype.delete = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                if (index >= 0) {\r\n                    var size = this._keys.length;\r\n                    for (var i = index + 1; i < size; i++) {\r\n                        this._keys[i - 1] = this._keys[i];\r\n                        this._values[i - 1] = this._values[i];\r\n                    }\r\n                    this._keys.length--;\r\n                    this._values.length--;\r\n                    if (key === this._cacheKey) {\r\n                        this._cacheKey = cacheSentinel;\r\n                        this._cacheIndex = -2;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            Map.prototype.clear = function () {\r\n                this._keys.length = 0;\r\n                this._values.length = 0;\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            };\r\n            Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\r\n            Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\r\n            Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\r\n            Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\r\n            Map.prototype[iteratorSymbol] = function () { return this.entries(); };\r\n            Map.prototype._find = function (key, insert) {\r\n                if (this._cacheKey !== key) {\r\n                    this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\r\n                }\r\n                if (this._cacheIndex < 0 && insert) {\r\n                    this._cacheIndex = this._keys.length;\r\n                    this._keys.push(key);\r\n                    this._values.push(undefined);\r\n                }\r\n                return this._cacheIndex;\r\n            };\r\n            return Map;\r\n        }());\r\n        function getKey(key, _) {\r\n            return key;\r\n        }\r\n        function getValue(_, value) {\r\n            return value;\r\n        }\r\n        function getEntry(key, value) {\r\n            return [key, value];\r\n        }\r\n    }\r\n    // naive Set shim\r\n    function CreateSetPolyfill() {\r\n        return (function () {\r\n            function Set() {\r\n                this._map = new _Map();\r\n            }\r\n            Object.defineProperty(Set.prototype, \"size\", {\r\n                get: function () { return this._map.size; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Set.prototype.has = function (value) { return this._map.has(value); };\r\n            Set.prototype.add = function (value) { return this._map.set(value, value), this; };\r\n            Set.prototype.delete = function (value) { return this._map.delete(value); };\r\n            Set.prototype.clear = function () { this._map.clear(); };\r\n            Set.prototype.keys = function () { return this._map.keys(); };\r\n            Set.prototype.values = function () { return this._map.values(); };\r\n            Set.prototype.entries = function () { return this._map.entries(); };\r\n            Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\r\n            Set.prototype[iteratorSymbol] = function () { return this.keys(); };\r\n            return Set;\r\n        }());\r\n    }\r\n    // naive WeakMap shim\r\n    function CreateWeakMapPolyfill() {\r\n        var UUID_SIZE = 16;\r\n        var keys = HashMap.create();\r\n        var rootKey = CreateUniqueKey();\r\n        return (function () {\r\n            function WeakMap() {\r\n                this._key = CreateUniqueKey();\r\n            }\r\n            WeakMap.prototype.has = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.has(table, this._key) : false;\r\n            };\r\n            WeakMap.prototype.get = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.get(table, this._key) : undefined;\r\n            };\r\n            WeakMap.prototype.set = function (target, value) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ true);\r\n                table[this._key] = value;\r\n                return this;\r\n            };\r\n            WeakMap.prototype.delete = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? delete table[this._key] : false;\r\n            };\r\n            WeakMap.prototype.clear = function () {\r\n                // NOTE: not a real clear, just makes the previous data unreachable\r\n                this._key = CreateUniqueKey();\r\n            };\r\n            return WeakMap;\r\n        }());\r\n        function CreateUniqueKey() {\r\n            var key;\r\n            do\r\n                key = \"@@WeakMap@@\" + CreateUUID();\r\n            while (HashMap.has(keys, key));\r\n            keys[key] = true;\r\n            return key;\r\n        }\r\n        function GetOrCreateWeakMapTable(target, create) {\r\n            if (!hasOwn.call(target, rootKey)) {\r\n                if (!create)\r\n                    return undefined;\r\n                Object.defineProperty(target, rootKey, { value: HashMap.create() });\r\n            }\r\n            return target[rootKey];\r\n        }\r\n        function FillRandomBytes(buffer, size) {\r\n            for (var i = 0; i < size; ++i)\r\n                buffer[i] = Math.random() * 0xff | 0;\r\n            return buffer;\r\n        }\r\n        function GenRandomBytes(size) {\r\n            if (typeof Uint8Array === \"function\") {\r\n                if (typeof crypto !== \"undefined\")\r\n                    return crypto.getRandomValues(new Uint8Array(size));\r\n                if (typeof msCrypto !== \"undefined\")\r\n                    return msCrypto.getRandomValues(new Uint8Array(size));\r\n                return FillRandomBytes(new Uint8Array(size), size);\r\n            }\r\n            return FillRandomBytes(new Array(size), size);\r\n        }\r\n        function CreateUUID() {\r\n            var data = GenRandomBytes(UUID_SIZE);\r\n            // mark as random - RFC 4122 § 4.4\r\n            data[6] = data[6] & 0x4f | 0x40;\r\n            data[8] = data[8] & 0xbf | 0x80;\r\n            var result = \"\";\r\n            for (var offset = 0; offset < UUID_SIZE; ++offset) {\r\n                var byte = data[offset];\r\n                if (offset === 4 || offset === 6 || offset === 8)\r\n                    result += \"-\";\r\n                if (byte < 16)\r\n                    result += \"0\";\r\n                result += byte.toString(16).toLowerCase();\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\r\n    function MakeDictionary(obj) {\r\n        obj.__ = undefined;\r\n        delete obj.__;\r\n        return obj;\r\n    }\r\n    // patch global Reflect\r\n    (function (__global) {\r\n        if (typeof __global.Reflect !== \"undefined\") {\r\n            if (__global.Reflect !== Reflect) {\r\n                for (var p in Reflect) {\r\n                    if (hasOwn.call(Reflect, p)) {\r\n                        __global.Reflect[p] = Reflect[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            __global.Reflect = Reflect;\r\n        }\r\n    })(typeof global !== \"undefined\" ? global :\r\n        typeof self !== \"undefined\" ? self :\r\n            Function(\"return this;\")());\r\n})(Reflect || (Reflect = {}));\r\n//# sourceMappingURL=Reflect.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34), __webpack_require__(36)))\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// lotusJS-UMD.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 14c2213ecff0e9f487c9","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Lavender\"\n// module id = 0\n// module chunks = 0 1","/**\n * Created by dsmiley on 8/1/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractComponent} from \"./AbstractComponent\";\n\nexport class SkinPart extends Lavender.Subject{\n\n    private _label:string;\n    private _attribute:string;\n    private _instance:AbstractComponent;\n\n    constructor(label:string, instance:AbstractComponent, attribute:string){\n        super();\n        this._label = label;\n        this._instance = instance;\n        this._attribute = attribute;\n    }\n\n    get label():string{\n        return this._label;\n    }\n\n    get element():HTMLElement{\n        return this._instance[this._attribute] as HTMLElement;\n    }\n    set element(val:HTMLElement){\n        this._instance[this._attribute] = val;\n        this.notify( val, 'element' );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/SkinPart.ts","import {IComponent} from \"./IComponent\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IContext} from \"../context/IContext\";\nimport {SkinPartList} from \"./SkinPartList\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport abstract class AbstractComponent extends Lavender.Subject implements IComponent{\n    private _element:LotusHTMLElement;\n    private _context:IContext;\n    private _ready:boolean = false;\n    private _id:number = Math.random();\n    private _skinParts:SkinPartList = new SkinPartList();\n\n    //placeholders for mixins, required for the compiler\n    handlersByEventName:Object;\n    addEventListener: (  event:string, instance:Object, handler:string ) => void;\n    canListen: (  eventType:string, instance:Object, handler:string )  => boolean;\n    removeEventListener: ( event:string, instance:Object, handler:string )  => void;\n    removeAllEventListeners: ( instance:Object )  =>  void;\n    dispatch: ( event:Lavender.IEvent )  =>  void;\n\n    constructor(){\n        super();\n        Lavender.ObjectUtils.mixin(Lavender.EventDispatcher, AbstractComponent, this);\n    }\n\n    get element():LotusHTMLElement {\n        return this._element;\n    }\n\n    set element(val:LotusHTMLElement) {\n        this._element = val;\n        if( this._element !== null && this._element !== undefined ){\n            this._element.getComponentInstance = this.getComponentInstance.bind(this);\n        }\n        this.notify( val, 'element' );\n    }\n\n    get context():IContext {\n        return this._context;\n    }\n\n    set context(val:IContext) {\n        this._context = val;\n        this.notify( val, 'context' );\n    }\n\n    get ready():boolean {\n        return this._ready;\n    }\n\n    set ready(val:boolean) {\n        this._ready = val;\n        this.notify( val, 'ready' );\n    }\n\n    get id():number {\n        return this._id;\n    }\n\n    set id(val:number) {\n        this._id = val;\n        this.notify( val, 'id' );\n    }\n\n    get skinParts():SkinPartList {\n        return this._skinParts;\n    }\n\n    set skinParts(val:SkinPartList) {\n        this._skinParts = val;\n        this.notify( val, 'skinParts' );\n    }\n\n    public init():void{\n        this.addAttributes();\n        this.defineSkinParts();\n        this.addSkinParts();\n    }\n\n    public addAttributes():void{\n        for( let i=0; i < this.element.attributes.length; i++ ){\n            let attribute = this.element.attributes[i];\n            if( attribute.name.indexOf('attribute') >= 0 ){\n                let index = attribute.name.indexOf('attribute') + 10;\n                let newProp = attribute.name.substring(index);//remove prefix\n                //convert dashes to camel case\n                //LEGACY: using the data- prefix should trigger camel case on dash automagically\n                let camelCased = newProp.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n                let properties:Array<string> = this.getAllPropertyNames(this);\n                if( properties.indexOf(camelCased) >= 0 ){\n                    this[camelCased] = attribute.value;\n                }\n            }\n        }\n    }\n\n    public getAllPropertyNames(obj:Object, iterateSelfBool:boolean=true, iteratePrototypeBool:boolean=true):Array<string>{\n        let props:Array<string> = [];\n\n        do {\n            if (iterateSelfBool) {\n                Object.getOwnPropertyNames(obj).forEach(function(prop) {\n                    if (props.indexOf(prop) === -1) {\n                        props.push(prop);\n                    }\n                });\n            }\n            if (!iteratePrototypeBool) {\n                break;\n            }\n            iterateSelfBool = true;\n        } while (obj = Object.getPrototypeOf(obj));\n\n        return props;\n    }\n\n    public addSkinParts():void{\n        if( this.element.getAttribute('data-skin-part') !== null && this.element.getAttribute('data-skin-part') !== undefined ){\n            this.addSkinPart(this.element.getAttribute('data-skin-part'), this.element);\n        }\n        let skinPartsNodeList = this.element.querySelectorAll('[data-skin-part]');\n        for (let i = 0; i < skinPartsNodeList.length; i++) {\n            // iterate over matches\n            //call addSkinPart on the component passing skin part attribute value and the element\n            this.addSkinPart(skinPartsNodeList[i].getAttribute('data-skin-part'), skinPartsNodeList[i]);\n        }\n    }\n\n    public addSkinPart(part:string, element:Element):void{\n        //skip undefined skin parts\n        if( this.skinParts.skinPartsByLabel[part] === null || this.skinParts.skinPartsByLabel[part] === undefined ){\n            return null;\n        }\n        //assign the skin part\n        this.skinParts.skinPartsByLabel[part].element = element;\n        //notify\n        this.onSkinPartAdded(part, this.skinParts.skinPartsByLabel[part].element);\n    }\n\n    public onReady():void{\n        this.ready = true;\n        this.dispatch(new ComponentEvent(ComponentEvent.READY));\n    }\n\n    public getComponentInstance():IComponent{\n        return this;\n    }\n\n    public created(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.created called');\n        this.element = element;\n        this.init();\n        this.onReady();\n    }\n\n    public destroy():void{\n        this.removeEventListeners();\n        this.binder.unbindAll();\n        this.binder = null;\n        this.element = null;\n        this.id = null;\n    }\n\n    //stub methods below\n\n    public defineSkinParts():void{\n\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n\n    }\n\n    public inserted(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.inserted called');\n    }\n\n    public removed(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.removed called');\n    }\n    \n    public attributeChanged(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.attributeChanged called');\n    }\n\n    public addEventListeners():void{\n\n    }\n\n    public removeEventListeners():void{\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractComponent.ts","/**\n * Created by dsmiley on 7/31/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ComponentEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n    }\n\n    public static READY:string = 'lotusComponentReady';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ComponentEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ComponentEvent.ts","/**\n * Created by dsmiley on 7/31/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ItemViewEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n\n        if( type == ItemViewEvent.ITEM_SELECTED && ( !payload.hasOwnProperty('item') || payload['item'] === null || payload['item'] === undefined ) ){\n            throw  new Error('Lotus.ItemViewEvent payload.item is required');\n        }\n    }\n\n    public static ITEM_SELECTED = 'itemViewItemSelected';\n    public static ITEM_DESELECTED = 'itemViewItemDeselected';\n    public static REMOVE_ITEM = 'itemViewRemoveItem';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ItemViewEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ItemViewEvent.ts","import {IHttpServiceFactory} from \"./IHttpServiceFactory\";\nimport * as Lavender from 'lavenderjs/lib';\n/**\n * Created by dsmiley on 7/27/17.\n */\nexport class HttpServiceFactory implements IHttpServiceFactory{\n    private static INSTANCE:IHttpServiceFactory = null;\n\n    constructor(){\n        if (HttpServiceFactory.INSTANCE != null ) {\n            throw( 'HttpServiceFactory.INSTANCE: Singleton class has already been instantiated' );\n        } else {\n            //perform any required object set up\n        }\n    }\n\n    public static getInstance():IHttpServiceFactory{\n        if (HttpServiceFactory.INSTANCE == null) {\n            HttpServiceFactory.INSTANCE = new HttpServiceFactory();\n        }\n        return HttpServiceFactory.INSTANCE;\n    }\n\n    //override this method to return custon IService implementations\n    public getHttpService(code:string='Lavender.XhrHttpService'):Lavender.IHttpService{\n        let httpService;\n        switch(code){\n            case \"Lavender.XhrHttpService\":\n            default:\n                httpService = new Lavender.XhrHttpService();\n                break;\n        }\n        return httpService;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/factory/HttpServiceFactory.ts","import {IMediator} from \"./IMediator\";\nimport {IContext} from \"../context/IContext\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IComponent} from \"../view/IComponent\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\nimport {injectionResolver} from '../reflection/InjectorDecorator'\nimport {injectable} from \"../reflection/InjectorDecorator\";\n/**\n * Created by dsmiley on 7/26/17.\n */\n@injectable\nexport abstract class AbstractMediator extends Lavender.Subject implements IMediator{\n    private _id:string;\n    private _componentInstance:IComponent;\n    private _context:IContext;\n\n    constructor(componentInstance:IComponent, context:IContext){\n        super();\n        this.id = Lavender.UuidUtils.generateUUID();\n        this.componentInstance = componentInstance;\n        this.context = context;\n        if(!this.componentInstance.ready){\n            this.componentInstance.addEventListener(ComponentEvent.READY, this, 'init');\n        }else{\n            this.init();\n        }\n        /*\n        if(this.resolveInjections){\n            //TODO: move this method to a decorator that sets up this.resolveInjections as an accessor and adds this functionality to the contructor\n            this.resolveInjections.forEach(function(value:injectionResolver, index:number){\n                var instane:any = this.context.injector.inject(value.type);\n                if(instane){\n                    this[value.property] = instane;\n                }\n            }.bind(this));\n        }\n        */\n    }\n\n\n    get id():string {\n        return this._id;\n    }\n\n    set id(value:string) {\n        this._id = value;\n        this.notify(value, 'id');\n    }\n\n    get componentInstance():IComponent {\n        return this._componentInstance;\n    }\n\n    set componentInstance(value:IComponent) {\n        this._componentInstance = value;\n        this.notify(value, 'componentInstance');\n    }\n\n    get context():IContext {\n        return this._context;\n    }\n\n    set context(value:IContext) {\n        this._context = value;\n        this.notify(value, 'context');\n    }\n\n    protected addEventListeners():void{\n\n    }\n\n    protected removeEventListeners():void{\n        if(this.componentInstance.canListen(ComponentEvent.READY, this, 'init')){\n            this.componentInstance.removeEventListener(ComponentEvent.READY, this, 'init');\n        }\n    }\n\n    protected setUpBindings():void{\n\n    }\n\n    protected removeBindings():void{\n        this.binder.unbindAll();\n    }\n\n    public toString():string{\n        return this.id;\n    }\n\n    public init():void{\n        this.addEventListeners();\n        this.setUpBindings();\n    }\n\n    public destroy():void{\n        this.removeEventListeners();\n        this.removeBindings();\n        this.id = null;\n        this.componentInstance = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mediators/AbstractMediator.ts","/**\n * Created by dsmiley on 8/30/17.\n */\nimport 'reflect-metadata';\nimport * as Lavender from 'lavenderjs/lib';\n\nexport type injectionResolver = {property:string, type:Function};\n\nexport function inject(target:any, key:string){\n    //set target[key] equal to a new instance of the mapped constructor of target's type\n    let t = Reflect.getMetadata('design:type', target, key);\n    if (!t) {\n        // Needed to support react native inheritance\n        t = Reflect.getMetadata('design:type', target.constructor, key);\n    }\n    if(!target['resolveInjections']){\n        target['resolveInjections'] = new Array<injectionResolver>();\n    }\n    (target['resolveInjections'] as Array<injectionResolver>).push({property:key, type:t});\n    //TODO:see if we can overrite the constructor in target to include the code in AbstractMediator that resolves injections\n    console.log('key: ' + key);\n    console.log('t.name: ' + t.name);\n    console.log('target.constructor.name: ' + target.constructor.name);\n    console.log('target.constructor.prototype: ' + target.constructor.prototype);\n}\n\nexport function injectable(target:any){\n    // the new constructor behaviour\n    var f : any = function (...args) {\n        Object.getPrototypeOf(this.constructor.prototype).constructor.apply(this, args);\n        console.log(\"injectable constructor called, attempting to resolve injections: \" + this.constructor.prototype);\n        if(this.resolveInjections){\n            console.log(\"injections found!!!!: \");\n            //TODO: move this method to a decorator that sets up this.resolveInjections as an accessor and adds this functionality to the contructor\n            this.resolveInjections.forEach(function(value:injectionResolver, index:number){\n                var instance:any = this.context.injector.inject(value.type);\n                if(instance){\n                    this[value.property] = instance;\n                }\n            }.bind(this));\n        }\n        return this;\n    }\n\n    // copy prototype so intanceof operator still works\n    f.prototype = target.prototype;\n\n    return f;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/reflection/InjectorDecorator.ts","/**\n * Created by dsmiley on 7/24/17.\n */\nimport {IContext} from './IContext';\nimport {ICommandMap} from './ICommandMap';\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class CommandMap implements ICommandMap{\n    public eventFunctionMap:Object;\n    public instanceMap:Object;\n    public context:IContext;\n\n    constructor(context:IContext){\n        //Note: this could be improved by creating read only accessor methods for instanceMap and eventFunctionMap\n        this.eventFunctionMap = {};\n        this.instanceMap = {};\n        this.context = context;\n    }\n\n    public addCommand(eventType:string, handler:any, functionName:string='execute', useSingleton:boolean=false):void{\n        if( this.eventFunctionMap[eventType] === null || this.eventFunctionMap[eventType] === undefined ){\n            this.eventFunctionMap[eventType] = [];\n        }\n\n        if( this.hasCommandMap( eventType, handler, functionName ) ){\n            return;//don't add the handler/function twice\n        }\n\n        this.eventFunctionMap[eventType].push({eventType:eventType, handler:handler, functionName:functionName, useSingleton:useSingleton});\n\n        if( useSingleton ){\n            if( this.instanceMap[eventType] === null ||  this.instanceMap[eventType] === undefined ){\n                this.instanceMap[eventType] = {};\n            }\n            if( this.instanceMap[eventType][handler] === null ||  this.instanceMap[eventType][handler] === undefined ){\n                this.instanceMap[eventType][handler] = new handler(this.context);\n            }\n        }\n        if( !this.context.eventDispatcher.canListen(eventType, this, 'routeEventToCommand') ){\n            this.context.eventDispatcher.addEventListener(eventType, this, 'routeEventToCommand');\n        }\n    }\n\n    public hasCommandMap(eventType:string, handler:Object, functionName:string):boolean{\n        let hasCommand = false;\n        if( this.eventFunctionMap[eventType] !== null && this.eventFunctionMap[eventType] !== undefined ){\n            let mapArray = this.eventFunctionMap[eventType];\n            for( let itemIndex = 0; itemIndex < mapArray.length; itemIndex++){\n                let item = mapArray[ itemIndex ];\n                if( item.handler == handler && item.functionName == functionName ){\n                    hasCommand = true;\n                    break;\n                }\n            }\n        }\n        return hasCommand;\n    }\n\n    public removeCommand(eventType:string, handler:Object):void{\n        if( this.eventFunctionMap[eventType] !== null && this.eventFunctionMap[eventType] !== undefined ){\n            let mapArray = this.eventFunctionMap[eventType];\n            for( let itemIndex = mapArray.length - 1; itemIndex >= 0; itemIndex--){\n                let item = mapArray[ itemIndex ];\n                if( item.handler == handler ){\n                    //remove the item form the array\n                    switch (itemIndex) {\n                        case 0:\n                            mapArray.shift();\n                            break;\n                        case mapArray.length - 1:\n                            mapArray.pop();\n                            break;\n                        default:\n                            let head = mapArray.slice(0, itemIndex);\n                            let tail = mapArray.slice(itemIndex + 1);\n                            mapArray = head.concat(tail);\n                            break;\n                    }\n                }\n            }\n            if( this.eventFunctionMap[eventType].length <= 0 ){\n                this.context.eventDispatcher.removeEventListener(eventType, this, 'routeEventToCommand');\n                delete this.eventFunctionMap[eventType];\n            }\n        }\n    }\n\n    public removeAllCommands():void{\n        this.eventFunctionMap = {};\n        this.instanceMap = {};\n        this.context.eventDispatcher.removeAllEventListeners(this);\n    }\n\n    public routeEventToCommand(event:Lavender.IEvent):void{\n        if( this.eventFunctionMap[event.type] !== null && this.eventFunctionMap[event.type] !== undefined ){\n            let mapArray = this.eventFunctionMap[event.type];\n            for( let itemIndex = 0; itemIndex < mapArray.length; itemIndex++){\n                let item = mapArray[ itemIndex ];\n                if( item.useSingleton ){\n                    this.instanceMap[item.event.type][item.handler][item.functionName]();\n                }else{\n                    let instance;\n                    if( typeof item.handler === 'object' ){\n                        instance = item.handler;\n                    }else{\n                        //IMPORTANT: only constructor function will get the context! This is by design as it's assumed preconstructed objects have all required dependencies\n                        instance = new item.handler(this.context);\n                    }\n                    instance[item.functionName](event);\n                }\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/CommandMap.ts","/**\n * Created by dsmiley on 7/25/17.\n */\nimport {IComponentList} from './IComponentList';\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ComponentList extends Lavender.ArrayList implements IComponentList{\n    public instancesByConstructor:Object = {};\n    \n    constructor(){\n        super();\n    }\n    \n    protected addToHash(object:any):void{\n        if( this.instancesByConstructor[ object.constructor ] === null || this.instancesByConstructor[ object.constructor ] === undefined ){\n            this.instancesByConstructor[ object.constructor ] = [];\n        }\n        this.instancesByConstructor[ object.constructor ].push( object );\n    }\n    \n    protected removeItemFromHash(hash:Object, object:any):void{\n        let objects = hash[ object.constructor ];\n        if( objects === null || objects === undefined ||  objects.length < 1 ){\n            return;\n        }\n        for(let i = 0; i < objects.length; i++ ){\n            if( objects[i] == object ){\n                //remove the item from the array\n                switch (i) {\n                    case 0:\n                        objects.shift();\n                        break;\n                    case objects.length - 1:\n                        objects.pop();\n                        break;\n                    default:\n                        let head = objects.slice(0, i);\n                        let tail = objects.slice(i + 1);\n                        objects = head.concat(tail);\n                        break;\n                }\n                break;\n            }\n        }\n    }\n\n    public addItem(object:Object, hash?:Object, key?:string):number{\n        let index:number = super.addItem(object,hash,key);\n        //populate hash\n        this.addToHash(object);\n        return index;\n    }\n\n    public clear():void{\n        super.clearHash(this.instancesByConstructor);\n        super.clear();\n    }\n\n    public removeItemAt(index:number):void{\n        let object:Object = this.getItemAt( index );\n        this.removeItemFromHash(this.instancesByConstructor, object);\n        super.removeItemAt(index);\n    }\n\n    public insert(object:any, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false ):number{\n        let returnValue:number = super.insert(object,index,suppressChangeEvent,hash,key,replaceIndex);\n        this.addToHash(object);\n        return returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/ComponentList.ts","import {IContext} from \"./IContext\";\nimport {IComponentList} from \"./IComponentList\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IXtag, IDefinition, ILifecycle} from \"../../custom_definitions/xtag\";\nimport {IComponentMap} from \"./IComponentMap\";\nimport {ComponentList} from \"./ComponentList\";\nimport {LotusHTMLElement} from \"./LotusHTMLElement\";\n\ndeclare var xtag:IXtag;\n\n/**\n * Created by dsmiley on 7/25/17.\n */\nexport class ComponentMap implements IComponentMap{\n    public context:IContext;\n    public componentInstances:IComponentList;\n    public tagInstanceToRequestId:Object;\n\n    constructor(context:IContext){\n        this.context = context;\n        this.componentInstances = new ComponentList();\n        this.tagInstanceToRequestId = {};\n    }\n    \n    public success(result:Lavender.IResult):void{\n        let tagInstance:LotusHTMLElement = this.tagInstanceToRequestId[result.requestId];\n        let div:HTMLDivElement = document.createElement('div');\n        div.innerHTML = result.resultObj as string;\n        //clone the contents\n        let clone:DocumentFragment = document.importNode((div.childNodes[0] as HTMLTemplateElement).content, true) as DocumentFragment;\n        //select the root component node\n        let component:LotusHTMLElement = clone.querySelector(tagInstance.getAttribute('data-component-root')) as LotusHTMLElement;\n        component.lotusComponentInstance = tagInstance.lotusComponentInstance;\n        //create a shadow host from the tag instance and append the clone to it\n        let host:Element = tagInstance.createShadowRoot();\n        host.appendChild(clone);\n        //pass along the root component node to the view component\n        this.createComponent(component);\n        //Scope styles to the tag. This appends the tag's nodeName to all styles to simulate DOM encapsulation, however it will not shield the shadowDOM from selectors in the lightDOM. This is not possible with pollyfills at this time.\n        //Note window.WebComponents is added by bower web components core. shimStyling is used by polyfills\n        if( window['WebComponents'] && window['WebComponents'].ShadowCSS ){\n            window['WebComponents'].ShadowCSS.shimStyling(host,tagInstance.nodeName);\n        }\n    }\n\n    public fault(fault:Lavender.IFault):void{\n        console.log(fault);\n        throw new Error('Could not load template. Please check you defined the correct path.');\n    }\n\n    public onProgress(progress:number):void{\n\n    }\n\n    public addComponent(tagInstance:LotusHTMLElement, functionConstructor):void{\n        // fired once at the time a component\n        // is initially created or parsed\n        if( tagInstance.lotusComponentInstance === null || tagInstance.lotusComponentInstance === undefined ){\n            tagInstance.lotusComponentInstance  = new functionConstructor();\n            this.componentInstances.addItem(tagInstance.lotusComponentInstance);\n        }\n        //trigger mediator assignment if any\n        this.context.mediatorMap.apply(tagInstance.tagName.toLowerCase(), tagInstance.lotusComponentInstance);\n        //if the tag instance defines a scr attribute load the template and set up the shadow DOM\n        let src:string = tagInstance.getAttribute('data-template-url');\n        if( src !== null && src !== undefined ){\n            let httpService = new Lavender.XhrHttpService();\n            httpService.addResponder(this);\n            httpService.send(\n                'GET',\n                src,\n                null,\n                'text/html',\n                'text',\n                true);\n            this.tagInstanceToRequestId[httpService.requestId] = tagInstance;\n            return;\n        }\n        this.createComponent(tagInstance);\n    }\n\n    public createComponent(tagInstance:LotusHTMLElement):void{\n        tagInstance.lotusComponentInstance.created(tagInstance);\n    }\n\n    public mapComponent(tagName:string, prototype:HTMLElement, functionConstructor:Function, framework:IXtag):void{\n        if(!framework){\n            framework = xtag;\n        }\n        let componentMap:IComponentMap = this;\n        let lifecycle:ILifecycle = {\n            created: function(){\n                //IMPORTANT:, use builder patter here and create an add component function\n                componentMap.addComponent(this as LotusHTMLElement, functionConstructor);\n            },\n            inserted: function(){\n                // fired each time a component\n                // is inserted into the DOM\n                (this as LotusHTMLElement).lotusComponentInstance.inserted(this as LotusHTMLElement);\n            },\n            removed: function(){\n                // fired each time an element\n                // is removed from DOM\n                (this as LotusHTMLElement).lotusComponentInstance.removed(this as LotusHTMLElement);\n            },\n            attributeChanged: function(attrName: string, oldValue: any, newValue: any){\n                // fired when attributes are set\n                (this as LotusHTMLElement).lotusComponentInstance.attributeChanged(this as LotusHTMLElement);\n            }\n        } as ILifecycle;\n        let definition:IDefinition = {\n            // extend existing elements\n            prototype: prototype,\n            lifecycle:lifecycle\n        } as IDefinition;\n        framework.register(tagName, definition);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/ComponentMap.ts","/**\n * Created by dsmiley on 7/24/17.\n */\nimport {IContext} from './IContext';\nimport {IInjector} from './IInjector';\n\nexport class Injector implements IInjector{\n    public context:IContext;\n    public objectMap:Object;\n    public typeMap:Array<Object> = [];\n\n    constructor(context:IContext){\n        this.context = context;\n        this.objectMap = {};\n    }\n\n    public mapObject(key:any, constructor:Function, useSingleton:boolean=false):void{\n        if(typeof key == 'function'){\n            var mapIndex = -1;\n            this.typeMap.forEach(function(value:any, index:number){\n                if(value.constructor == constructor){\n                    mapIndex = index;\n                    return false;\n                }\n            });\n            //TODO:refactror to overrite index\n            if(mapIndex < 0){\n                this.typeMap.push({constructor:constructor, useSingleton:useSingleton, instance:null, type:key});\n            }\n        }else{\n            //instantiate singleton instance upon request is more efficient\n            this.objectMap[key] = {constructor:constructor, useSingleton:useSingleton, instance:null};\n        }\n    }\n\n    public mapSingletonInstance(key:any, instance:any):void{\n        if(typeof key == 'function'){\n            var mapIndex = -1;\n            this.typeMap.forEach(function(value:any, index:number){\n                if(value.instance == instance){\n                    mapIndex = index;\n                    return false;\n                }\n            });\n            //TODO:refactror to overrite index\n            if(mapIndex < 0){\n                this.typeMap.push({constructor: null, useSingleton: true, instance: instance});\n            }\n        }else {\n            //map injector as sigleton using the supplied instance\n            //this method is very useful for mapping objects that are themselves singletons and may have already been constructed\n            //prime example is the model wich generally is constructed before injections are defined\n            this.objectMap[key] = {constructor: null, useSingleton: true, instance: instance};\n        }\n    }\n\n    public inject(key:any):Object{\n        if(typeof key == 'function'){\n            var map:Object;\n            this.typeMap.forEach(function(value:any, index:number){\n                if(value.type == key || value.instance instanceof key){\n                    map = value;\n                    return false;\n                }\n            });\n            if(map){\n                if( map['useSingleton'] ){\n                    if( map['instance'] === null ){\n                        map['instance'] = new (map.constructor as FunctionConstructor)();\n                    }\n                    return map['instance'];\n                }else{\n                    return new (map.constructor as FunctionConstructor)();\n                }\n            }\n        }else{\n            if( this.objectMap[key] !== null && this.objectMap[key] !== undefined ){\n                if( this.objectMap[key].useSingleton ){\n                    if( this.objectMap[key].instance === null ){\n                        this.objectMap[key].instance = new this.objectMap[key].constructor();\n                    }\n                    return this.objectMap[key].instance;\n                }else{\n                    return new this.objectMap[key].constructor();\n                }\n            }\n        }\n        throw new Error('Lotus.Injector.prototype.getObject: could not find object for key: ' + key);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/Injector.ts","import {IMediatorMap} from \"./IMediatorMap\";\nimport {IContext} from \"./IContext\";\nimport {IComponent} from \"../view/IComponent\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IMediator} from \"../mediators/IMediator\";\n\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport class MediatorMap implements IMediatorMap{\n    protected _tagConstructorMap:Object;\n    protected _mediatorInstanceMap:Object;\n    public context:IContext;\n\n    constructor(context:IContext){\n        //Note: this could be improved by creating read only accessor methods for tagMap and eventFunctionMap\n        this._tagConstructorMap = {};\n        this._mediatorInstanceMap = {};\n        this.context = context;\n    }\n    \n    get tagConstructorMap():Object{\n        return this._tagConstructorMap;\n    }\n\n    get mediatorInstanceMap():Object{\n        return this._mediatorInstanceMap;\n    }\n\n    public add(tagName:string, mediatorConstructor:Function, useSingleton:boolean=false){\n        if( this.hasMediatorMap( tagName, mediatorConstructor ) ){\n            return;//don't add the mediatorConstructor/function twice\n        }\n        this.tagConstructorMap[tagName] = {useSingleton:useSingleton, constructor:mediatorConstructor, id:Lavender.UuidUtils.generateUUID(), name:mediatorConstructor.toString()};\n    }\n\n    public remove(tagName:string, mediatorConstructor:Function):string{\n        if( !this.hasMediatorMap( tagName, mediatorConstructor ) ){\n            return;//don't add the mediatorConstructor/function twice\n        }\n\n        let mapId = this.tagConstructorMap[tagName].id;\n\n        this.tagConstructorMap[tagName] = null;\n        delete this.tagConstructorMap[tagName];\n\n        if(this._mediatorInstanceMap[mapId] === null ||  this._mediatorInstanceMap[mapId] === undefined){\n            return;//mo mediators were applied to this mapping\n        }\n        //iterate in reverse over all instance and destroy\n        for( let i=0; i < (this._mediatorInstanceMap[mapId] as Array<IMediator>).length ; i++){\n            this._mediatorInstanceMap[mapId][i].destroy();\n        }\n        //make the array eligible for garbage collection\n        this._mediatorInstanceMap[mapId] = null;\n        delete this._mediatorInstanceMap[mapId];\n\n        return mapId;//return mapId to help enable better tests\n    }\n\n    public apply(tagName:string, componentInstance:IComponent):void{\n        let map = this.tagConstructorMap[tagName];\n\n        if(!map){\n            return;//no mediator found for this tag\n        }\n\n        if(this._mediatorInstanceMap[map.id] === null ||  this._mediatorInstanceMap[map.id] === undefined){\n            this._mediatorInstanceMap[map.id] = [];\n        }\n\n        if( map.useSingleton ){\n            if( (this._mediatorInstanceMap[map.id] as Array<IMediator>).length == 0 ){\n                (this._mediatorInstanceMap[map.id] as Array<IMediator>).push( new map.constructor(componentInstance, this.context) );\n            }\n        }else{\n            (this._mediatorInstanceMap[map.id] as Array<IMediator>).push( new map.constructor(componentInstance, this.context) );\n        }\n    }\n\n    public hasMediatorMap(tagName:string, mediatorConstructor:Function):boolean{\n        return (this.tagConstructorMap.hasOwnProperty(tagName) && this.tagConstructorMap[tagName].name == mediatorConstructor.toString())\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/MediatorMap.ts","import {ICommand} from \"./ICommand\";\nimport {IContext} from \"../../context/IContext\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {ActionSuccessEvent} from '../events/ActionSuccessEvent';\nimport {ActionErrorEvent} from '../events/ActionErrorEvent';\nimport {IService} from \"../service/IService\";\n\n/**\n * Created by dsmiley on 7/28/17.\n */\nexport abstract class AbstractCommand extends Lavender.EventDispatcher implements ICommand{\n    protected service:IService;\n    protected opModel:Lavender.AsyncOperationModel;\n    protected parser:Lavender.IParser;\n    protected errorModel:Lavender.ErrorModel;\n    public context:IContext;\n\n\n    constructor(context:IContext){\n        super();\n        this.context = context;\n        this.service = context.injector.inject('service') as IService;\n        this.parser = context.injector.inject('parser') as Lavender.IParser;\n        this.opModel = context.injector.inject('opModel') as Lavender.AsyncOperationModel;\n        this.errorModel = context.injector.inject('errorModel') as Lavender.ErrorModel;\n    }\n    \n    public execute(event:Lavender.IEvent):string{\n        if (this.service === null || this.service === undefined || this.opModel === null || this.opModel === undefined || this.parser === null || this.parser === undefined) {\n            this.executionError();\n        }\n        this.opModel.asyncOperationComplete = false;\n        this.opModel.asyncOperationCount += 1;\n        return this.executeServiceMethod();\n    }\n\n    //method must return a requestID\n    //Override this method in subclasses\n    protected executeServiceMethod():string{\n        return null;\n    }\n\n    //Override this method in subclasses\n    //it should parse the result and return the resulting Object tree\n    protected parseResponse(result:Lavender.IResult):Object{\n        return null;\n    }\n\n    protected dispatchSuccess(parsedResult:Object):void{\n        let doneEvent = new ActionSuccessEvent(ActionSuccessEvent.SUCCESS,{result:parsedResult});\n        this.dispatch(doneEvent);\n    }\n\n    public success(result:Lavender.IResult):void{\n        try {\n            //result is instance of Lavender.HttpSuccess\n            let parsedResult = this.parseResponse(result);\n            this.dispatchSuccess(parsedResult);\n        } catch (e) {\n            let errorMessage = this.getErrorMessage() + \"\\n\" + e.message + \"\\n\" + e.stack;\n            let errorEvent = new ActionErrorEvent(ActionErrorEvent.ERROR, {message:errorMessage});\n            this.dispatch(errorEvent);\n            let error = {name: 'error', message: errorMessage};\n            this.errorModel.errors.addItem(error);\n            this.errorModel.appError = true;\n        } finally {\n            this.opModel.asyncOperationCount -= 1;\n            if (this.opModel.asyncOperationCount == 0) {\n                this.opModel.asyncOperationComplete = true;\n            }\n            this.destroy();\n        }\n    }\n\n    public fault(fault:Lavender.IFault):void{\n        //fault is an instance of Lavender.HttpFault\n        this.opModel.asyncOperationCount -= 1;\n        if (this.opModel.asyncOperationCount == 0) {\n            this.opModel.asyncOperationComplete = true;\n        }\n        let errorMessage = this.getFaultString() + fault.message;\n        let errorEvent = new ActionErrorEvent(ActionErrorEvent.ERROR, {message:errorMessage});\n        this.dispatch(errorEvent);\n        let error = {name: fault.status, message: errorMessage};\n        this.errorModel.errors.addItem(error);\n        this.errorModel.appError = true;\n        this.destroy();\n    }\n\n    //Override this method in subclasses\n    public onProgress(progress:number):void{\n\n    }\n\n    //Override this method in subclasses\n    protected getFaultString():string{\n        return null;\n    }\n\n    //Override this method in subclasses\n    protected getErrorMessage():string{\n        return null;\n    }\n\n    protected executionError():void{\n        // These properties weren't injected or supplied in the constructor or manually.\n        // They are needed so we throw an error.\n        let msg = this.getExecErrorString();\n        if (this.service === null || this.service === undefined) {\n            msg += \" service\";\n        }\n        if (this.opModel === null || this.opModel) {\n            msg += \", opModel\";\n        }\n        if (this.parser === null || this.parser === undefined) {\n            msg += \", parser\";\n        }\n\n        msg += \".\";\n\n        throw new Error(msg);\n    }\n\n    //Override this method in subclasses\n    protected getExecErrorString():string{\n        return 'Lavender.AbstractServiceAction.prototype.executionError: the following are required: ';\n    }\n\n    public destroy():void{\n        if( this.canListen(ActionErrorEvent.ERROR, this, 'onError') ){\n            this.removeEventListener(ActionErrorEvent.ERROR, this, 'onError');\n        }\n        if( this.canListen(ActionSuccessEvent.SUCCESS, this, 'onSuccess') ){\n            this.removeEventListener(ActionSuccessEvent.SUCCESS, this, 'onSuccess');\n        }\n        this.context = null;\n        this.opModel = null;\n        this.service = null;\n        this.parser = null;\n        this.errorModel = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/command/AbstractCommand.ts","/**\n * Created by dsmiley on 5/18/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ActionErrorEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n\n        if( !payload || (payload as any).message === null || (payload as any).message === undefined ){\n            throw new Error('Lavender.ActionErrorEvent: payload.message is required');\n        }\n    }\n\n    public static ERROR:string = 'actionError';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ActionErrorEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ActionErrorEvent.ts","/**\n * Created by dsmiley on 5/18/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ActionSuccessEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n\n        if( payload === null || payload === undefined ){\n            throw new Error('Lavender.ActionSuccessEvent: payload is required');\n        }\n    }\n\n    public static SUCCESS:string = 'actionSuccess';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ActionSuccessEvent(this.type, this.payload)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ActionSuccessEvent.ts","import {IService} from \"./IService\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {HttpServiceFactory} from '../../factory/HttpServiceFactory'\n/**\n * Created by dsmiley on 7/27/17.\n * This is a sample asynchronous action used in unit tests. It can be used as a template though for all asynch actions\n */\nexport class SampleService extends Lavender.AbstractHttpService implements IService{\n    public config:Lavender.Config;\n    public serviceMap:Object;\n\n    constructor(config:Lavender.Config){\n        super();\n        this.config = config;\n        this.serviceMap = (config.hasOwnProperty('serviceMap')) ? config['serviceMap'] :\n        {\n            'echoJSON'\t\t\t\t    : ':3000/echoJSON/key/{0}',\n            'localRequest'\t\t\t\t: ':3000/printondemand/1234/photos/{0}'\n        };\n    }\n    \n    protected getURLWithParams(key:string, args:Array<string>):string{\n        return (args !== null && args !== undefined ) ? Lavender.StringUtil.substitute(this.getURL(key), args) : this.getURL(key);\n    }\n\n    protected getURL(key:string):string{\n        return this.config.baseUrl + this.serviceMap[key];\n    }\n\n    public echoJSON(jsonKey:string, key:string, responder:Lavender.IResponder, paramObj:Object={}, format:string='json', contentType:string='application/json', cache:boolean=false):string{\n        //this is a sample service method to be used as an example only. You service methods will be dependent on your service API and model objects\n        //note the use of the key param. This is a very importnat feature and I highly recommend that whatever service you created implements a similar method\n        //don't hard code or otherwise tightly couple the URL creation inside this method. The use of a builder pattern ensures the end point can be changed based on environment\n        var url = this.getURLWithParams(key, [jsonKey]);\n        return this.sendRequest(true, responder, url, paramObj, format, contentType, cache);\n    }\n\n    public testRequestUsingIncludedAPI(key:string, responder:Lavender.IResponder, format:string='json', contentType:string='application/json', cache:boolean=false):string{\n        var url = this.getURLWithParams(key, ['54232fc2-7345-4921-8079']);//hard coded args\n        return this.sendRequest(false, responder, url, null, format, contentType, cache);\n    }\n\n    public sendRequest(isPostRequest:boolean, responder:Lavender.IResponder, url:string, paramObj:Object={}, format:string='json', contentType:string='application/json', cache:boolean=false):string{\n        var params = JSON.stringify(paramObj);\n\n        if( cache === null || cache === undefined ){\n            cache = false;\n        }\n\n        var httpRequestInstance:Lavender.IHttpService = HttpServiceFactory.getInstance().getHttpService(this.config.serviceCode);\n        httpRequestInstance.addResponder(responder);\n        var requestType = (isPostRequest) ? 'POST' : 'GET';\n        return httpRequestInstance.send(requestType, url, params, contentType, format, cache);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/service/SampleService.ts","import {IEventDispatcherFactory} from \"./IEventDispatcherFactory\";\nimport * as Lavender from 'lavenderjs/lib';\n\n/**\n * Created by dsmiley on 7/27/17.\n */\nexport class EventDispatcherFactory implements IEventDispatcherFactory{\n    private static INSTANCE:IEventDispatcherFactory = null;\n\n    constructor(){\n        if (EventDispatcherFactory.INSTANCE != null ) {\n            throw( 'EventDispatcherFactory.INSTANCE: Singleton class has already been instantiated' );\n        } else {\n            //perform any required object set up\n        }\n    }\n\n    public static getInstance():IEventDispatcherFactory{\n        if (EventDispatcherFactory.INSTANCE == null) {\n            EventDispatcherFactory.INSTANCE = new EventDispatcherFactory();\n        }\n        return EventDispatcherFactory.INSTANCE;\n    }\n\n    public getEventDispatcher(eventDispatcherCode:string='Lavender.EventDispatcher'):Lavender.IEventDispatcher{\n        let dispatcher;\n        //config.daoCode defaults to jquery\n        switch( eventDispatcherCode ){\n            case \"Lavender.EventDispatcher\":\n            default:\n                dispatcher = new Lavender.EventDispatcher();\n        }\n        return dispatcher;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/factory/EventDispatcherFactory.ts","/**\n * Created by dsmiley on 8/4/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractComponent} from \"./AbstractComponent\";\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\n\nexport class AbstractCollectionView extends AbstractComponent{\n    private _collectionContainer;\n    private _itemTemplate:HTMLElement;\n    private _selectedItem:AbstractItemView;\n    private _collection:Lavender.IList;\n    private _itemView:string;//IMPORTANT: this value must be defined on the tag\n    private _childViews:Lavender.ArrayList = new Lavender.ArrayList();\n\n    constructor(){\n        super();\n    }\n\n    get collectionContainer() {\n        return this._collectionContainer;\n    }\n\n    set collectionContainer(value) {\n        this._collectionContainer = value;\n        this.notify(value, 'collectionContainer');\n    }\n\n    get itemTemplate() {\n        return this._itemTemplate;\n    }\n\n    set itemTemplate(value) {\n        this._itemTemplate = value;\n        this.notify(value, 'itemTemplate');\n    }\n\n    get selectedItem() {\n        return this._selectedItem;\n    }\n\n    set selectedItem(value) {\n        this._selectedItem = value;\n        this.notify(value, 'selectedItem');\n    }\n\n    get collection():Lavender.IList {\n        return this._collection;\n    }\n\n    set collection(value) {\n        this.removeCollectionEventListeners();//must occur first\n        this._collection = value;\n        if(value){\n            this.addCollectionEventListeners();\n        }//must occur after line above\n        this.notify(value, 'collection');\n    }\n\n    get childViews():Lavender.ArrayList {\n        return this._childViews;\n    }\n\n    get itemView() {\n        return this._itemView;\n    }\n\n    set itemView(value) {\n        this._itemView = value;\n        this.notify(value, 'itemView');\n    }\n\n    protected destroyChildViews():void{\n        for( let i=0; i < this.childViews.length; i++){\n            this.removeChildView( this.childViews.getItemAt(i) );\n        }\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            while (this.collectionContainer.firstChild) {\n                this.collectionContainer.removeChild(this.collectionContainer.firstChild);\n            }\n        }else{\n            //remove child nodes\n            while (this.element.firstChild) {\n                this.element.removeChild(this.element.firstChild);\n            }\n        }\n        this._childViews = null;\n    }\n\n    protected addCollectionEventListeners():void{\n        if( this.collection !== null && this.collection !== undefined ){\n            this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\n        }\n    }\n\n    protected removeCollectionEventListeners():void{\n        if( this.collection !== null && this.collection !== undefined ){\n            this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\n        }\n    }\n\n    protected onCollectionChange(event:Lavender.CollectionEvent):void{\n        switch(event.payload['type']){\n            case 'add':\n                this.addChildView(event.payload['item']);\n                break;\n            case 'remove':\n                this.removeChildViewFromModel(event.payload['item']);\n                break;\n            case 'removeAll':\n                this.removeAllChildViews();\n                break;\n        }\n    }\n\n    protected createChildView(model:Object):AbstractItemView{\n        let evalClass = eval(this.itemView);\n        return new evalClass();\n    }\n\n    protected addChildView(model:Object):void{\n        let view:AbstractItemView = this.createChildView( model );\n        //clone the view\n        let clone = this.itemTemplate.cloneNode(true);\n        view.model = model;\n        view.element = clone as LotusHTMLElement;\n        view.init();\n        this.childViews.addItem( view );\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            this.collectionContainer.appendChild(view.element);\n        }else{\n            this.element.appendChild(view.element);\n        }\n        this.addViewEventListeners( view );\n    }\n\n    protected addViewEventListeners(view:AbstractItemView):void{\n        view.addEventListener(ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\n        view.addEventListener(ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\n        view.addEventListener(ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\n    }\n\n    protected removeViewEventListeners(view:AbstractItemView):void{\n        view.removeEventListener(ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\n        view.removeEventListener(ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\n        view.removeEventListener(ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\n    }\n\n    protected onItemSelectedDeselect(event:ItemViewEvent):void{\n        if( this.selectedItem !== null && this.selectedItem !== undefined && this.selectedItem != event.payload['item'] ){\n            this.selectedItem.resetState();\n        }\n        this.selectedItem = ( event.type == ItemViewEvent.ITEM_SELECTED ) ? event.payload['item'] : null;\n    }\n\n    protected onItemRemove(event:ItemViewEvent):void{\n        let index = this.collection.indexOf( event.payload['item'].model );\n        if( index >= 0 ){\n            this.collection.removeItemAt(index);\n        }\n    }\n\n    //IMPORTANT: this is a convience method for manual population only, do not bind it to a collection models collection change event as the add event is also fired\n    protected addAllChildViews(models:Lavender.IList):void{\n        for( let i=0; i < models.length; i++ ){\n            this.addChildView( models[i] );\n        }\n    }\n\n    protected removeAllChildViews():void{\n        for( let i=this.childViews.length-1; i >= 0; i--){\n            this.removeChildView( this.childViews.getItemAt(i) );\n        }\n    }\n\n    protected removeChildView(view:AbstractItemView):void{\n        this.removeViewEventListeners( view );\n        this.removeElement( view.element );\n        view.destroy();\n        this.childViews.removeItemAt( this.childViews.indexOf(view) );\n    }\n\n    protected removeElement(element:HTMLElement):void{\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            this.collectionContainer.removeChild(element);\n        }else{\n            this.element.removeChild(element);\n        }\n    }\n\n    protected removeChildViewFromModel(model:Object):void{\n        //get the view associated with the model\n        for( let i=0; i < this.childViews.length; i++){\n            if( this.childViews.getItemAt(i).model == model ){\n                this.removeChildView( this.childViews.getItemAt(i) );\n                break;\n            }\n        }\n    }\n\n    protected initCollection():void{\n        //assign a default collection if it has not already been set\n        if( this.collection === null || this.collection === undefined ){\n            this.collection = this.getCollection();\n        }\n    }\n\n    public init():void{\n        super.init();\n        this.initCollection();\n        this.render();\n    }\n\n    public render():void{\n        if( this.itemView === null || this.itemView == undefined ){\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\n        }\n        for( let i=0; i < this.collection.length; i++ ){\n            this.addChildView( this.collection.getItemAt(i) );\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('collectionContainer', this, 'collectionContainer'));\n        this.skinParts.addItem(new SkinPart('itemTemplate', this, 'itemTemplate'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //required, defines the layout for child views\n            case 'itemTemplate':\n                element.parentNode.removeChild(element);//remove from the view\n                break;\n\n        }\n    }\n\n    public getCollection():Lavender.IList{\n        return new Lavender.ArrayList();\n    }\n\n    public destroy():void{\n        this.destroyChildViews();\n        super.destroy();\n        this.collection = null;\n        this.itemView = null;\n        this.collectionContainer = null;\n        this.itemTemplate = null;\n        this.selectedItem = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractCollectionView.ts","import {AbstractComponent} from \"./AbstractComponent\";\n/**\n * Created by dsmiley on 8/4/17.\n */\nexport abstract class AbstractItemView extends AbstractComponent{\n\n    private _model:Object;\n\n    constructor(){\n        super();\n    }\n\n    get model():Object {\n        return this._model;\n    }\n\n    set model(val:Object) {\n        this._model = val;\n        this.onModelChange(val);\n        this.notify(val, 'model');\n    }\n\n    public setElementDisplay(element:HTMLElement, display:string):void{\n        //at some points in the items lifecycle element could be null, se we require this check\n        if( element !== null && element !== undefined ){\n            element.style.display = display;\n        }\n    }\n\n    //stub for override\n    public onModelChange(value):void{\n\n    }\n\n    //stub for override\n    public resetState():void{\n\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.model = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractItemView.ts","/**\n * Created by dsmiley on 8/23/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\nimport {AbstractCollectionView} from \"./AbstractCollectionView\";\n\nexport class AbstractRecordSetCollectionView extends AbstractCollectionView{\n    private _navBtnEnabledClass:string;\n    private _navBtnDisabledClass:string;\n    private _nextBtn:HTMLElement;\n    private _pervBtn:HTMLElement;\n    private _firstBtn:HTMLElement;\n    private _lastBtn:HTMLElement;\n    private _recordSet:Lavender.RecordSet;\n\n    get recordSet():Lavender.RecordSet {\n        return this._recordSet;\n    }\n\n    set recordSet(value:Lavender.RecordSet) {\n        this.removeCollectionEventListeners();//must occur first\n        this._recordSet = value;\n        this.addCollectionEventListeners();//must occur after line above\n        this.notify(value, 'recordSet');\n    }\n\n    get navBtnEnabledClass() {\n        return this._navBtnEnabledClass;\n    }\n\n    set navBtnEnabledClass(value) {\n        this._navBtnEnabledClass = value;\n        this.notify(value, 'navBtnEnabledClass');\n    }\n\n    get navBtnDisabledClass() {\n        return this._navBtnDisabledClass;\n    }\n\n    set navBtnDisabledClass(value) {\n        this._navBtnDisabledClass = value;\n        this.notify(value, 'navBtnDisabledClass');\n    }\n\n    get nextBtn() {\n        return this._nextBtn;\n    }\n\n    set nextBtn(value) {\n        this._nextBtn = value;\n        this.notify(value, 'nextBtn');\n    }\n\n    get pervBtn() {\n        return this._pervBtn;\n    }\n\n    set pervBtn(value) {\n        this._pervBtn = value;\n        this.notify(value, 'pervBtn');\n    }\n\n    get firstBtn() {\n        return this._firstBtn;\n    }\n\n    set firstBtn(value) {\n        this._firstBtn = value;\n        this.notify(value, 'firstBtn');\n    }\n\n    get lastBtn() {\n        return this._lastBtn;\n    }\n\n    set lastBtn(value) {\n        this._lastBtn = value;\n        this.notify(value, 'lastBtn');\n    }\n\n    constructor(){\n        super();\n        this.nextBtn = null;\n        this.pervBtn = null;\n        this.firstBtn = null;\n        this.lastBtn = null;\n    }\n\n    protected addCollectionEventListeners():void{\n        //IMPORTANT, do not call super, we don't want to listen for collection change events but instead the events below\n        if( this.recordSet !== null && this.recordSet !== undefined ){\n            this.recordSet.addEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\n            this.binder.bind(this.recordSet, 'pageList', this, 'onPageListChange', null, null, 'pageListChaneHandler');\n        }\n    }\n\n    protected removeCollectionEventListeners():void{\n        //IMPORTANT, do not call super\n        //This method can be called as part of a destroy sequence where the collection is nulled out, so we check for NPE\n        if( this.recordSet !== null && this.recordSet !== undefined ){\n            //remove old event listeners\n            this.recordSet.removeEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\n        }\n        if( this.binder !== null && this.binder !== undefined ){\n            this.binder.unbind('pageListChaneHandler');\n        }\n    }\n\n    protected onClickHandler(event:Event):void{\n        //event.currentTarget always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\n        switch( (event.currentTarget as HTMLElement).getAttribute('data-skin-part') ){\n            case 'nextBtn':\n                if( this.recordSet.selectedPage + 1 > this.recordSet.totalPages ){\n                    return;\n                }\n                this.recordSet.selectedPage += 1;\n                break;\n            case 'pervBtn':\n                if( this.recordSet.selectedPage - 1 < 1 ){\n                    return;\n                }\n                this.recordSet.selectedPage -= 1;\n                break;\n            case 'firstBtn':\n                this.recordSet.selectedPage = 1;\n                break;\n            case 'lastBtn':\n                this.recordSet.selectedPage = this.recordSet.totalPages;\n                break;\n        }\n        if( this.nextBtn ){\n            this.refreshNavButtonDisplay( this.nextBtn, 'next');\n        }\n        if( this.pervBtn ){\n            this.refreshNavButtonDisplay( this.pervBtn, 'prev');\n        }\n        if( this.firstBtn ){\n            this.refreshNavButtonDisplay( this.firstBtn, 'prev');\n        }\n        if( this.lastBtn ){\n            this.refreshNavButtonDisplay( this.lastBtn, 'next');\n        }\n    }\n\n    protected refreshNavButtonDisplay(button:HTMLElement, type:String):void{\n        if(button.classList.contains(this.navBtnDisabledClass)){\n            button.classList.remove(this.navBtnDisabledClass)\n        }\n        if(button.classList.contains(this.navBtnEnabledClass)){\n            button.classList.remove(this.navBtnEnabledClass)\n        }\n        let classToAdd;\n        if( type === 'next' ){\n            classToAdd = ( this.recordSet.selectedPage + 1 > this.recordSet.totalPages ) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\n        }else{\n            classToAdd =  ( this.recordSet.selectedPage - 1 < 1 ) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\n        }\n        button.classList.add(classToAdd);\n    }\n    \n    protected onResultsChange(event:Lavender.RecordSetEvent):void{\n        this.render();\n    }\n\n    protected onPageListChange(value:Lavender.IList):void{\n        this.render();\n    }\n\n    protected initCollection():void{\n        //assign a default collection if it has not already been set\n        if( this.recordSet === null || this.recordSet === undefined ){\n            this.recordSet = new Lavender.RecordSet();\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('nextBtn', this, 'nextBtn'));\n        this.skinParts.addItem(new SkinPart('pervBtn', this, 'pervBtn'));\n        this.skinParts.addItem(new SkinPart('firstBtn', this, 'firstBtn'));\n        this.skinParts.addItem(new SkinPart('lastBtn', this, 'lastBtn'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //optional container for displaying collection elements\n            case 'nextBtn':\n                this.nextBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'pervBtn':\n                this.pervBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'firstBtn':\n                this.firstBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'lastBtn':\n                this.lastBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n        }\n        //IMPORTANT: you could defined these classes on a sort of dummy skin part defined within the component, or on one of the buttons\n        if( element.getAttribute('data-enabledClass') !== null && element.getAttribute('data-enabledClass') !== undefined ){\n            this.navBtnEnabledClass = element.getAttribute('data-enabledClass');\n        }\n        if( element.getAttribute('data-disabled-class') !== null && element.getAttribute('data-disabled-class') !== undefined ){\n            this.navBtnDisabledClass = element.getAttribute('data-disabled-class');\n        }\n    }\n\n    public render():void{\n        //IMPORTANT: do not call super!\n        if( this.itemView === null || this.itemView == undefined ){\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\n        }\n        //clear the current view\n        this.removeAllChildViews();\n        if( this.nextBtn ){\n            this.refreshNavButtonDisplay( this.nextBtn, 'next');\n        }\n        if( this.pervBtn ){\n            this.refreshNavButtonDisplay( this.pervBtn, 'prev');\n        }\n        if( this.firstBtn ){\n            this.refreshNavButtonDisplay( this.firstBtn, 'prev');\n        }\n        if( this.lastBtn ){\n            this.refreshNavButtonDisplay( this.lastBtn, 'next');\n        }\n        if (this.recordSet.pageList === null || this.recordSet.pageList === undefined) {\n            return;\n        }\n        //populate the new view using the record set's current page\n        for (let i = 0; i < this.recordSet.pageList.length; i++) {\n            let model = this.recordSet.pageList.getItemAt(i);\n            this.addChildView(model);\n        }\n        this.selectedItem = null;//reset the selected item state\n    }\n\n    public destroy():void{\n        super.destroy();\n        if( this.nextBtn ){\n            this.nextBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.pervBtn ){\n            this.pervBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.firstBtn ){\n            this.firstBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.lastBtn ){\n            this.lastBtn.removeEventListener('click', this.onClickHandler);\n        }\n        this.recordSet.destroy();\n        this.navBtnEnabledClass = null;\n        this.navBtnDisabledClass = null;\n        this.nextBtn = null;\n        this.pervBtn = null;\n        this.firstBtn = null;\n        this.lastBtn = null;\n        this.recordSet = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractRecordSetCollectionView.ts","/**\n * Created by dsmiley on 8/23/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\n\nexport class AbstractThumbnailView extends AbstractItemView{\n    private _thumbWidth:string;\n    private _thumbHeight:string;\n    private _thumbnail:HTMLImageElement;\n    private _thumbnailContainer:HTMLElement;\n    private _allowDrag = true;\n    private _thumbnailDisplay:string;\n    private _thumbnailSelectedClass:string;\n    \n    constructor(){\n        super();\n    }\n\n    get thumbWidth():string {\n        return this._thumbWidth;\n    }\n\n    set thumbWidth(value:string) {\n        this._thumbWidth = value;\n        this.notify(value, 'thumbWidth');\n    }\n\n    get thumbHeight():string {\n        return this._thumbHeight;\n    }\n\n    set thumbHeight(value:string) {\n        this._thumbHeight = value;\n        this.notify(value, 'thumbHeight');\n    }\n\n    get thumbnail():HTMLImageElement {\n        return this._thumbnail;\n    }\n\n    set thumbnail(value:HTMLImageElement) {\n        this._thumbnail = value;\n        this.notify(value, 'thumbnail');\n    }\n\n    get thumbnailContainer():HTMLElement {\n        return this._thumbnailContainer;\n    }\n\n    set thumbnailContainer(value:HTMLElement) {\n        this._thumbnailContainer = value;\n        this.notify(value, 'thumbnailContainer');\n    }\n\n    get allowDrag():boolean {\n        return this._allowDrag;\n    }\n\n    set allowDrag(value:boolean) {\n        this._allowDrag = value;\n        this.notify(value, 'allowDrag');\n    }\n\n    protected sizeImage():void{\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        let defaultSize:Lavender.widthHeightObject = this.getDefaultSize();\n        let containerSize:Lavender.widthHeightObject = this.getContainerSize();\n        let scale = Lavender.ResizeUtils.getScaleToFit(defaultSize, containerSize);\n        let width = defaultSize['width'] * scale;\n        let height = defaultSize['height'] * scale;\n        //console.log(\"width/height \"+width+\"/\"+height)\n        this.thumbnail.setAttribute('width', width + 'px');\n        this.thumbnail.setAttribute('height', height + 'px');\n        this.thumbnail.style.maxWidth = containerSize.width + 'px';\n        this.thumbnail.style.maxHeight = containerSize.height + 'px';\n    }\n\n    protected onThumbClick(event:Event):void{\n        this.resetState();\n    }\n\n    //stub for override\n    protected onDragStart(event:Event):void{\n\n    }\n\n    protected getImageURL():string{\n        return this.model['thumbUrl'];\n    }\n\n    protected getDefaultSize():Lavender.widthHeightObject{\n        return {width:parseInt(this.thumbnail.getAttribute('width')), height:parseInt(this.thumbnail.getAttribute('height'))} as Lavender.widthHeightObject;\n    }\n\n    protected getContainerSize():Lavender.widthHeightObject{\n        var returnObj = (this.thumbnailContainer !== null && this.thumbnailContainer !== undefined ) ? {width:parseInt(window.getComputedStyle(this.thumbnailContainer).width), height:parseInt(window.getComputedStyle(this.thumbnailContainer).height)} : {width:NaN, height:NaN};\n        //if the container has a defined width and height set in the tempalte use that instead of our defaults\n        if( !isNaN( parseInt(this.thumbWidth) ) && !isNaN( parseInt(this.thumbWidth) ) ){\n            returnObj = {width:parseInt(this.thumbWidth), height:parseInt(this.thumbHeight)} as Lavender.widthHeightObject;\n        }\n        return returnObj;\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        this.thumbnail.setAttribute('draggable', (this.allowDrag) ? 'true' : 'false');\n        this.thumbnail.addEventListener('click', this.onThumbClick.bind(this));\n        this.thumbnail.addEventListener('dragstart', this.onDragStart.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        this.thumbnail.removeEventListener('click', this.onThumbClick);\n        this.thumbnail.removeEventListener('dragstart', this.onDragStart);\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('thumbnail', this, 'thumbnail'));\n        this.skinParts.addItem(new SkinPart('thumbnailContainer', this, 'thumbnailContainer'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'thumbnail':\n                this._thumbnailDisplay = this.thumbnail.style.display;\n                this.thumbnail.onload = function(event){\n                    if(!this.thumbnail){\n                        return;\n                    }\n                    this.thumbnail.onload = null;\n                    this.thumbnail.style.display = this._thumbnailDisplay;\n                    this.sizeImage();\n                }.bind(this);\n                this.thumbnail.style.display = 'none';\n                this.thumbnail['src'] = this.getImageURL();\n                this.addEventListeners();\n                break;\n            case 'thumbnailContainer':\n                this._thumbnailSelectedClass = this.thumbnailContainer.getAttribute('selected-class');\n                break;\n        }\n    }\n\n    public resetState():void{\n        this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);\n        var eventType = ( this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass) ) ? ItemViewEvent.ITEM_SELECTED : ItemViewEvent.ITEM_DESELECTED;\n        //dispatch event to notify view that the layout was selected/or deselected\n        this.dispatch(new ItemViewEvent(eventType, {item:this}));\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.removeEventListeners()\n        this.thumbnail = null;\n        this.thumbnailContainer = null;\n        this._thumbnailSelectedClass = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractThumbnailView.ts","/**\n * Created by dsmiley on 8/1/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\n\nexport class SkinPartList extends Lavender.ArrayList{\n    public skinPartsByLabel:Object = {};\n    \n    constructor(source?:Array<any>, allowDuplicates:boolean = true){\n        super(source,allowDuplicates);\n    }\n    \n    public addItem(object:SkinPart, hash?:Object, key?:string):number{\n        //ensure the object is valid before proceeding\n        let index = super.addItem(object, hash, key);\n        //populate hash\n        this.skinPartsByLabel[ object.label ] = object;\n        return index;\n    }\n\n    public clear():void{\n        super.clearHash(this.skinPartsByLabel);\n        super.clear();\n    }\n    \n    public removeItemAt(index:number):void{\n        let skinPart:SkinPart = this.getItemAt( index );\n        super.removeItemFromHash(this.skinPartsByLabel, skinPart.label);\n        super.removeItemAt(index);\n    }\n\n    public insert(object:SkinPart, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false ):number{\n        //ensure the object is valid before proceeding\n        let returnValue = super.insert(object, index,suppressChangeEvent,hash,key,replaceIndex);\n        //populate hash\n        this.skinPartsByLabel[ object.label ] = object;\n        return returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/SkinPartList.ts","import * as Lavender from 'lavenderjs/lib';\nimport {IMediatorMap} from \"./IMediatorMap\";\nimport {IComponentMap} from \"./IComponentMap\";\nimport {ICommandMap} from \"./ICommandMap\";\nimport {IInjector} from \"./IInjector\";\nimport {IContext} from \"./IContext\";\nimport {ComponentMap} from \"./ComponentMap\";\nimport {CommandMap} from \"./CommandMap\";\nimport {Injector} from \"./Injector\";\nimport {MediatorMap} from \"./MediatorMap\";\nimport {EventDispatcherFactory} from \"../factory/EventDispatcherFactory\";\n\n/**\n * Created by dsmiley on 7/24/17.\n */\nexport class Context implements IContext{\n    public config:Object;\n    public eventDispatcher:Lavender.IEventDispatcher;\n    public componentMap:IComponentMap;\n    public commandMap:ICommandMap;\n    public injector:IInjector\n    public mediatorMap:IMediatorMap;\n    \n    constructor(config:Object, params:Object){\n        this.config = config;\n        //IMPORTANT: must occur first so application event bus is configured\n        this.eventDispatcher = EventDispatcherFactory.getInstance().getEventDispatcher();\n        this.componentMap = new ComponentMap(this);//create factory if we require sub classes one day\n        this.commandMap = new CommandMap(this);//create factory if we require sub classes one day\n        this.injector = new Injector(this);//create factory if we require sub classes one day\n        this.mediatorMap = new MediatorMap(this);\n        this.startUp();\n    }\n\n    public startUp(){\n        this.mapComponents();\n        this.mapCommands();\n        this.mapObjects();\n        this.mapMediators();\n    }\n\n    public mapComponents(){\n\n    }\n\n    public mapCommands(){\n\n    }\n\n    public mapObjects(){\n\n    }\n\n    public mapMediators(){\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/Context.ts","import {AbstractCommand} from \"./AbstractCommand\";\nimport {IContext} from \"../../context/IContext\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {ISampleService} from \"../service/ISampleService\";\n\n/**\n * Created by dsmiley on 7/28/17.\n */\nexport class SampleCommand extends AbstractCommand{\n\n    protected model:Object;//you should implement a concrete model implementation in your projects\n\n    constructor(context:IContext){\n        super(context);\n    }\n\n    protected executeServiceMethod():string{\n        //since services will always be injected by the IOC container always user the interface type\n        return (this.service as ISampleService).testRequestUsingIncludedAPI('localRequest', this);\n    }\n\n    protected parseResponse(result:Lavender.IResult):Object{\n        //since serilization objects will always be injected by the IOC container always user the interface type\n        return this.parser.parse(result);//use this.parser.parse to deserialize results. You'll of course need to implement the parser, our tests just use a generic function that returns the result\n        //most commands would also receive a model injection and the command would update it here\n    }\n\n    protected getFaultString():string{\n        return 'Lotus.SampleCommand a service request error occured';\n    }\n\n    protected getErrorMessage():string{\n        return 'Lotus.SampleCommand an execution error occured ';\n    }\n\n    protected getExecErrorString():string{\n        return 'Lotus.SampleCommand the following are required: ';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/command/SampleCommand.ts","import {ISerializeFactory} from \"./ISerializeFactory\";\n/**\n * Created by dsmiley on 7/27/17.\n */\nexport class SerializeFactory implements ISerializeFactory{\n    private static INSTANCE:ISerializeFactory = null;\n\n    constructor(){\n        if (SerializeFactory.INSTANCE != null ) {\n            throw( 'SerializeFactory.INSTANCE: Singleton class has already been instantiated' );\n        } else {\n            //perform any required object set up\n        }\n    }\n\n    public static getInstance():ISerializeFactory{\n        if (SerializeFactory.INSTANCE == null) {\n            SerializeFactory.INSTANCE = new SerializeFactory();\n        }\n        return SerializeFactory.INSTANCE;\n    }\n\n    /*\n     * Stub for override, this method is just an example of how this factory can be used\n     * */\n    public getServiceResultParser(parserCode:string):Object{\n        let parser;\n        switch( parserCode ){\n            case 'local':\n            case 'remote':\n            default:\n                parser = {};\n                break;\n        }\n        return parser;\n    }\n\n    /*\n     * Stub for override, this method is just an example of how this factory can be used\n     * */\n    public getServiceExporter(exporterCode:string):Object{\n        let exporter;\n        //we resuse parserCode which should really probably be called serializationCode\n        switch( exporterCode ){\n            case 'local':\n            case 'remote':\n            default:\n                exporter = {};\n                break;\n        }\n        return exporter;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/factory/SerializeFactory.ts","import {IService} from \"../control/service/IService\";\nimport {IServiceFactory} from \"./IServiceFactory\";\nimport {SampleService} from \"../control/service/SampleService\";\nimport * as Lavender from 'lavenderjs/lib';\n/**\n * Created by dsmiley on 7/27/17.\n */\nexport class ServiceFactory implements IServiceFactory{\n    private static INSTANCE:IServiceFactory = null;\n\n    constructor(){\n        if (ServiceFactory.INSTANCE != null ) {\n            throw( 'ServiceFactory.INSTANCE: Singleton class has already been instantiated' );\n        } else {\n            //perform any required object set up\n        }\n    }\n\n    public static getInstance():IServiceFactory{\n        if (ServiceFactory.INSTANCE == null) {\n            ServiceFactory.INSTANCE = new ServiceFactory();\n        }\n        return ServiceFactory.INSTANCE;\n    }\n\n    public getService(config:Lavender.Config):IService{\n        var service;\n        switch( config.serviceCode ){\n            default:\n                service = new SampleService( config );\n        }\n        return service;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/factory/ServiceFactory.ts","import {AbstractMediator} from \"./AbstractMediator\";\nimport {IContext} from \"../context/IContext\";\nimport {IComponent} from \"../view/IComponent\";\nimport {inject} from \"../reflection/InjectorDecorator\";\nimport {HttpServiceFactory} from \"../factory/HttpServiceFactory\";\n/**\n * Created by dsmiley on 7/26/17.\n */\n\nexport class ButtonMediator extends AbstractMediator{\n\n    @inject\n    public serviceFactory:HttpServiceFactory;\n\n    constructor(componentInstance:IComponent, context:IContext){\n        console.log('ButtonMediator constructor called')\n        super(componentInstance,context);\n    }\n\n    protected onClick(event:Event):void{\n        console.log('Im the button mediator, I can handle the component click and dispatch an application event. serviceFactory ' + this.serviceFactory)\n    }\n\n    protected addEventListeners():void{\n        super.addEventListeners();\n        this.componentInstance.addEventListener('click', this, 'onClick');\n    }\n\n    protected removeEventListeners():void{\n        super.removeEventListeners();\n        this.componentInstance.removeEventListener('click', this, 'onClick');\n    }\n\n    public toString():string{\n        return 'Lotus.ButtonMediator';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mediators/ButtonMediator.ts","import {AbstractMediator} from \"./AbstractMediator\";\nimport {IContext} from \"../context/IContext\";\nimport {IComponent} from \"../view/IComponent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport class ListMediator extends AbstractMediator{\n    constructor(componentInstance:IComponent, context:IContext){\n        super(componentInstance,context);\n    }\n\n    public toString():string{\n        return 'Lotus.ListMediator';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mediators/ListMediator.ts","import {AbstractComponent} from \"./AbstractComponent\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport class Button extends AbstractComponent{\n    private _buttonSkinPart:HTMLElement;\n    private _type:string;\n\n    constructor(){\n        super();\n    }\n\n    get buttonSkinPart():HTMLElement {\n        return this._buttonSkinPart;\n    }\n\n    set buttonSkinPart(value:HTMLElement) {\n        this._buttonSkinPart = value;\n        this.notify( value, 'buttonSkinPart' );\n    }\n\n    get type():string {\n        return this._type;\n    }\n\n    set type(value:string) {\n        this._type = value;\n        this.notify( value, 'type' );\n    }\n\n    public onClick(event:Event):void{\n        console.log('Lotus.Button.prototype.onClick: event is ' + event);\n        console.log('Lotus.Button.prototype.onClick: my id is ' + this.id);\n        console.log('Lotus.Button.prototype.onClick: this ' + this);\n        this.dispatch(new ComponentEvent('click', {target:this.buttonSkinPart, originalEvent:event}))\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('button', this, 'buttonSkinPart'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'button':\n                //add button event listener or whatever else yo want to do when this skin part is added\n                //you could hold until all skin parts are added and then call addEventListeners\n                console.log('Lotus.Button.prototype.onSkinPartAdded: part: ' + part);\n                console.log('Lotus.Button.prototype.onSkinPartAdded: skinPart: ' + part);\n                this.addEventListeners();\n                break;\n        }\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.buttonSkinPart.addEventListener('click', this.onClick.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        this.buttonSkinPart.removeEventListener('click', this.onClick);\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.buttonSkinPart = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/Button.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport {AbstractRecordSetCollectionView} from \"./AbstractRecordSetCollectionView\";\n\nexport class ImageGalleryCollectionView extends AbstractRecordSetCollectionView{\n    constructor(){\n        super();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryCollectionView.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\nimport {AbstractComponent} from \"./AbstractComponent\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\n\nexport type asset = { objectName: string, createdDate:Date, url:string };\n\nexport class ImageGalleryItemDetail extends AbstractComponent{\n    private _asset:asset;\n    private _nameLabel:HTMLElement;\n    private _dateCreatedLabel:HTMLElement;\n    private _urlLabel:HTMLElement;\n    \n    constructor(){\n        super();\n    }\n\n\n    get asset():asset {\n        return this._asset;\n    }\n\n    set asset(value:asset) {\n        this._asset = value;\n        this.notify(value, 'asset');\n        this.render();\n    }\n\n    get nameLabel():HTMLElement {\n        return this._nameLabel;\n    }\n\n    set nameLabel(value:HTMLElement) {\n        this._nameLabel = value;\n        this.notify(value, 'nameLabel');\n    }\n\n    get dateCreatedLabel():HTMLElement {\n        return this._dateCreatedLabel;\n    }\n\n    set dateCreatedLabel(value:HTMLElement) {\n        this._dateCreatedLabel = value;\n        this.notify(value, 'dateCreatedLabel');\n    }\n\n    get urlLabel():HTMLElement {\n        return this._urlLabel;\n    }\n\n    set urlLabel(value:HTMLElement) {\n        this._urlLabel = value;\n        this.notify(value, 'urlLabel');\n    }\n\n    protected render():void{\n        if (this.asset && this.ready) {\n            if(this.nameLabel){\n                this.nameLabel.innerHTML = this.asset.objectName;\n            }\n            if(this.dateCreatedLabel){\n                this.dateCreatedLabel.innerHTML = this.asset.createdDate.toDateString();\n            }\n            if(this.urlLabel){\n                this.urlLabel.innerHTML = this.asset.url;\n            }\n        }\n    }\n\n    public defineSkinParts():void{\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('nameLabel', this, 'nameLabel'));\n        this.skinParts.addItem(new SkinPart('dateCreatedLabel', this, 'dateCreatedLabel'));\n        this.skinParts.addItem(new SkinPart('urlLabel', this, 'urlLabel'));\n    }\n\n    public created(element:LotusHTMLElement):void{\n        super.created(element);\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.asset = null;\n        this.nameLabel = null;\n        this.dateCreatedLabel = null;\n        this.urlLabel = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryItemDetail.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport {AbstractThumbnailView} from \"./AbstractThumbnailView\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {ImageGalleryItemDetail, asset} from \"./ImageGalleryItemDetail\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n\nexport class ImageGalleryView extends AbstractThumbnailView{\n    private _itemDetail:LotusHTMLElement;\n    \n    constructor(){\n        super();\n    }\n\n    get itemDetail():LotusHTMLElement {\n        return this._itemDetail;\n    }\n\n    set itemDetail(value:LotusHTMLElement) {\n        this._itemDetail = value;\n        this.notify(value, 'itemDetail');\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('itemDetail', this, 'itemDetail'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //optional container for displaying collection elements\n            case 'itemDetail':\n                if(this.model){\n                    //this is an example of working with nested components which are skin parts and require a reference to and item view model\n                    //nested components in your skins (template files) work natively, but if you have a skin part that requires a model reference you have to wait until ComponentEvent.READY is dispatched\n                    (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = this.model as asset;\n                    (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).addEventListener(ComponentEvent.READY, this, 'onItemDetailReady')\n                }\n                break;\n        }\n    }\n\n    public onItemDetailReady(event):void{\n        if(this.model){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = this.model as asset;\n        }\n    }\n\n    public onModelChange(value):void{\n        super.onModelChange(value);\n        if(this.itemDetail){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = value as asset;\n        }\n    }\n\n    public onDragStart(event:Event):void{\n        if( event['dataTransfer'] !== null && event['dataTransfer'] !== undefined ){\n            event['dataTransfer'].effectAllowed = 'all';\n            try{\n                event['dataTransfer'].setData('galleryImage', this.model['source']);\n            }catch(e){\n                event['dataTransfer'].setData('text', this.model['source']);//IE only allows two possible key values, text is the nest options\n            }\n        }else{\n            event['originalEvent'].dataTransfer.effectAllowed = 'all';\n            try{\n                event['originalEvent'].dataTransfer.setData('galleryImage', this.model['source']);\n            }catch(e){\n                event['originalEvent'].dataTransfer.setData('text', this.model['source']);//IE only allows two possible key values, text is the nest options\n            }\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        if(this.itemDetail){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).removeEventListener(ComponentEvent.READY, this, 'onItemDetailReady');\n        }\n        this.itemDetail = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryView.ts","/**\n * Created by dsmiley on 7/24/17.\n */\nexport * from './reflection/InjectorDecorator';\nexport * from './context/IContext';\nexport * from './context/Context';\nexport * from './context/IInjector';\nexport * from './context/Injector';\nexport * from './context/ICommandMap';\nexport * from './context/CommandMap';\nexport * from './context/IComponentList';\nexport * from './context/ComponentList';\nexport * from './context/IMediatorMap';\nexport * from './context/MediatorMap';\nexport * from './context/IComponentMap';\nexport * from './context/ComponentMap';\nexport * from './factory/IEventDispatcherFactory';\nexport * from './factory/EventDispatcherFactory';\nexport * from './factory/ISerializeFactory';\nexport * from './factory/SerializeFactory';\nexport * from './factory/IHttpServiceFactory';\nexport * from './factory/HttpServiceFactory';\nexport * from './factory/IServiceFactory';\nexport * from './factory/ServiceFactory';\nexport * from './control/service/IService';\nexport * from './control/service/SampleService';\nexport * from './control/service/ISampleService';\nexport * from './control/events/ActionSuccessEvent';\nexport * from './control/events/ActionErrorEvent';\nexport * from './control/events/ComponentEvent';\nexport * from './control/events/ItemViewEvent';\nexport * from './control/command/AbstractCommand';\nexport * from './control/command/SampleCommand';\nexport * from './mediators/IMediator';\nexport * from './mediators/AbstractMediator';\nexport * from './mediators/ButtonMediator';\nexport * from './mediators/ListMediator';\nexport * from './view/SkinPart';\nexport * from './view/SkinPartList';\nexport * from './view/AbstractComponent';\nexport * from './view/IComponent';\nexport * from './view/AbstractComponent';\nexport * from './view/AbstractItemView';\nexport * from './view/AbstractCollectionView';\nexport * from './view/AbstractRecordSetCollectionView';\nexport * from './view/AbstractThumbnailView';\nexport * from './view/Button';\nexport * from './view/ImageGalleryCollectionView';\nexport * from './view/ImageGalleryItemDetail';\nexport * from './view/ImageGalleryView';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 34\n// module chunks = 0 1","/*! *****************************************************************************\r\nCopyright (C) Microsoft. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\nvar Reflect;\r\n(function (Reflect) {\r\n    \"use strict\";\r\n    var hasOwn = Object.prototype.hasOwnProperty;\r\n    // feature test for Symbol support\r\n    var supportsSymbol = typeof Symbol === \"function\";\r\n    var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\r\n    var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\r\n    var HashMap;\r\n    (function (HashMap) {\r\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\r\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\r\n        var downLevel = !supportsCreate && !supportsProto;\r\n        // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\r\n        HashMap.create = supportsCreate\r\n            ? function () { return MakeDictionary(Object.create(null)); }\r\n            : supportsProto\r\n                ? function () { return MakeDictionary({ __proto__: null }); }\r\n                : function () { return MakeDictionary({}); };\r\n        HashMap.has = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key); }\r\n            : function (map, key) { return key in map; };\r\n        HashMap.get = downLevel\r\n            ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\r\n            : function (map, key) { return map[key]; };\r\n    })(HashMap || (HashMap = {}));\r\n    // Load global or shim versions of Map, Set, and WeakMap\r\n    var functionPrototype = Object.getPrototypeOf(Function);\r\n    var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\r\n    var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\r\n    var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\r\n    var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\r\n    // [[Metadata]] internal slot\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\r\n    var Metadata = new _WeakMap();\r\n    /**\r\n      * Applies a set of decorators to a property of a target object.\r\n      * @param decorators An array of decorators.\r\n      * @param target The target object.\r\n      * @param propertyKey (Optional) The property key to decorate.\r\n      * @param attributes (Optional) The property descriptor for the target key.\r\n      * @remarks Decorators are applied in reverse order.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Example = Reflect.decorate(decoratorsArray, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Object.defineProperty(Example, \"staticMethod\",\r\n      *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\r\n      *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\r\n      *\r\n      *     // method (on prototype)\r\n      *     Object.defineProperty(Example.prototype, \"method\",\r\n      *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\r\n      *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\r\n      *\r\n      */\r\n    function decorate(decorators, target, propertyKey, attributes) {\r\n        if (!IsUndefined(propertyKey)) {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\r\n                throw new TypeError();\r\n            if (IsNull(attributes))\r\n                attributes = undefined;\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n            return DecorateProperty(decorators, target, propertyKey, attributes);\r\n        }\r\n        else {\r\n            if (!IsArray(decorators))\r\n                throw new TypeError();\r\n            if (!IsConstructor(target))\r\n                throw new TypeError();\r\n            return DecorateConstructor(decorators, target);\r\n        }\r\n    }\r\n    Reflect.decorate = decorate;\r\n    // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\r\n    // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\r\n    /**\r\n      * A default metadata decorator factory that can be used on a class, class member, or parameter.\r\n      * @param metadataKey The key for the metadata entry.\r\n      * @param metadataValue The value for the metadata entry.\r\n      * @returns A decorator function.\r\n      * @remarks\r\n      * If `metadataKey` is already defined for the target and target key, the\r\n      * metadataValue for that key will be overwritten.\r\n      * @example\r\n      *\r\n      *     // constructor\r\n      *     @Reflect.metadata(key, value)\r\n      *     class Example {\r\n      *     }\r\n      *\r\n      *     // property (on constructor, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticProperty;\r\n      *     }\r\n      *\r\n      *     // property (on prototype, TypeScript only)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         property;\r\n      *     }\r\n      *\r\n      *     // method (on constructor)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         static staticMethod() { }\r\n      *     }\r\n      *\r\n      *     // method (on prototype)\r\n      *     class Example {\r\n      *         @Reflect.metadata(key, value)\r\n      *         method() { }\r\n      *     }\r\n      *\r\n      */\r\n    function metadata(metadataKey, metadataValue) {\r\n        function decorator(target, propertyKey) {\r\n            if (!IsObject(target))\r\n                throw new TypeError();\r\n            if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\r\n                throw new TypeError();\r\n            OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n        }\r\n        return decorator;\r\n    }\r\n    Reflect.metadata = metadata;\r\n    /**\r\n      * Define a unique metadata entry on the target.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param metadataValue A value that contains attached metadata.\r\n      * @param target The target object on which to define metadata.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\r\n      *\r\n      *     // decorator factory as metadata-producing annotation.\r\n      *     function MyAnnotation(options): Decorator {\r\n      *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\r\n      *     }\r\n      *\r\n      */\r\n    function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\r\n    }\r\n    Reflect.defineMetadata = defineMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasMetadata = hasMetadata;\r\n    /**\r\n      * Gets a value indicating whether the target object has the provided metadata key defined.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function hasOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.hasOwnMetadata = hasOwnMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getMetadata = getMetadata;\r\n    /**\r\n      * Gets the metadata value for the provided metadata key on the target object.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadata = getOwnMetadata;\r\n    /**\r\n      * Gets the metadata keys defined on the target object or its prototype chain.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getMetadataKeys = getMetadataKeys;\r\n    /**\r\n      * Gets the unique metadata keys defined on the target object.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns An array of unique metadata keys.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.getOwnMetadataKeys(Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function getOwnMetadataKeys(target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        return OrdinaryOwnMetadataKeys(target, propertyKey);\r\n    }\r\n    Reflect.getOwnMetadataKeys = getOwnMetadataKeys;\r\n    /**\r\n      * Deletes the metadata entry from the target object with the provided key.\r\n      * @param metadataKey A key used to store and retrieve metadata.\r\n      * @param target The target object on which the metadata is defined.\r\n      * @param propertyKey (Optional) The property key for the target.\r\n      * @returns `true` if the metadata entry was found and deleted; otherwise, false.\r\n      * @example\r\n      *\r\n      *     class Example {\r\n      *         // property declarations are not part of ES6, though they are valid in TypeScript:\r\n      *         // static staticProperty;\r\n      *         // property;\r\n      *\r\n      *         constructor(p) { }\r\n      *         static staticMethod(p) { }\r\n      *         method(p) { }\r\n      *     }\r\n      *\r\n      *     // constructor\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\r\n      *\r\n      *     // property (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\r\n      *\r\n      *     // property (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\r\n      *\r\n      *     // method (on constructor)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\r\n      *\r\n      *     // method (on prototype)\r\n      *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\r\n      *\r\n      */\r\n    function deleteMetadata(metadataKey, target, propertyKey) {\r\n        if (!IsObject(target))\r\n            throw new TypeError();\r\n        if (!IsUndefined(propertyKey))\r\n            propertyKey = ToPropertyKey(propertyKey);\r\n        var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        if (!metadataMap.delete(metadataKey))\r\n            return false;\r\n        if (metadataMap.size > 0)\r\n            return true;\r\n        var targetMetadata = Metadata.get(target);\r\n        targetMetadata.delete(propertyKey);\r\n        if (targetMetadata.size > 0)\r\n            return true;\r\n        Metadata.delete(target);\r\n        return true;\r\n    }\r\n    Reflect.deleteMetadata = deleteMetadata;\r\n    function DecorateConstructor(decorators, target) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsConstructor(decorated))\r\n                    throw new TypeError();\r\n                target = decorated;\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function DecorateProperty(decorators, target, propertyKey, descriptor) {\r\n        for (var i = decorators.length - 1; i >= 0; --i) {\r\n            var decorator = decorators[i];\r\n            var decorated = decorator(target, propertyKey, descriptor);\r\n            if (!IsUndefined(decorated) && !IsNull(decorated)) {\r\n                if (!IsObject(decorated))\r\n                    throw new TypeError();\r\n                descriptor = decorated;\r\n            }\r\n        }\r\n        return descriptor;\r\n    }\r\n    function GetOrCreateMetadataMap(O, P, Create) {\r\n        var targetMetadata = Metadata.get(O);\r\n        if (IsUndefined(targetMetadata)) {\r\n            if (!Create)\r\n                return undefined;\r\n            targetMetadata = new _Map();\r\n            Metadata.set(O, targetMetadata);\r\n        }\r\n        var metadataMap = targetMetadata.get(P);\r\n        if (IsUndefined(metadataMap)) {\r\n            if (!Create)\r\n                return undefined;\r\n            metadataMap = new _Map();\r\n            targetMetadata.set(P, metadataMap);\r\n        }\r\n        return metadataMap;\r\n    }\r\n    // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\r\n    function OrdinaryHasMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return true;\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryHasMetadata(MetadataKey, parent, P);\r\n        return false;\r\n    }\r\n    // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\r\n    function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return false;\r\n        return ToBoolean(metadataMap.has(MetadataKey));\r\n    }\r\n    // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\r\n    function OrdinaryGetMetadata(MetadataKey, O, P) {\r\n        var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\r\n        if (hasOwn)\r\n            return OrdinaryGetOwnMetadata(MetadataKey, O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (!IsNull(parent))\r\n            return OrdinaryGetMetadata(MetadataKey, parent, P);\r\n        return undefined;\r\n    }\r\n    // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\r\n    function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return undefined;\r\n        return metadataMap.get(MetadataKey);\r\n    }\r\n    // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\r\n    function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\r\n        metadataMap.set(MetadataKey, MetadataValue);\r\n    }\r\n    // 3.1.6.1 OrdinaryMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\r\n    function OrdinaryMetadataKeys(O, P) {\r\n        var ownKeys = OrdinaryOwnMetadataKeys(O, P);\r\n        var parent = OrdinaryGetPrototypeOf(O);\r\n        if (parent === null)\r\n            return ownKeys;\r\n        var parentKeys = OrdinaryMetadataKeys(parent, P);\r\n        if (parentKeys.length <= 0)\r\n            return ownKeys;\r\n        if (ownKeys.length <= 0)\r\n            return parentKeys;\r\n        var set = new _Set();\r\n        var keys = [];\r\n        for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\r\n            var key = ownKeys_1[_i];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\r\n            var key = parentKeys_1[_a];\r\n            var hasKey = set.has(key);\r\n            if (!hasKey) {\r\n                set.add(key);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n    // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\r\n    // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\r\n    function OrdinaryOwnMetadataKeys(O, P) {\r\n        var keys = [];\r\n        var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\r\n        if (IsUndefined(metadataMap))\r\n            return keys;\r\n        var keysObj = metadataMap.keys();\r\n        var iterator = GetIterator(keysObj);\r\n        var k = 0;\r\n        while (true) {\r\n            var next = IteratorStep(iterator);\r\n            if (!next) {\r\n                keys.length = k;\r\n                return keys;\r\n            }\r\n            var nextValue = IteratorValue(next);\r\n            try {\r\n                keys[k] = nextValue;\r\n            }\r\n            catch (e) {\r\n                try {\r\n                    IteratorClose(iterator);\r\n                }\r\n                finally {\r\n                    throw e;\r\n                }\r\n            }\r\n            k++;\r\n        }\r\n    }\r\n    // 6 ECMAScript Data Typ0es and Values\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\r\n    function Type(x) {\r\n        if (x === null)\r\n            return 1 /* Null */;\r\n        switch (typeof x) {\r\n            case \"undefined\": return 0 /* Undefined */;\r\n            case \"boolean\": return 2 /* Boolean */;\r\n            case \"string\": return 3 /* String */;\r\n            case \"symbol\": return 4 /* Symbol */;\r\n            case \"number\": return 5 /* Number */;\r\n            case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\r\n            default: return 6 /* Object */;\r\n        }\r\n    }\r\n    // 6.1.1 The Undefined Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\r\n    function IsUndefined(x) {\r\n        return x === undefined;\r\n    }\r\n    // 6.1.2 The Null Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\r\n    function IsNull(x) {\r\n        return x === null;\r\n    }\r\n    // 6.1.5 The Symbol Type\r\n    // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\r\n    function IsSymbol(x) {\r\n        return typeof x === \"symbol\";\r\n    }\r\n    // 6.1.7 The Object Type\r\n    // https://tc39.github.io/ecma262/#sec-object-type\r\n    function IsObject(x) {\r\n        return typeof x === \"object\" ? x !== null : typeof x === \"function\";\r\n    }\r\n    // 7.1 Type Conversion\r\n    // https://tc39.github.io/ecma262/#sec-type-conversion\r\n    // 7.1.1 ToPrimitive(input [, PreferredType])\r\n    // https://tc39.github.io/ecma262/#sec-toprimitive\r\n    function ToPrimitive(input, PreferredType) {\r\n        switch (Type(input)) {\r\n            case 0 /* Undefined */: return input;\r\n            case 1 /* Null */: return input;\r\n            case 2 /* Boolean */: return input;\r\n            case 3 /* String */: return input;\r\n            case 4 /* Symbol */: return input;\r\n            case 5 /* Number */: return input;\r\n        }\r\n        var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\r\n        var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\r\n        if (exoticToPrim !== undefined) {\r\n            var result = exoticToPrim.call(input, hint);\r\n            if (IsObject(result))\r\n                throw new TypeError();\r\n            return result;\r\n        }\r\n        return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\r\n    }\r\n    // 7.1.1.1 OrdinaryToPrimitive(O, hint)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\r\n    function OrdinaryToPrimitive(O, hint) {\r\n        if (hint === \"string\") {\r\n            var toString_1 = O.toString;\r\n            if (IsCallable(toString_1)) {\r\n                var result = toString_1.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        else {\r\n            var valueOf = O.valueOf;\r\n            if (IsCallable(valueOf)) {\r\n                var result = valueOf.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n            var toString_2 = O.toString;\r\n            if (IsCallable(toString_2)) {\r\n                var result = toString_2.call(O);\r\n                if (!IsObject(result))\r\n                    return result;\r\n            }\r\n        }\r\n        throw new TypeError();\r\n    }\r\n    // 7.1.2 ToBoolean(argument)\r\n    // https://tc39.github.io/ecma262/2016/#sec-toboolean\r\n    function ToBoolean(argument) {\r\n        return !!argument;\r\n    }\r\n    // 7.1.12 ToString(argument)\r\n    // https://tc39.github.io/ecma262/#sec-tostring\r\n    function ToString(argument) {\r\n        return \"\" + argument;\r\n    }\r\n    // 7.1.14 ToPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-topropertykey\r\n    function ToPropertyKey(argument) {\r\n        var key = ToPrimitive(argument, 3 /* String */);\r\n        if (IsSymbol(key))\r\n            return key;\r\n        return ToString(key);\r\n    }\r\n    // 7.2 Testing and Comparison Operations\r\n    // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\r\n    // 7.2.2 IsArray(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isarray\r\n    function IsArray(argument) {\r\n        return Array.isArray\r\n            ? Array.isArray(argument)\r\n            : argument instanceof Object\r\n                ? argument instanceof Array\r\n                : Object.prototype.toString.call(argument) === \"[object Array]\";\r\n    }\r\n    // 7.2.3 IsCallable(argument)\r\n    // https://tc39.github.io/ecma262/#sec-iscallable\r\n    function IsCallable(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.4 IsConstructor(argument)\r\n    // https://tc39.github.io/ecma262/#sec-isconstructor\r\n    function IsConstructor(argument) {\r\n        // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\r\n        return typeof argument === \"function\";\r\n    }\r\n    // 7.2.7 IsPropertyKey(argument)\r\n    // https://tc39.github.io/ecma262/#sec-ispropertykey\r\n    function IsPropertyKey(argument) {\r\n        switch (Type(argument)) {\r\n            case 3 /* String */: return true;\r\n            case 4 /* Symbol */: return true;\r\n            default: return false;\r\n        }\r\n    }\r\n    // 7.3 Operations on Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-objects\r\n    // 7.3.9 GetMethod(V, P)\r\n    // https://tc39.github.io/ecma262/#sec-getmethod\r\n    function GetMethod(V, P) {\r\n        var func = V[P];\r\n        if (func === undefined || func === null)\r\n            return undefined;\r\n        if (!IsCallable(func))\r\n            throw new TypeError();\r\n        return func;\r\n    }\r\n    // 7.4 Operations on Iterator Objects\r\n    // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\r\n    function GetIterator(obj) {\r\n        var method = GetMethod(obj, iteratorSymbol);\r\n        if (!IsCallable(method))\r\n            throw new TypeError(); // from Call\r\n        var iterator = method.call(obj);\r\n        if (!IsObject(iterator))\r\n            throw new TypeError();\r\n        return iterator;\r\n    }\r\n    // 7.4.4 IteratorValue(iterResult)\r\n    // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\r\n    function IteratorValue(iterResult) {\r\n        return iterResult.value;\r\n    }\r\n    // 7.4.5 IteratorStep(iterator)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorstep\r\n    function IteratorStep(iterator) {\r\n        var result = iterator.next();\r\n        return result.done ? false : result;\r\n    }\r\n    // 7.4.6 IteratorClose(iterator, completion)\r\n    // https://tc39.github.io/ecma262/#sec-iteratorclose\r\n    function IteratorClose(iterator) {\r\n        var f = iterator[\"return\"];\r\n        if (f)\r\n            f.call(iterator);\r\n    }\r\n    // 9.1 Ordinary Object Internal Methods and Internal Slots\r\n    // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\r\n    // 9.1.1.1 OrdinaryGetPrototypeOf(O)\r\n    // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\r\n    function OrdinaryGetPrototypeOf(O) {\r\n        var proto = Object.getPrototypeOf(O);\r\n        if (typeof O !== \"function\" || O === functionPrototype)\r\n            return proto;\r\n        // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\r\n        // Try to determine the superclass constructor. Compatible implementations\r\n        // must either set __proto__ on a subclass constructor to the superclass constructor,\r\n        // or ensure each class has a valid `constructor` property on its prototype that\r\n        // points back to the constructor.\r\n        // If this is not the same as Function.[[Prototype]], then this is definately inherited.\r\n        // This is the case when in ES6 or when using __proto__ in a compatible browser.\r\n        if (proto !== functionPrototype)\r\n            return proto;\r\n        // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\r\n        var prototype = O.prototype;\r\n        var prototypeProto = prototype && Object.getPrototypeOf(prototype);\r\n        if (prototypeProto == null || prototypeProto === Object.prototype)\r\n            return proto;\r\n        // If the constructor was not a function, then we cannot determine the heritage.\r\n        var constructor = prototypeProto.constructor;\r\n        if (typeof constructor !== \"function\")\r\n            return proto;\r\n        // If we have some kind of self-reference, then we cannot determine the heritage.\r\n        if (constructor === O)\r\n            return proto;\r\n        // we have a pretty good guess at the heritage.\r\n        return constructor;\r\n    }\r\n    // naive Map shim\r\n    function CreateMapPolyfill() {\r\n        var cacheSentinel = {};\r\n        var arraySentinel = [];\r\n        var MapIterator = (function () {\r\n            function MapIterator(keys, values, selector) {\r\n                this._index = 0;\r\n                this._keys = keys;\r\n                this._values = values;\r\n                this._selector = selector;\r\n            }\r\n            MapIterator.prototype[\"@@iterator\"] = function () { return this; };\r\n            MapIterator.prototype[iteratorSymbol] = function () { return this; };\r\n            MapIterator.prototype.next = function () {\r\n                var index = this._index;\r\n                if (index >= 0 && index < this._keys.length) {\r\n                    var result = this._selector(this._keys[index], this._values[index]);\r\n                    if (index + 1 >= this._keys.length) {\r\n                        this._index = -1;\r\n                        this._keys = arraySentinel;\r\n                        this._values = arraySentinel;\r\n                    }\r\n                    else {\r\n                        this._index++;\r\n                    }\r\n                    return { value: result, done: false };\r\n                }\r\n                return { value: undefined, done: true };\r\n            };\r\n            MapIterator.prototype.throw = function (error) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                throw error;\r\n            };\r\n            MapIterator.prototype.return = function (value) {\r\n                if (this._index >= 0) {\r\n                    this._index = -1;\r\n                    this._keys = arraySentinel;\r\n                    this._values = arraySentinel;\r\n                }\r\n                return { value: value, done: true };\r\n            };\r\n            return MapIterator;\r\n        }());\r\n        return (function () {\r\n            function Map() {\r\n                this._keys = [];\r\n                this._values = [];\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            }\r\n            Object.defineProperty(Map.prototype, \"size\", {\r\n                get: function () { return this._keys.length; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\r\n            Map.prototype.get = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                return index >= 0 ? this._values[index] : undefined;\r\n            };\r\n            Map.prototype.set = function (key, value) {\r\n                var index = this._find(key, /*insert*/ true);\r\n                this._values[index] = value;\r\n                return this;\r\n            };\r\n            Map.prototype.delete = function (key) {\r\n                var index = this._find(key, /*insert*/ false);\r\n                if (index >= 0) {\r\n                    var size = this._keys.length;\r\n                    for (var i = index + 1; i < size; i++) {\r\n                        this._keys[i - 1] = this._keys[i];\r\n                        this._values[i - 1] = this._values[i];\r\n                    }\r\n                    this._keys.length--;\r\n                    this._values.length--;\r\n                    if (key === this._cacheKey) {\r\n                        this._cacheKey = cacheSentinel;\r\n                        this._cacheIndex = -2;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            Map.prototype.clear = function () {\r\n                this._keys.length = 0;\r\n                this._values.length = 0;\r\n                this._cacheKey = cacheSentinel;\r\n                this._cacheIndex = -2;\r\n            };\r\n            Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\r\n            Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\r\n            Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\r\n            Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\r\n            Map.prototype[iteratorSymbol] = function () { return this.entries(); };\r\n            Map.prototype._find = function (key, insert) {\r\n                if (this._cacheKey !== key) {\r\n                    this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\r\n                }\r\n                if (this._cacheIndex < 0 && insert) {\r\n                    this._cacheIndex = this._keys.length;\r\n                    this._keys.push(key);\r\n                    this._values.push(undefined);\r\n                }\r\n                return this._cacheIndex;\r\n            };\r\n            return Map;\r\n        }());\r\n        function getKey(key, _) {\r\n            return key;\r\n        }\r\n        function getValue(_, value) {\r\n            return value;\r\n        }\r\n        function getEntry(key, value) {\r\n            return [key, value];\r\n        }\r\n    }\r\n    // naive Set shim\r\n    function CreateSetPolyfill() {\r\n        return (function () {\r\n            function Set() {\r\n                this._map = new _Map();\r\n            }\r\n            Object.defineProperty(Set.prototype, \"size\", {\r\n                get: function () { return this._map.size; },\r\n                enumerable: true,\r\n                configurable: true\r\n            });\r\n            Set.prototype.has = function (value) { return this._map.has(value); };\r\n            Set.prototype.add = function (value) { return this._map.set(value, value), this; };\r\n            Set.prototype.delete = function (value) { return this._map.delete(value); };\r\n            Set.prototype.clear = function () { this._map.clear(); };\r\n            Set.prototype.keys = function () { return this._map.keys(); };\r\n            Set.prototype.values = function () { return this._map.values(); };\r\n            Set.prototype.entries = function () { return this._map.entries(); };\r\n            Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\r\n            Set.prototype[iteratorSymbol] = function () { return this.keys(); };\r\n            return Set;\r\n        }());\r\n    }\r\n    // naive WeakMap shim\r\n    function CreateWeakMapPolyfill() {\r\n        var UUID_SIZE = 16;\r\n        var keys = HashMap.create();\r\n        var rootKey = CreateUniqueKey();\r\n        return (function () {\r\n            function WeakMap() {\r\n                this._key = CreateUniqueKey();\r\n            }\r\n            WeakMap.prototype.has = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.has(table, this._key) : false;\r\n            };\r\n            WeakMap.prototype.get = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? HashMap.get(table, this._key) : undefined;\r\n            };\r\n            WeakMap.prototype.set = function (target, value) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ true);\r\n                table[this._key] = value;\r\n                return this;\r\n            };\r\n            WeakMap.prototype.delete = function (target) {\r\n                var table = GetOrCreateWeakMapTable(target, /*create*/ false);\r\n                return table !== undefined ? delete table[this._key] : false;\r\n            };\r\n            WeakMap.prototype.clear = function () {\r\n                // NOTE: not a real clear, just makes the previous data unreachable\r\n                this._key = CreateUniqueKey();\r\n            };\r\n            return WeakMap;\r\n        }());\r\n        function CreateUniqueKey() {\r\n            var key;\r\n            do\r\n                key = \"@@WeakMap@@\" + CreateUUID();\r\n            while (HashMap.has(keys, key));\r\n            keys[key] = true;\r\n            return key;\r\n        }\r\n        function GetOrCreateWeakMapTable(target, create) {\r\n            if (!hasOwn.call(target, rootKey)) {\r\n                if (!create)\r\n                    return undefined;\r\n                Object.defineProperty(target, rootKey, { value: HashMap.create() });\r\n            }\r\n            return target[rootKey];\r\n        }\r\n        function FillRandomBytes(buffer, size) {\r\n            for (var i = 0; i < size; ++i)\r\n                buffer[i] = Math.random() * 0xff | 0;\r\n            return buffer;\r\n        }\r\n        function GenRandomBytes(size) {\r\n            if (typeof Uint8Array === \"function\") {\r\n                if (typeof crypto !== \"undefined\")\r\n                    return crypto.getRandomValues(new Uint8Array(size));\r\n                if (typeof msCrypto !== \"undefined\")\r\n                    return msCrypto.getRandomValues(new Uint8Array(size));\r\n                return FillRandomBytes(new Uint8Array(size), size);\r\n            }\r\n            return FillRandomBytes(new Array(size), size);\r\n        }\r\n        function CreateUUID() {\r\n            var data = GenRandomBytes(UUID_SIZE);\r\n            // mark as random - RFC 4122 § 4.4\r\n            data[6] = data[6] & 0x4f | 0x40;\r\n            data[8] = data[8] & 0xbf | 0x80;\r\n            var result = \"\";\r\n            for (var offset = 0; offset < UUID_SIZE; ++offset) {\r\n                var byte = data[offset];\r\n                if (offset === 4 || offset === 6 || offset === 8)\r\n                    result += \"-\";\r\n                if (byte < 16)\r\n                    result += \"0\";\r\n                result += byte.toString(16).toLowerCase();\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n    // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\r\n    function MakeDictionary(obj) {\r\n        obj.__ = undefined;\r\n        delete obj.__;\r\n        return obj;\r\n    }\r\n    // patch global Reflect\r\n    (function (__global) {\r\n        if (typeof __global.Reflect !== \"undefined\") {\r\n            if (__global.Reflect !== Reflect) {\r\n                for (var p in Reflect) {\r\n                    if (hasOwn.call(Reflect, p)) {\r\n                        __global.Reflect[p] = Reflect[p];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            __global.Reflect = Reflect;\r\n        }\r\n    })(typeof global !== \"undefined\" ? global :\r\n        typeof self !== \"undefined\" ? self :\r\n            Function(\"return this;\")());\r\n})(Reflect || (Reflect = {}));\r\n//# sourceMappingURL=Reflect.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflect-metadata/Reflect.js\n// module id = 35\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 36\n// module chunks = 0 1"],"sourceRoot":""}