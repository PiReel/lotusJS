{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///lotusJS-UMD.min.js","webpack:///webpack/bootstrap f016f1a4aa8b09969a89?748a","webpack:///external \"Lavender\"?5437","webpack:///./src/view/SkinPart.ts?c204","webpack:///./src/view/AbstractComponent.ts?5f79","webpack:///./src/view/AbstractItemView.ts?7abe","webpack:///./src/control/events/ComponentEvent.ts?d6c9","webpack:///./src/control/events/ItemViewEvent.ts?a81c","webpack:///./src/view/AbstractCollectionView.ts?4fd1","webpack:///./src/control/events/FileEvent.ts?14be","webpack:///./src/control/events/InputEvent.ts?7eec","webpack:///./src/model/form/InputModel.ts?5be5","webpack:///./src/model/form/validation/AbstractValidator.ts?9e83","webpack:///./src/model/form/validation/ValidationError.ts?668b","webpack:///./src/view/AbstractInputCollectionView.ts?c645","webpack:///./src/view/AbstractSelectableFormInput.ts?55a5","webpack:///./src/view/AbstractThumbnailView.ts?e8ba","webpack:///./src/context/ComponentList.ts?7ddc","webpack:///./src/context/ComponentMap.ts?33bf","webpack:///./src/view/AbstractRecordSetCollectionView.ts?7ae4","webpack:///./src/view/FileCollectionView.ts?fc63","webpack:///./src/view/FileView.ts?4ec8","webpack:///./src/view/SkinPartList.ts?c8e1","webpack:///./src/context/Context.ts?7eb9","webpack:///./src/context/LotusHTMLElement.ts?46ce","webpack:///./src/model/form/InputCollectionModel.ts?e3db","webpack:///./src/model/form/validation/SelectableInputValidator.ts?8bc3","webpack:///./src/model/form/validation/TextInputValidator.ts?3002","webpack:///./src/view/Button.ts?8ae8","webpack:///./src/view/DragDropFileCollectionView.ts?5139","webpack:///./src/view/Image.ts?9d96","webpack:///./src/view/ImageGalleryCollectionView.ts?3837","webpack:///./src/view/ImageGalleryItemDetail.ts?08ad","webpack:///./src/view/ImageGalleryView.ts?5951","webpack:///./src/view/Input.ts?8249","webpack:///./src/view/ListCollectionView.ts?ea2b","webpack:///./src/view/ListItemView.ts?2a01","webpack:///./src/view/RadioCollectionView.ts?3219","webpack:///./src/view/RadioItemView.ts?7482","webpack:///./src/index.ts?eac3"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","Lavender","SkinPart","_super","label","instance","attribute","_this","_label","_instance","_attribute","set","val","notify","Subject","SkinPartList_1","ComponentEvent_1","AbstractComponent","_ready","_id","Math","random","_skinParts","SkinPartList","_isValid","validClass","invalidClass","ObjectUtils","mixin","EventDispatcher","_element","undefined","getComponentInstance","bind","_context","isValid","attachValidationClass","classToAdd","classToRemove","init","addAttributes","defineSkinParts","addSkinParts","element","attributes","length","indexOf","index","newProp","substring","camelCased","replace","g","toUpperCase","getAllPropertyNames","obj","iterateSelfBool","iteratePrototypeBool","props","getOwnPropertyNames","forEach","prop","push","getPrototypeOf","getAttribute","addSkinPart","skinPartsNodeList","querySelectorAll","part","skinParts","skinPartsByLabel","onSkinPartAdded","onReady","ready","dispatch","ComponentEvent","READY","target","created","console","log","destroy","removeEventListeners","binder","unbindAll","id","inserted","removed","attributeChanged","addEventListeners","AbstractComponent_1","AbstractItemView","_model","onModelChange","setElementDisplay","display","style","resetState","model","type","payload","clone","CLICK","AbstractEvent","ItemViewEvent","ITEM_SELECTED","Error","ITEM_DESELECTED","REMOVE_ITEM","SkinPart_1","ItemViewEvent_1","AbstractCollectionView","_childViews","ArrayList","_collectionContainer","_itemTemplate","_selectedItem","_collection","removeCollectionEventListeners","addCollectionEventListeners","render","_itemView","destroyChildViews","childViews","removeChildView","getItemAt","collectionContainer","firstChild","removeChild","collection","addEventListener","CollectionEvent","COLLECTION_CHANGE","removeEventListener","onCollectionChange","event","addChildView","removeChildViewFromModel","removeAllChildViews","createChildView","evalClass","eval","itemView","cloneItemTemplate","itemTemplate","cloneNode","getModel","setUpViewBindings","view","addItem","appendChild","addViewEventListeners","onItemSelectedDeselect","item","removeViewEventListeners","selectedItem","onItemRemove","removeItemAt","addAllChildViews","models","removeElement","initCollection","getCollection","refreshView","setSelectedItem","parentNode","FileEvent","REMOVE_FILE_FROM_COLLECTION","ABORT_FILE_UPLOAD","UPLOAD_FILE","InputEvent","CHANGE","InputModel","selected","required","_selected","_required","_nonFormattedValue","_value","format","_name","AbstractValidator","_hasWarnings","_errors","_warnings","_source","source","getValidationResult","errors","getValidationWarningsResult","warnings","getValidationErrors","getValidationWarnings","validateOnChange","validate","setUpBindings","hasWarnings","ValidationError","errorCode","errorMessage","_property","_errorCode","_errorMessage","AbstractCollectionView_1","InputEvent_1","AbstractInputCollectionView","apply","arguments","classList","remove","add","dispatchChange","originalEvent","AbstractItemView_1","InputModel_1","AbstractSelectableFormInput","eventType","AbstractThumbnailView","_allowDrag","_thumbWidth","_thumbHeight","_thumbnail","_thumbnailContainer","sizeImage","thumbnail","defaultSize","getDefaultSize","containerSize","getContainerSize","scale","ResizeUtils","getScaleToFit","width","height","setAttribute","maxWidth","maxHeight","onThumbClick","onDragStart","getImageURL","parseInt","returnObj","thumbnailContainer","window","getComputedStyle","NaN","isNaN","thumbWidth","thumbHeight","onImageLoad","onload","_thumbnailDisplay","setThumbnailSrc","src","_thumbnailSelectedClass","toggle","contains","ComponentList","instancesByConstructor","addToHash","removeItemFromHash","hash","objects","shift","pop","head","slice","tail","concat","key","clear","clearHash","insert","suppressChangeEvent","replaceIndex","returnValue","ComponentList_1","ComponentMap","context","componentInstances","tagInstanceToRequestId","success","result","tagInstance","requestId","div","document","createElement","innerHTML","resultObj","importNode","childNodes","content","component","querySelector","lotusComponentInstance","host","createShadowRoot","createComponent","ShadowCSS","shimStyling","nodeName","fault","onProgress","progress","mapMediators","addComponent","functionConstructor","httpService","XhrHttpService","addResponder","send","mapComponent","tagName","framework","xtag","componentMap","lifecycle","attrName","oldValue","newValue","definition","register","AbstractRecordSetCollectionView","nextBtn","pervBtn","firstBtn","lastBtn","_recordSet","_navBtnEnabledClass","_navBtnDisabledClass","_nextBtn","_pervBtn","_firstBtn","_lastBtn","recordSet","RecordSetEvent","RESULTS_CHANGE","unbind","onClickHandler","currentTarget","selectedPage","totalPages","refreshNavButtonDisplay","button","navBtnDisabledClass","navBtnEnabledClass","onResultsChange","onPageListChange","RecordSet","pageList","FileView_1","FileEvent_1","FileCollectionView","_fileInput","_selectBtn","getUploadEvent","file","uploadFiles","files","File","size","fileObj","URL","createObjectURL","onRemoveAbortFile","fileInput","onFileInputChange","selectBtn","onFileBtnClick","click","preventDefault","_size","_fileObj","_percentLoaded","_state","_type","PENDING","PROGRESS","LOAD","ERROR","ABORT","FileView","_fileLabel","_fileTypeLabel","_progressBar","_statusIndicator","_loadIndicator","_errorIndicator","_progressIndicator","_pendingIndicator","_abortIndicator","_cancelBtn","_clearBtn","_cancelBtnDisplay","_clearBtnDisplay","fileLabel","fileTypeLabel","onStateChange","state","onPercentChange","percentLoaded","setStatusIndicator","node","statusIndicator","progressBar","parentWidth","parseFloat","newWidth","cancelBtn","cancelBtnDisplay","clearBtn","pendingIndicator","progressIndicator","loadIndicator","clearBtnDisplay","errorIndicator","abortIndicator","onCancelBtnClick","onClearBtnClick","allowDuplicates","skinPart","ComponentMap_1","Context","config","params","startUp","mapComponents","LotusHTMLElement","HTMLDivElement","InputCollectionModel","selectionRequired","_validators","validators","validator","addAll","TYPE_INPUT","TYPE_FILE","TYPE_RADIO_GROUP","TYPE_LIST","AbstractValidator_1","ValidationError_1","SelectableInputValidator","returnList","itemSelected","groupName","TextInputValidator","nonFormattedValue","Button","_buttonSkinPart","onClick","buttonSkinPart","FileCollectionView_1","DragDropFileCollectionView","_dragOverClass","_dropTarget","dropTarget","onDrop","onPreventDrop","onDragOver","onDragLeave","stopPropagation","dragOverClass","dataTransfer","dropEffect","AbstractThumbnailView_1","Image","_loadingSVG","loadingSVG","_loadingSVGStyle","AbstractRecordSetCollectionView_1","ImageGalleryCollectionView","ImageGalleryItemDetail","_asset","_nameLabel","_dateCreatedLabel","_urlLabel","asset","nameLabel","objectName","dateCreatedLabel","createdDate","toDateString","urlLabel","url","ImageGalleryView","_itemDetail","itemDetail","onItemDetailReady","effectAllowed","setData","e","Input","_inputSkinPart","inputSkinPart","onChange","AbstractInputCollectionView_1","ListCollectionView","selectedIndex","AbstractSelectableFormInput_1","ListItemView","_option","option","JSON","stringify","RadioCollectionView","RadioItemView","_radio","radio","checked","__export"],"mappings":"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","file":"lotusJS-UMD.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Lavender\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lotus\", [\"Lavender\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lotus\"] = factory(require(\"Lavender\"));\n\telse\n\t\troot[\"Lotus\"] = factory(root[\"Lavender\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Lavender\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Lotus\", [\"Lavender\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Lotus\"] = factory(require(\"Lavender\"));\n\telse\n\t\troot[\"Lotus\"] = factory(root[\"Lavender\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 37);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/1/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPart = (function (_super) {\r\n    __extends(SkinPart, _super);\r\n    function SkinPart(label, instance, attribute) {\r\n        var _this = _super.call(this) || this;\r\n        _this._label = label;\r\n        _this._instance = instance;\r\n        _this._attribute = attribute;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SkinPart.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SkinPart.prototype, \"element\", {\r\n        get: function () {\r\n            return this._instance[this._attribute];\r\n        },\r\n        set: function (val) {\r\n            this._instance[this._attribute] = val;\r\n            this.notify(val, 'element');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SkinPart;\r\n}(Lavender.Subject));\r\nexports.SkinPart = SkinPart;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPartList_1 = __webpack_require__(20);\r\nvar ComponentEvent_1 = __webpack_require__(4);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar AbstractComponent = (function (_super) {\r\n    __extends(AbstractComponent, _super);\r\n    function AbstractComponent() {\r\n        var _this = _super.call(this) || this;\r\n        _this._ready = false;\r\n        _this._id = Math.random();\r\n        _this._skinParts = new SkinPartList_1.SkinPartList();\r\n        _this._isValid = false;\r\n        //IMPORTANT: you have to initialize instance attributes that are not defined using accessor methods or they will dropped by the compiler.\r\n        _this.validClass = null;\r\n        _this.invalidClass = null;\r\n        Lavender.ObjectUtils.mixin(Lavender.EventDispatcher, AbstractComponent, _this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractComponent.prototype, \"element\", {\r\n        get: function () {\r\n            return this._element;\r\n        },\r\n        set: function (val) {\r\n            this._element = val;\r\n            if (this._element !== null && this._element !== undefined) {\r\n                this._element.getComponentInstance = this.getComponentInstance.bind(this);\r\n            }\r\n            this.notify(val, 'element');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"context\", {\r\n        get: function () {\r\n            return this._context;\r\n        },\r\n        set: function (val) {\r\n            this._context = val;\r\n            this.notify(val, 'context');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"ready\", {\r\n        get: function () {\r\n            return this._ready;\r\n        },\r\n        set: function (val) {\r\n            this._ready = val;\r\n            this.notify(val, 'ready');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        set: function (val) {\r\n            this._id = val;\r\n            this.notify(val, 'id');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"skinParts\", {\r\n        get: function () {\r\n            return this._skinParts;\r\n        },\r\n        set: function (val) {\r\n            this._skinParts = val;\r\n            this.notify(val, 'skinParts');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractComponent.prototype, \"isValid\", {\r\n        get: function () {\r\n            return this._isValid;\r\n        },\r\n        set: function (value) {\r\n            this._isValid = value;\r\n            this.notify(value, 'isValid');\r\n            if (this.isValid && this.validClass) {\r\n                this.attachValidationClass(this.validClass, this.invalidClass);\r\n            }\r\n            else if (!this.isValid && this.invalidClass) {\r\n                this.attachValidationClass(this.invalidClass, this.validClass);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //stub for override\r\n    AbstractComponent.prototype.attachValidationClass = function (classToAdd, classToRemove) {\r\n    };\r\n    AbstractComponent.prototype.init = function () {\r\n        this.addAttributes();\r\n        this.defineSkinParts();\r\n        this.addSkinParts();\r\n    };\r\n    AbstractComponent.prototype.addAttributes = function () {\r\n        for (var i = 0; i < this.element.attributes.length; i++) {\r\n            var attribute = this.element.attributes[i];\r\n            if (attribute.name.indexOf('attribute') >= 0) {\r\n                var index = attribute.name.indexOf('attribute') + 10;\r\n                var newProp = attribute.name.substring(index); //remove prefix\r\n                //convert dashes to camel case\r\n                //LEGACY: using the data- prefix should trigger camel case on dash automagically\r\n                var camelCased = newProp.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n                var properties = this.getAllPropertyNames(this);\r\n                if (properties.indexOf(camelCased) >= 0) {\r\n                    this[camelCased] = attribute.value;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    AbstractComponent.prototype.getAllPropertyNames = function (obj, iterateSelfBool, iteratePrototypeBool) {\r\n        if (iterateSelfBool === void 0) { iterateSelfBool = true; }\r\n        if (iteratePrototypeBool === void 0) { iteratePrototypeBool = true; }\r\n        var props = [];\r\n        do {\r\n            if (iterateSelfBool) {\r\n                Object.getOwnPropertyNames(obj).forEach(function (prop) {\r\n                    if (props.indexOf(prop) === -1) {\r\n                        props.push(prop);\r\n                    }\r\n                });\r\n            }\r\n            if (!iteratePrototypeBool) {\r\n                break;\r\n            }\r\n            iterateSelfBool = true;\r\n        } while (obj = Object.getPrototypeOf(obj));\r\n        return props;\r\n    };\r\n    AbstractComponent.prototype.addSkinParts = function () {\r\n        if (this.element.getAttribute('data-skin-part') !== null && this.element.getAttribute('data-skin-part') !== undefined) {\r\n            this.addSkinPart(this.element.getAttribute('data-skin-part'), this.element);\r\n        }\r\n        var skinPartsNodeList = this.element.querySelectorAll('[data-skin-part]');\r\n        for (var i = 0; i < skinPartsNodeList.length; i++) {\r\n            // iterate over matches\r\n            //call addSkinPart on the component passing skin part attribute value and the element\r\n            this.addSkinPart(skinPartsNodeList[i].getAttribute('data-skin-part'), skinPartsNodeList[i]);\r\n        }\r\n    };\r\n    AbstractComponent.prototype.addSkinPart = function (part, element) {\r\n        //skip undefined skin parts\r\n        if (this.skinParts.skinPartsByLabel[part] === null || this.skinParts.skinPartsByLabel[part] === undefined) {\r\n            return null;\r\n        }\r\n        //assign the skin part\r\n        this.skinParts.skinPartsByLabel[part].element = element;\r\n        //notify\r\n        this.onSkinPartAdded(part, this.skinParts.skinPartsByLabel[part].element);\r\n    };\r\n    AbstractComponent.prototype.onReady = function () {\r\n        this.ready = true;\r\n        this.dispatch(new ComponentEvent_1.ComponentEvent(ComponentEvent_1.ComponentEvent.READY, { target: this }));\r\n    };\r\n    AbstractComponent.prototype.getComponentInstance = function () {\r\n        return this;\r\n    };\r\n    AbstractComponent.prototype.created = function (element) {\r\n        console.log('AbstractComponent.created called');\r\n        this.element = element;\r\n        this.init();\r\n        this.onReady();\r\n    };\r\n    AbstractComponent.prototype.destroy = function () {\r\n        this.removeEventListeners();\r\n        this.binder.unbindAll();\r\n        this.binder = null;\r\n        this.element = null;\r\n        this.id = null;\r\n    };\r\n    //stub methods below\r\n    AbstractComponent.prototype.defineSkinParts = function () {\r\n    };\r\n    AbstractComponent.prototype.onSkinPartAdded = function (part, element) {\r\n    };\r\n    AbstractComponent.prototype.inserted = function (element) {\r\n        console.log('AbstractComponent.inserted called');\r\n    };\r\n    AbstractComponent.prototype.removed = function (element) {\r\n        console.log('AbstractComponent.removed called');\r\n    };\r\n    AbstractComponent.prototype.attributeChanged = function (element) {\r\n        console.log('AbstractComponent.attributeChanged called');\r\n    };\r\n    AbstractComponent.prototype.addEventListeners = function () {\r\n    };\r\n    AbstractComponent.prototype.removeEventListeners = function () {\r\n    };\r\n    return AbstractComponent;\r\n}(Lavender.Subject));\r\nexports.AbstractComponent = AbstractComponent;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\n/**\r\n * Created by dsmiley on 8/4/17.\r\n */\r\nvar AbstractItemView = (function (_super) {\r\n    __extends(AbstractItemView, _super);\r\n    function AbstractItemView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(AbstractItemView.prototype, \"model\", {\r\n        get: function () {\r\n            return this._model;\r\n        },\r\n        set: function (val) {\r\n            this._model = val;\r\n            this.onModelChange(val);\r\n            this.notify(val, 'model');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractItemView.prototype.setElementDisplay = function (element, display) {\r\n        //at some points in the items lifecycle element could be null, se we require this check\r\n        if (element !== null && element !== undefined) {\r\n            element.style.display = display;\r\n        }\r\n    };\r\n    //stub for override\r\n    AbstractItemView.prototype.onModelChange = function (value) {\r\n    };\r\n    //stub for override\r\n    AbstractItemView.prototype.resetState = function () {\r\n    };\r\n    AbstractItemView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.model = null;\r\n    };\r\n    return AbstractItemView;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.AbstractItemView = AbstractItemView;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/31/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentEvent = (function (_super) {\r\n    __extends(ComponentEvent, _super);\r\n    function ComponentEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    ComponentEvent.prototype.clone = function (type, payload) {\r\n        return new ComponentEvent(this.type, this.payload);\r\n    };\r\n    ComponentEvent.READY = 'lotusComponentReady';\r\n    ComponentEvent.CLICK = 'click';\r\n    return ComponentEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ComponentEvent = ComponentEvent;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/31/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ItemViewEvent = (function (_super) {\r\n    __extends(ItemViewEvent, _super);\r\n    function ItemViewEvent(type, payload) {\r\n        var _this = _super.call(this, type, payload) || this;\r\n        if (type == ItemViewEvent.ITEM_SELECTED && (!payload.hasOwnProperty('item') || payload['item'] === null || payload['item'] === undefined)) {\r\n            throw new Error('Lotus.ItemViewEvent payload.item is required');\r\n        }\r\n        return _this;\r\n    }\r\n    ItemViewEvent.prototype.clone = function (type, payload) {\r\n        return new ItemViewEvent(this.type, this.payload);\r\n    };\r\n    ItemViewEvent.ITEM_SELECTED = 'itemViewItemSelected';\r\n    ItemViewEvent.ITEM_DESELECTED = 'itemViewItemDeselected';\r\n    ItemViewEvent.REMOVE_ITEM = 'itemViewRemoveItem';\r\n    return ItemViewEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.ItemViewEvent = ItemViewEvent;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/4/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ItemViewEvent_1 = __webpack_require__(5);\r\nvar AbstractCollectionView = (function (_super) {\r\n    __extends(AbstractCollectionView, _super);\r\n    function AbstractCollectionView() {\r\n        var _this = _super.call(this) || this;\r\n        _this._childViews = new Lavender.ArrayList();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"collectionContainer\", {\r\n        get: function () {\r\n            return this._collectionContainer;\r\n        },\r\n        set: function (value) {\r\n            this._collectionContainer = value;\r\n            this.notify(value, 'collectionContainer');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"itemTemplate\", {\r\n        get: function () {\r\n            return this._itemTemplate;\r\n        },\r\n        set: function (value) {\r\n            this._itemTemplate = value;\r\n            this.notify(value, 'itemTemplate');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"selectedItem\", {\r\n        get: function () {\r\n            return this._selectedItem;\r\n        },\r\n        set: function (value) {\r\n            this._selectedItem = value;\r\n            this.notify(value, 'selectedItem');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"collection\", {\r\n        get: function () {\r\n            return this._collection;\r\n        },\r\n        set: function (value) {\r\n            this.removeCollectionEventListeners(); //must occur first\r\n            this._collection = value;\r\n            if (value) {\r\n                this.addCollectionEventListeners();\r\n            } //must occur after line above\r\n            this.notify(value, 'collection');\r\n            //render the view as long as there are items in the collection\r\n            if (value && this.ready) {\r\n                this.render();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"childViews\", {\r\n        get: function () {\r\n            return this._childViews;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractCollectionView.prototype, \"itemView\", {\r\n        get: function () {\r\n            return this._itemView;\r\n        },\r\n        set: function (value) {\r\n            this._itemView = value;\r\n            this.notify(value, 'itemView');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractCollectionView.prototype.destroyChildViews = function () {\r\n        for (var i = 0; i < this.childViews.length; i++) {\r\n            this.removeChildView(this.childViews.getItemAt(i));\r\n        }\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            while (this.collectionContainer.firstChild) {\r\n                this.collectionContainer.removeChild(this.collectionContainer.firstChild);\r\n            }\r\n        }\r\n        else {\r\n            //remove child nodes\r\n            while (this.element.firstChild) {\r\n                this.element.removeChild(this.element.firstChild);\r\n            }\r\n        }\r\n        this._childViews = null;\r\n    };\r\n    AbstractCollectionView.prototype.addCollectionEventListeners = function () {\r\n        if (this.collection !== null && this.collection !== undefined) {\r\n            this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeCollectionEventListeners = function () {\r\n        if (this.collection !== null && this.collection !== undefined) {\r\n            this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.onCollectionChange = function (event) {\r\n        switch (event.payload['type']) {\r\n            case 'add':\r\n                this.addChildView(event.payload['item']);\r\n                break;\r\n            case 'remove':\r\n                this.removeChildViewFromModel(event.payload['item']);\r\n                break;\r\n            case 'removeAll':\r\n                this.removeAllChildViews();\r\n                break;\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.createChildView = function (model) {\r\n        var evalClass = eval(this.itemView);\r\n        return new evalClass();\r\n    };\r\n    AbstractCollectionView.prototype.cloneItemTemplate = function (model) {\r\n        return this.itemTemplate.cloneNode(true);\r\n    };\r\n    //override point for objects that require manipulation of the model\r\n    AbstractCollectionView.prototype.getModel = function (model) {\r\n        return model;\r\n    };\r\n    //override point for objects that require bindings on the model and view. the model param is not always equal to view.model as views sometimes require adapters\r\n    AbstractCollectionView.prototype.setUpViewBindings = function (model, view) {\r\n    };\r\n    AbstractCollectionView.prototype.addChildView = function (model) {\r\n        var view = this.createChildView(model);\r\n        //clone the view\r\n        var clone = this.cloneItemTemplate(model);\r\n        view.model = this.getModel(model);\r\n        view.element = clone;\r\n        view.init();\r\n        this.childViews.addItem(view);\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            this.collectionContainer.appendChild(view.element);\r\n        }\r\n        else {\r\n            this.element.appendChild(view.element);\r\n        }\r\n        this.addViewEventListeners(view);\r\n        this.setUpViewBindings(model, view);\r\n        //set the selected item from the model\r\n        //this allows data models to drive the selected item when they are assigned, or a new item added\r\n        if (view.model['selected']) {\r\n            this.onItemSelectedDeselect(new ItemViewEvent_1.ItemViewEvent(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, { item: view }));\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.addViewEventListeners = function (view) {\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\r\n        view.addEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\r\n    };\r\n    AbstractCollectionView.prototype.removeViewEventListeners = function (view) {\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\r\n        view.removeEventListener(ItemViewEvent_1.ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\r\n    };\r\n    AbstractCollectionView.prototype.onItemSelectedDeselect = function (event) {\r\n        if (this.selectedItem !== null && this.selectedItem !== undefined && this.selectedItem != event.payload['item']) {\r\n            this.selectedItem.resetState();\r\n        }\r\n        this.selectedItem = (event.type == ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED) ? event.payload['item'] : null;\r\n    };\r\n    AbstractCollectionView.prototype.onItemRemove = function (event) {\r\n        var index = this.collection.indexOf(event.payload['item'].model);\r\n        if (index >= 0) {\r\n            this.collection.removeItemAt(index);\r\n        }\r\n    };\r\n    //IMPORTANT: this is a convience method for manual population only, do not bind it to a collection models collection change event as the add event is also fired\r\n    AbstractCollectionView.prototype.addAllChildViews = function (models) {\r\n        for (var i = 0; i < models.length; i++) {\r\n            this.addChildView(models[i]);\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeAllChildViews = function () {\r\n        if (!this.childViews) {\r\n            return;\r\n        }\r\n        for (var i = this.childViews.length - 1; i >= 0; i--) {\r\n            this.removeChildView(this.childViews.getItemAt(i));\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeChildView = function (view) {\r\n        this.removeViewEventListeners(view);\r\n        this.removeElement(view.element);\r\n        view.destroy();\r\n        this.childViews.removeItemAt(this.childViews.indexOf(view));\r\n    };\r\n    AbstractCollectionView.prototype.removeElement = function (element) {\r\n        if (this.collectionContainer !== null && this.collectionContainer !== undefined) {\r\n            this.collectionContainer.removeChild(element);\r\n        }\r\n        else {\r\n            this.element.removeChild(element);\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.removeChildViewFromModel = function (model) {\r\n        //get the view associated with the model\r\n        for (var i = 0; i < this.childViews.length; i++) {\r\n            if (this.childViews.getItemAt(i).model == model) {\r\n                this.removeChildView(this.childViews.getItemAt(i));\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.initCollection = function () {\r\n        //assign a default collection if it has not already been set\r\n        if (this.collection === null || this.collection === undefined) {\r\n            this.collection = this.getCollection();\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.refreshView = function (value) {\r\n        //stub for override\r\n    };\r\n    AbstractCollectionView.prototype.setSelectedItem = function (model) {\r\n        //since this can be used as a bindable end point make sure recursion does not occur\r\n        if (this.selectedItem && this.selectedItem.model == model) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.childViews.length; i++) {\r\n            if (this.childViews.getItemAt(i).model == model) {\r\n                //set the selected item\r\n                this.onItemSelectedDeselect(new ItemViewEvent_1.ItemViewEvent(ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED, { item: this.childViews.getItemAt(i) }));\r\n                //refresh the view\r\n                if (this.selectedItem) {\r\n                    this.refreshView(model['value']);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.init = function () {\r\n        _super.prototype.init.call(this);\r\n        this.initCollection();\r\n        this.render();\r\n    };\r\n    AbstractCollectionView.prototype.render = function () {\r\n        if (this.itemView === null || this.itemView == undefined) {\r\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\r\n        }\r\n        this.removeAllChildViews();\r\n        for (var i = 0; i < this.collection.length; i++) {\r\n            this.addChildView(this.collection.getItemAt(i));\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('collectionContainer', this, 'collectionContainer'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('itemTemplate', this, 'itemTemplate'));\r\n    };\r\n    AbstractCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //required, defines the layout for child views\r\n            case 'itemTemplate':\r\n                element.parentNode.removeChild(element); //remove from the view\r\n                break;\r\n        }\r\n    };\r\n    AbstractCollectionView.prototype.getCollection = function () {\r\n        return new Lavender.ArrayList();\r\n    };\r\n    AbstractCollectionView.prototype.destroy = function () {\r\n        this.destroyChildViews();\r\n        _super.prototype.destroy.call(this);\r\n        this.collection = null;\r\n        this.itemView = null;\r\n        this.collectionContainer = null;\r\n        this.itemTemplate = null;\r\n        this.selectedItem = null;\r\n    };\r\n    return AbstractCollectionView;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.AbstractCollectionView = AbstractCollectionView;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/26/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar FileEvent = (function (_super) {\r\n    __extends(FileEvent, _super);\r\n    function FileEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    FileEvent.prototype.clone = function (type, payload) {\r\n        return new FileEvent(this.type, this.payload);\r\n    };\r\n    FileEvent.REMOVE_FILE_FROM_COLLECTION = 'removeFileFromCollection';\r\n    FileEvent.ABORT_FILE_UPLOAD = 'abortFileUpload';\r\n    FileEvent.UPLOAD_FILE = 'uploadFile';\r\n    return FileEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.FileEvent = FileEvent;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/21/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar InputEvent = (function (_super) {\r\n    __extends(InputEvent, _super);\r\n    function InputEvent(type, payload) {\r\n        return _super.call(this, type, payload) || this;\r\n    }\r\n    InputEvent.prototype.clone = function (type, payload) {\r\n        return new InputEvent(this.type, this.payload);\r\n    };\r\n    InputEvent.CHANGE = 'change';\r\n    return InputEvent;\r\n}(Lavender.AbstractEvent));\r\nexports.InputEvent = InputEvent;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 10/5/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar InputModel = (function (_super) {\r\n    __extends(InputModel, _super);\r\n    function InputModel(label, value, name, selected, required) {\r\n        if (selected === void 0) { selected = false; }\r\n        if (required === void 0) { required = false; }\r\n        var _this = _super.call(this) || this;\r\n        _this._selected = false;\r\n        _this._required = false;\r\n        _this.label = label;\r\n        _this.value = value;\r\n        _this.name = name;\r\n        _this.selected = selected;\r\n        _this.required = required;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(InputModel.prototype, \"nonFormattedValue\", {\r\n        get: function () {\r\n            return this._nonFormattedValue;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputModel.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        set: function (value) {\r\n            this._label = value;\r\n            this.notify(value, 'label');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputModel.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        set: function (value) {\r\n            this._nonFormattedValue = value;\r\n            if (this.format) {\r\n                value = this.format(value);\r\n            }\r\n            this._value = value;\r\n            this.notify(value, 'value');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputModel.prototype, \"name\", {\r\n        get: function () {\r\n            return this._name;\r\n        },\r\n        set: function (value) {\r\n            this._name = value;\r\n            this.notify(value, 'name');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputModel.prototype, \"selected\", {\r\n        get: function () {\r\n            return this._selected;\r\n        },\r\n        set: function (value) {\r\n            this._selected = value;\r\n            this.notify(value, 'selected');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputModel.prototype, \"required\", {\r\n        get: function () {\r\n            return this._required;\r\n        },\r\n        set: function (value) {\r\n            this._required = value;\r\n            this.notify(value, 'required');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return InputModel;\r\n}(Lavender.Subject));\r\nexports.InputModel = InputModel;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\n/**\r\n * Created by dsmiley on 10/10/17.\r\n */\r\nvar AbstractValidator = (function (_super) {\r\n    __extends(AbstractValidator, _super);\r\n    function AbstractValidator() {\r\n        var _this = _super.call(this) || this;\r\n        _this._isValid = false;\r\n        _this._hasWarnings = false;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractValidator.prototype, \"errors\", {\r\n        get: function () {\r\n            return this._errors;\r\n        },\r\n        set: function (value) {\r\n            this._errors = value;\r\n            this.notify(value, \"errors\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractValidator.prototype, \"warnings\", {\r\n        get: function () {\r\n            return this._warnings;\r\n        },\r\n        set: function (value) {\r\n            this._warnings = value;\r\n            this.notify(value, \"warnings\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractValidator.prototype, \"source\", {\r\n        get: function () {\r\n            return this._source;\r\n        },\r\n        set: function (value) {\r\n            this._source = value;\r\n            if (this.source !== null && this.source !== undefined) {\r\n                this.init(); //set up initial state\r\n            }\r\n            this.notify(value, \"source\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractValidator.prototype, \"isValid\", {\r\n        get: function () {\r\n            return this._isValid;\r\n        },\r\n        set: function (value) {\r\n            this._isValid = value;\r\n            this.notify(value, \"isValid\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractValidator.prototype, \"hasWarnings\", {\r\n        get: function () {\r\n            return this._hasWarnings;\r\n        },\r\n        set: function (value) {\r\n            this._hasWarnings = value;\r\n            this.notify(value, \"hasWarnings\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractValidator.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        set: function (value) {\r\n            this._id = value;\r\n            this.notify(value, \"id\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractValidator.prototype.getValidationResult = function () {\r\n        return this.errors.length <= 0;\r\n    };\r\n    AbstractValidator.prototype.getValidationWarningsResult = function () {\r\n        return this.warnings.length > 0;\r\n    };\r\n    //stub for override\r\n    AbstractValidator.prototype.getValidationErrors = function () {\r\n        return new Lavender.ArrayList(); //returns ArrayList of SpiSdk.ValidationError instances\r\n    };\r\n    //stub for override\r\n    AbstractValidator.prototype.getValidationWarnings = function () {\r\n        return new Lavender.ArrayList(); //returns ArrayList of SpiSdk.ValidationError instances\r\n    };\r\n    AbstractValidator.prototype.validateOnChange = function (value) {\r\n        this.validate();\r\n    };\r\n    AbstractValidator.prototype.setUpBindings = function () {\r\n    };\r\n    AbstractValidator.prototype.addEventListeners = function () {\r\n    };\r\n    AbstractValidator.prototype.validate = function () {\r\n        this.errors = this.getValidationErrors(); //get all errors and store\r\n        this.warnings = this.getValidationWarnings();\r\n        this.isValid = this.getValidationResult();\r\n        this.hasWarnings = this.getValidationWarningsResult();\r\n        return this.isValid; //returns true or false, to obtain specific errors use this.errors\r\n    };\r\n    AbstractValidator.prototype.init = function () {\r\n        this.addEventListeners();\r\n        this.setUpBindings();\r\n        this.validate();\r\n    };\r\n    AbstractValidator.prototype.destroy = function () {\r\n        this.binder.unbindAll();\r\n        this.binder = null;\r\n        this.source = null;\r\n        this.errors = null;\r\n        this.warnings = null;\r\n    };\r\n    return AbstractValidator;\r\n}(Lavender.Subject));\r\nexports.AbstractValidator = AbstractValidator;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 10/10/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar ValidationError = (function (_super) {\r\n    __extends(ValidationError, _super);\r\n    function ValidationError(property, errorCode, errorMessage) {\r\n        var _this = _super.call(this) || this;\r\n        _this.property = property;\r\n        _this.errorCode = errorCode;\r\n        _this.errorMessage = errorMessage;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ValidationError.prototype, \"property\", {\r\n        get: function () {\r\n            return this._property;\r\n        },\r\n        set: function (value) {\r\n            this._property = value;\r\n            this.notify(value, \"property\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ValidationError.prototype, \"errorCode\", {\r\n        get: function () {\r\n            return this._errorCode;\r\n        },\r\n        set: function (value) {\r\n            this._errorCode = value;\r\n            this.notify(value, \"errorCode\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ValidationError.prototype, \"errorMessage\", {\r\n        get: function () {\r\n            return this._errorMessage;\r\n        },\r\n        set: function (value) {\r\n            this._errorMessage = value;\r\n            this.notify(value, \"errorMessage\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ValidationError.prototype.destroy = function () {\r\n        this.property = null;\r\n        this.errorCode = null;\r\n        this.errorMessage = null;\r\n    };\r\n    return ValidationError;\r\n}(Lavender.Subject));\r\nexports.ValidationError = ValidationError;\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractCollectionView_1 = __webpack_require__(6);\r\nvar InputEvent_1 = __webpack_require__(8);\r\n/**\r\n * Created by dsmiley on 10/5/17.\r\n */\r\nvar AbstractInputCollectionView = (function (_super) {\r\n    __extends(AbstractInputCollectionView, _super);\r\n    function AbstractInputCollectionView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    //add the invalid/valid class after validation. This method id typically called as part of a data binding on this.isValid\r\n    AbstractInputCollectionView.prototype.attachValidationClass = function (classToAdd, classToRemove) {\r\n        if (this.collectionContainer) {\r\n            this.collectionContainer.classList.remove(classToRemove);\r\n            this.collectionContainer.classList.add(classToAdd);\r\n        }\r\n    };\r\n    AbstractInputCollectionView.prototype.onItemSelectedDeselect = function (event) {\r\n        var dispatchChange = (this.selectedItem != event.payload['item']);\r\n        _super.prototype.onItemSelectedDeselect.call(this, event);\r\n        //if the selected item has changed dispatch input change event\r\n        if (dispatchChange) {\r\n            this.dispatch(new InputEvent_1.InputEvent(InputEvent_1.InputEvent.CHANGE, { target: this.selectedItem, originalEvent: event }));\r\n        }\r\n    };\r\n    return AbstractInputCollectionView;\r\n}(AbstractCollectionView_1.AbstractCollectionView));\r\nexports.AbstractInputCollectionView = AbstractInputCollectionView;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 10/5/17.\r\n */\r\nvar AbstractItemView_1 = __webpack_require__(3);\r\nvar InputModel_1 = __webpack_require__(9);\r\nvar ItemViewEvent_1 = __webpack_require__(5);\r\nvar AbstractSelectableFormInput = (function (_super) {\r\n    __extends(AbstractSelectableFormInput, _super);\r\n    function AbstractSelectableFormInput() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(AbstractSelectableFormInput.prototype, \"selected\", {\r\n        get: function () {\r\n            return this._selected;\r\n        },\r\n        set: function (value) {\r\n            this._selected = value;\r\n            this.refreshView(value);\r\n            this.notify(value, 'selected');\r\n            var eventType = (this.selected) ? ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED : ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED;\r\n            //dispatch event to notify view that the layout was selected/or deselected\r\n            this.dispatch(new ItemViewEvent_1.ItemViewEvent(eventType, { item: this }));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //stub for override\r\n    AbstractSelectableFormInput.prototype.refreshView = function (selected) {\r\n    };\r\n    //called when anewitemis clickedbythe end user in a collection view\r\n    //this is called to reset the state of the currently selected item\r\n    AbstractSelectableFormInput.prototype.resetState = function () {\r\n        this.selected = false;\r\n    };\r\n    AbstractSelectableFormInput.prototype.onModelChange = function (value) {\r\n        _super.prototype.onModelChange.call(this, value);\r\n        if (value && value instanceof InputModel_1.InputModel) {\r\n            //set initial value\r\n            this.selected = value.selected;\r\n            //set up two way bindings\r\n            this.binder.bind(value, 'selected', this, 'selected');\r\n            this.binder.bind(this, 'selected', value, 'selected');\r\n        }\r\n        else if (value && value['selected']) {\r\n            this.selected = value['selected'];\r\n        }\r\n    };\r\n    return AbstractSelectableFormInput;\r\n}(AbstractItemView_1.AbstractItemView));\r\nexports.AbstractSelectableFormInput = AbstractSelectableFormInput;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/23/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar AbstractItemView_1 = __webpack_require__(3);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ItemViewEvent_1 = __webpack_require__(5);\r\nvar AbstractThumbnailView = (function (_super) {\r\n    __extends(AbstractThumbnailView, _super);\r\n    function AbstractThumbnailView() {\r\n        var _this = _super.call(this) || this;\r\n        _this._allowDrag = true;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbWidth\", {\r\n        get: function () {\r\n            return this._thumbWidth;\r\n        },\r\n        set: function (value) {\r\n            this._thumbWidth = value;\r\n            this.notify(value, 'thumbWidth');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbHeight\", {\r\n        get: function () {\r\n            return this._thumbHeight;\r\n        },\r\n        set: function (value) {\r\n            this._thumbHeight = value;\r\n            this.notify(value, 'thumbHeight');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbnail\", {\r\n        get: function () {\r\n            return this._thumbnail;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnail = value;\r\n            this.notify(value, 'thumbnail');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"thumbnailContainer\", {\r\n        get: function () {\r\n            return this._thumbnailContainer;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnailContainer = value;\r\n            this.notify(value, 'thumbnailContainer');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractThumbnailView.prototype, \"allowDrag\", {\r\n        get: function () {\r\n            return this._allowDrag;\r\n        },\r\n        set: function (value) {\r\n            this._allowDrag = value;\r\n            this.notify(value, 'allowDrag');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractThumbnailView.prototype.sizeImage = function () {\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        var defaultSize = this.getDefaultSize();\r\n        var containerSize = this.getContainerSize();\r\n        var scale = Lavender.ResizeUtils.getScaleToFit(defaultSize, containerSize);\r\n        var width = defaultSize['width'] * scale;\r\n        var height = defaultSize['height'] * scale;\r\n        //console.log(\"width/height \"+width+\"/\"+height)\r\n        this.thumbnail.setAttribute('width', width + 'px');\r\n        this.thumbnail.setAttribute('height', height + 'px');\r\n        this.thumbnail.style.maxWidth = containerSize.width + 'px';\r\n        this.thumbnail.style.maxHeight = containerSize.height + 'px';\r\n    };\r\n    AbstractThumbnailView.prototype.onThumbClick = function (event) {\r\n        this.resetState();\r\n    };\r\n    //stub for override\r\n    AbstractThumbnailView.prototype.onDragStart = function (event) {\r\n    };\r\n    AbstractThumbnailView.prototype.getImageURL = function (model) {\r\n        if (model) {\r\n            return model['thumbUrl'];\r\n        }\r\n        return this.model['thumbUrl'];\r\n    };\r\n    AbstractThumbnailView.prototype.getDefaultSize = function () {\r\n        return { width: parseInt(this.thumbnail.getAttribute('width')), height: parseInt(this.thumbnail.getAttribute('height')) };\r\n    };\r\n    AbstractThumbnailView.prototype.getContainerSize = function () {\r\n        var returnObj = (this.thumbnailContainer !== null && this.thumbnailContainer !== undefined) ? { width: parseInt(window.getComputedStyle(this.thumbnailContainer).width), height: parseInt(window.getComputedStyle(this.thumbnailContainer).height) } : { width: NaN, height: NaN };\r\n        //if the container has a defined width and height set in the tempalte use that instead of our defaults\r\n        if (!isNaN(parseInt(this.thumbWidth)) && !isNaN(parseInt(this.thumbWidth))) {\r\n            returnObj = { width: parseInt(this.thumbWidth), height: parseInt(this.thumbHeight) };\r\n        }\r\n        return returnObj;\r\n    };\r\n    AbstractThumbnailView.prototype.onImageLoad = function (event) {\r\n        if (!this.thumbnail) {\r\n            return;\r\n        }\r\n        this.thumbnail.onload = null;\r\n        this.setElementDisplay(this.thumbnail, this._thumbnailDisplay);\r\n        this.sizeImage();\r\n    };\r\n    AbstractThumbnailView.prototype.setThumbnailSrc = function (src) {\r\n        if (!this.thumbnail) {\r\n            return;\r\n        }\r\n        this.thumbnail.onload = this.onImageLoad.bind(this);\r\n        this.setElementDisplay(this.thumbnail, 'none');\r\n        this.thumbnail['src'] = src;\r\n    };\r\n    AbstractThumbnailView.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        this.thumbnail.setAttribute('draggable', (this.allowDrag) ? 'true' : 'false');\r\n        this.thumbnail.addEventListener('click', this.onThumbClick.bind(this));\r\n        this.thumbnail.addEventListener('dragstart', this.onDragStart.bind(this));\r\n    };\r\n    AbstractThumbnailView.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        if (this.thumbnail === null || this.thumbnail === undefined) {\r\n            return;\r\n        }\r\n        this.thumbnail.removeEventListener('click', this.onThumbClick);\r\n        this.thumbnail.removeEventListener('dragstart', this.onDragStart);\r\n    };\r\n    AbstractThumbnailView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('thumbnail', this, 'thumbnail'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('thumbnailContainer', this, 'thumbnailContainer'));\r\n    };\r\n    AbstractThumbnailView.prototype.onModelChange = function (model) {\r\n        if (model) {\r\n            this.setThumbnailSrc(this.getImageURL(model));\r\n        }\r\n    };\r\n    AbstractThumbnailView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'thumbnail':\r\n                this.binder.bind(this, 'model', this, 'onModelChange');\r\n                this._thumbnailDisplay = this.thumbnail.style.display;\r\n                this.setThumbnailSrc(this.getImageURL());\r\n                this.addEventListeners();\r\n                break;\r\n            case 'thumbnailContainer':\r\n                this._thumbnailSelectedClass = this.thumbnailContainer.getAttribute('selected-class');\r\n                break;\r\n        }\r\n    };\r\n    AbstractThumbnailView.prototype.resetState = function () {\r\n        this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);\r\n        var eventType = (this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass)) ? ItemViewEvent_1.ItemViewEvent.ITEM_SELECTED : ItemViewEvent_1.ItemViewEvent.ITEM_DESELECTED;\r\n        //dispatch event to notify view that the layout was selected/or deselected\r\n        this.dispatch(new ItemViewEvent_1.ItemViewEvent(eventType, { item: this }));\r\n    };\r\n    AbstractThumbnailView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.removeEventListeners();\r\n        this.thumbnail = null;\r\n        this.thumbnailContainer = null;\r\n        this._thumbnailSelectedClass = null;\r\n    };\r\n    return AbstractThumbnailView;\r\n}(AbstractItemView_1.AbstractItemView));\r\nexports.AbstractThumbnailView = AbstractThumbnailView;\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentList = (function (_super) {\r\n    __extends(ComponentList, _super);\r\n    function ComponentList() {\r\n        var _this = _super.call(this) || this;\r\n        _this.instancesByConstructor = {};\r\n        return _this;\r\n    }\r\n    ComponentList.prototype.addToHash = function (object) {\r\n        if (this.instancesByConstructor[object.constructor] === null || this.instancesByConstructor[object.constructor] === undefined) {\r\n            this.instancesByConstructor[object.constructor] = [];\r\n        }\r\n        this.instancesByConstructor[object.constructor].push(object);\r\n    };\r\n    ComponentList.prototype.removeItemFromHash = function (hash, object) {\r\n        var objects = hash[object.constructor];\r\n        if (objects === null || objects === undefined || objects.length < 1) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < objects.length; i++) {\r\n            if (objects[i] == object) {\r\n                //remove the item from the array\r\n                switch (i) {\r\n                    case 0:\r\n                        objects.shift();\r\n                        break;\r\n                    case objects.length - 1:\r\n                        objects.pop();\r\n                        break;\r\n                    default:\r\n                        var head = objects.slice(0, i);\r\n                        var tail = objects.slice(i + 1);\r\n                        objects = head.concat(tail);\r\n                        break;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    ComponentList.prototype.addItem = function (object, hash, key) {\r\n        var index = _super.prototype.addItem.call(this, object, hash, key);\r\n        //populate hash\r\n        this.addToHash(object);\r\n        return index;\r\n    };\r\n    ComponentList.prototype.clear = function () {\r\n        _super.prototype.clearHash.call(this, this.instancesByConstructor);\r\n        _super.prototype.clear.call(this);\r\n    };\r\n    ComponentList.prototype.removeItemAt = function (index) {\r\n        var object = this.getItemAt(index);\r\n        this.removeItemFromHash(this.instancesByConstructor, object);\r\n        _super.prototype.removeItemAt.call(this, index);\r\n    };\r\n    ComponentList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        var returnValue = _super.prototype.insert.call(this, object, index, suppressChangeEvent, hash, key, replaceIndex);\r\n        this.addToHash(object);\r\n        return returnValue;\r\n    };\r\n    return ComponentList;\r\n}(Lavender.ArrayList));\r\nexports.ComponentList = ComponentList;\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Lavender = __webpack_require__(0);\r\nvar ComponentList_1 = __webpack_require__(15);\r\n/**\r\n * Created by dsmiley on 7/25/17.\r\n */\r\nvar ComponentMap = (function () {\r\n    function ComponentMap(context) {\r\n        this.context = context;\r\n        this.componentInstances = new ComponentList_1.ComponentList();\r\n        this.tagInstanceToRequestId = {};\r\n    }\r\n    ComponentMap.prototype.success = function (result) {\r\n        var tagInstance = this.tagInstanceToRequestId[result.requestId];\r\n        var div = document.createElement('div');\r\n        div.innerHTML = result.resultObj;\r\n        //clone the contents\r\n        var clone = document.importNode(div.childNodes[0].content, true);\r\n        //select the root component node\r\n        var component = clone.querySelector(tagInstance.getAttribute('data-component-root'));\r\n        component.lotusComponentInstance = tagInstance.lotusComponentInstance;\r\n        //create a shadow host from the tag instance and append the clone to it\r\n        var host = tagInstance.createShadowRoot();\r\n        host.appendChild(clone);\r\n        //transfer data-attribute instance onto the component\r\n        for (var i = 0; i < tagInstance.attributes.length; i++) {\r\n            var attribute = tagInstance.attributes[i];\r\n            if (attribute.name.indexOf('attribute') >= 0) {\r\n                component.setAttribute(attribute.name, attribute.value);\r\n            }\r\n        }\r\n        //pass along the root component node to the view component\r\n        this.createComponent(component);\r\n        //Scope styles to the tag. This appends the tag's nodeName to all styles to simulate DOM encapsulation, however it will not shield the shadowDOM from selectors in the lightDOM. This is not possible with pollyfills at this time.\r\n        //Note window.WebComponents is added by bower web components core. shimStyling is used by polyfills\r\n        if (window['WebComponents'] && window['WebComponents'].ShadowCSS) {\r\n            window['WebComponents'].ShadowCSS.shimStyling(host, tagInstance.nodeName);\r\n        }\r\n    };\r\n    ComponentMap.prototype.fault = function (fault) {\r\n        console.log(fault);\r\n        throw new Error('Could not load template. Please check you defined the correct path.');\r\n    };\r\n    ComponentMap.prototype.onProgress = function (progress) {\r\n    };\r\n    //stub for override in LotusJS-MVW\r\n    ComponentMap.prototype.mapMediators = function (tagInstance) {\r\n    };\r\n    ComponentMap.prototype.addComponent = function (tagInstance, functionConstructor) {\r\n        // fired once at the time a component\r\n        // is initially created or parsed\r\n        if (tagInstance.lotusComponentInstance === null || tagInstance.lotusComponentInstance === undefined) {\r\n            tagInstance.lotusComponentInstance = new functionConstructor();\r\n            this.componentInstances.addItem(tagInstance.lotusComponentInstance);\r\n        }\r\n        //trigger mediator assignment if any\r\n        this.mapMediators(tagInstance);\r\n        //if the tag instance defines a scr attribute load the template and set up the shadow DOM\r\n        var src = tagInstance.getAttribute('data-template-url');\r\n        if (src !== null && src !== undefined) {\r\n            var httpService = new Lavender.XhrHttpService();\r\n            httpService.addResponder(this);\r\n            httpService.send('GET', src, null, 'text/html', 'text', true);\r\n            this.tagInstanceToRequestId[httpService.requestId] = tagInstance;\r\n            return;\r\n        }\r\n        this.createComponent(tagInstance);\r\n    };\r\n    ComponentMap.prototype.createComponent = function (tagInstance) {\r\n        tagInstance.lotusComponentInstance.created(tagInstance);\r\n    };\r\n    ComponentMap.prototype.mapComponent = function (tagName, prototype, functionConstructor, framework) {\r\n        if (!framework) {\r\n            framework = xtag;\r\n        }\r\n        var componentMap = this;\r\n        var lifecycle = {\r\n            created: function () {\r\n                //IMPORTANT:, use builder patter here and create an add component function\r\n                componentMap.addComponent(this, functionConstructor);\r\n            },\r\n            inserted: function () {\r\n                // fired each time a component\r\n                // is inserted into the DOM\r\n                this.lotusComponentInstance.inserted(this);\r\n            },\r\n            removed: function () {\r\n                // fired each time an element\r\n                // is removed from DOM\r\n                this.lotusComponentInstance.removed(this);\r\n            },\r\n            attributeChanged: function (attrName, oldValue, newValue) {\r\n                // fired when attributes are set\r\n                this.lotusComponentInstance.attributeChanged(this);\r\n            }\r\n        };\r\n        var definition = {\r\n            // extend existing elements\r\n            prototype: prototype,\r\n            lifecycle: lifecycle\r\n        };\r\n        framework.register(tagName, definition);\r\n    };\r\n    return ComponentMap;\r\n}());\r\nexports.ComponentMap = ComponentMap;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/23/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar AbstractCollectionView_1 = __webpack_require__(6);\r\nvar AbstractRecordSetCollectionView = (function (_super) {\r\n    __extends(AbstractRecordSetCollectionView, _super);\r\n    function AbstractRecordSetCollectionView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.nextBtn = null;\r\n        _this.pervBtn = null;\r\n        _this.firstBtn = null;\r\n        _this.lastBtn = null;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"recordSet\", {\r\n        get: function () {\r\n            return this._recordSet;\r\n        },\r\n        set: function (value) {\r\n            this.removeCollectionEventListeners(); //must occur first\r\n            this._recordSet = value;\r\n            this.addCollectionEventListeners(); //must occur after line above\r\n            this.notify(value, 'recordSet');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"navBtnEnabledClass\", {\r\n        get: function () {\r\n            return this._navBtnEnabledClass;\r\n        },\r\n        set: function (value) {\r\n            this._navBtnEnabledClass = value;\r\n            this.notify(value, 'navBtnEnabledClass');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"navBtnDisabledClass\", {\r\n        get: function () {\r\n            return this._navBtnDisabledClass;\r\n        },\r\n        set: function (value) {\r\n            this._navBtnDisabledClass = value;\r\n            this.notify(value, 'navBtnDisabledClass');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"nextBtn\", {\r\n        get: function () {\r\n            return this._nextBtn;\r\n        },\r\n        set: function (value) {\r\n            this._nextBtn = value;\r\n            this.notify(value, 'nextBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"pervBtn\", {\r\n        get: function () {\r\n            return this._pervBtn;\r\n        },\r\n        set: function (value) {\r\n            this._pervBtn = value;\r\n            this.notify(value, 'pervBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"firstBtn\", {\r\n        get: function () {\r\n            return this._firstBtn;\r\n        },\r\n        set: function (value) {\r\n            this._firstBtn = value;\r\n            this.notify(value, 'firstBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AbstractRecordSetCollectionView.prototype, \"lastBtn\", {\r\n        get: function () {\r\n            return this._lastBtn;\r\n        },\r\n        set: function (value) {\r\n            this._lastBtn = value;\r\n            this.notify(value, 'lastBtn');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AbstractRecordSetCollectionView.prototype.addCollectionEventListeners = function () {\r\n        //IMPORTANT, do not call super, we don't want to listen for collection change events but instead the events below\r\n        if (this.recordSet !== null && this.recordSet !== undefined) {\r\n            this.recordSet.addEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\r\n            this.binder.bind(this.recordSet, 'pageList', this, 'onPageListChange', null, null, 'pageListChaneHandler');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.removeCollectionEventListeners = function () {\r\n        //IMPORTANT, do not call super\r\n        //This method can be called as part of a destroy sequence where the collection is nulled out, so we check for NPE\r\n        if (this.recordSet !== null && this.recordSet !== undefined) {\r\n            //remove old event listeners\r\n            this.recordSet.removeEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\r\n        }\r\n        if (this.binder !== null && this.binder !== undefined) {\r\n            this.binder.unbind('pageListChaneHandler');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onClickHandler = function (event) {\r\n        //event.currentTarget always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\r\n        switch (event.currentTarget.getAttribute('data-skin-part')) {\r\n            case 'nextBtn':\r\n                if (this.recordSet.selectedPage + 1 > this.recordSet.totalPages) {\r\n                    return;\r\n                }\r\n                this.recordSet.selectedPage += 1;\r\n                break;\r\n            case 'pervBtn':\r\n                if (this.recordSet.selectedPage - 1 < 1) {\r\n                    return;\r\n                }\r\n                this.recordSet.selectedPage -= 1;\r\n                break;\r\n            case 'firstBtn':\r\n                this.recordSet.selectedPage = 1;\r\n                break;\r\n            case 'lastBtn':\r\n                this.recordSet.selectedPage = this.recordSet.totalPages;\r\n                break;\r\n        }\r\n        if (this.nextBtn) {\r\n            this.refreshNavButtonDisplay(this.nextBtn, 'next');\r\n        }\r\n        if (this.pervBtn) {\r\n            this.refreshNavButtonDisplay(this.pervBtn, 'prev');\r\n        }\r\n        if (this.firstBtn) {\r\n            this.refreshNavButtonDisplay(this.firstBtn, 'prev');\r\n        }\r\n        if (this.lastBtn) {\r\n            this.refreshNavButtonDisplay(this.lastBtn, 'next');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.refreshNavButtonDisplay = function (button, type) {\r\n        if (button.classList.contains(this.navBtnDisabledClass)) {\r\n            button.classList.remove(this.navBtnDisabledClass);\r\n        }\r\n        if (button.classList.contains(this.navBtnEnabledClass)) {\r\n            button.classList.remove(this.navBtnEnabledClass);\r\n        }\r\n        var classToAdd;\r\n        if (type === 'next') {\r\n            classToAdd = (this.recordSet.selectedPage + 1 > this.recordSet.totalPages) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\r\n        }\r\n        else {\r\n            classToAdd = (this.recordSet.selectedPage - 1 < 1) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\r\n        }\r\n        button.classList.add(classToAdd);\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onResultsChange = function (event) {\r\n        this.render();\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onPageListChange = function (value) {\r\n        this.render();\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.initCollection = function () {\r\n        //assign a default collection if it has not already been set\r\n        if (this.recordSet === null || this.recordSet === undefined) {\r\n            this.recordSet = new Lavender.RecordSet();\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('nextBtn', this, 'nextBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('pervBtn', this, 'pervBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('firstBtn', this, 'firstBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('lastBtn', this, 'lastBtn'));\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //optional container for displaying collection elements\r\n            case 'nextBtn':\r\n                this.nextBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'pervBtn':\r\n                this.pervBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'firstBtn':\r\n                this.firstBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n            case 'lastBtn':\r\n                this.lastBtn.addEventListener('click', this.onClickHandler.bind(this));\r\n                break;\r\n        }\r\n        //IMPORTANT: you could defined these classes on a sort of dummy skin part defined within the component, or on one of the buttons\r\n        if (element.getAttribute('data-enabledClass') !== null && element.getAttribute('data-enabledClass') !== undefined) {\r\n            this.navBtnEnabledClass = element.getAttribute('data-enabledClass');\r\n        }\r\n        if (element.getAttribute('data-disabled-class') !== null && element.getAttribute('data-disabled-class') !== undefined) {\r\n            this.navBtnDisabledClass = element.getAttribute('data-disabled-class');\r\n        }\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.render = function () {\r\n        //IMPORTANT: do not call super!\r\n        if (this.itemView === null || this.itemView == undefined) {\r\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\r\n        }\r\n        //clear the current view\r\n        this.removeAllChildViews();\r\n        if (this.nextBtn) {\r\n            this.refreshNavButtonDisplay(this.nextBtn, 'next');\r\n        }\r\n        if (this.pervBtn) {\r\n            this.refreshNavButtonDisplay(this.pervBtn, 'prev');\r\n        }\r\n        if (this.firstBtn) {\r\n            this.refreshNavButtonDisplay(this.firstBtn, 'prev');\r\n        }\r\n        if (this.lastBtn) {\r\n            this.refreshNavButtonDisplay(this.lastBtn, 'next');\r\n        }\r\n        if (this.recordSet.pageList === null || this.recordSet.pageList === undefined) {\r\n            return;\r\n        }\r\n        //populate the new view using the record set's current page\r\n        for (var i = 0; i < this.recordSet.pageList.length; i++) {\r\n            var model = this.recordSet.pageList.getItemAt(i);\r\n            this.addChildView(model);\r\n        }\r\n        this.selectedItem = null; //reset the selected item state\r\n    };\r\n    AbstractRecordSetCollectionView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.nextBtn) {\r\n            this.nextBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.pervBtn) {\r\n            this.pervBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.firstBtn) {\r\n            this.firstBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        if (this.lastBtn) {\r\n            this.lastBtn.removeEventListener('click', this.onClickHandler);\r\n        }\r\n        this.recordSet.destroy();\r\n        this.navBtnEnabledClass = null;\r\n        this.navBtnDisabledClass = null;\r\n        this.nextBtn = null;\r\n        this.pervBtn = null;\r\n        this.firstBtn = null;\r\n        this.lastBtn = null;\r\n        this.recordSet = null;\r\n    };\r\n    return AbstractRecordSetCollectionView;\r\n}(AbstractCollectionView_1.AbstractCollectionView));\r\nexports.AbstractRecordSetCollectionView = AbstractRecordSetCollectionView;\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/26/17.\r\n */\r\nvar AbstractCollectionView_1 = __webpack_require__(6);\r\nvar FileView_1 = __webpack_require__(19);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar FileEvent_1 = __webpack_require__(7);\r\nvar FileCollectionView = (function (_super) {\r\n    __extends(FileCollectionView, _super);\r\n    function FileCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(FileCollectionView.prototype, \"fileInput\", {\r\n        get: function () {\r\n            return this._fileInput;\r\n        },\r\n        set: function (value) {\r\n            this._fileInput = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileCollectionView.prototype, \"selectBtn\", {\r\n        get: function () {\r\n            return this._selectBtn;\r\n        },\r\n        set: function (value) {\r\n            this._selectBtn = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FileCollectionView.prototype.getUploadEvent = function (file) {\r\n        return new FileEvent_1.FileEvent(FileEvent_1.FileEvent.UPLOAD_FILE, { file: file });\r\n    };\r\n    FileCollectionView.prototype.uploadFiles = function (files) {\r\n        for (var i = 0; i < files.length; i++) {\r\n            if (files[i].type.indexOf('image') < 0) {\r\n                continue; //skip file types that are not images\r\n            }\r\n            //iterate over the files and create a new file object and append to the collection\r\n            var file = new FileView_1.File();\r\n            file.type = files[i].type;\r\n            file.name = files[i].name;\r\n            file.size = files[i].size;\r\n            file.fileObj = files[i];\r\n            file.thumbnail = window.URL.createObjectURL(files[i]);\r\n            //add the item to the collection\r\n            this.collection.addItem(file);\r\n            //dispatch event to load the file\r\n            this.dispatch(this.getUploadEvent(file));\r\n        }\r\n    };\r\n    FileCollectionView.prototype.addViewEventListeners = function (view) {\r\n        _super.prototype.addViewEventListeners.call(this, view);\r\n        view.addEventListener(FileEvent_1.FileEvent.REMOVE_FILE_FROM_COLLECTION, this, 'onRemoveAbortFile');\r\n        view.addEventListener(FileEvent_1.FileEvent.ABORT_FILE_UPLOAD, this, 'onRemoveAbortFile');\r\n    };\r\n    FileCollectionView.prototype.removeViewEventListeners = function (view) {\r\n        _super.prototype.removeViewEventListeners.call(this, view);\r\n        view.removeEventListener(FileEvent_1.FileEvent.REMOVE_FILE_FROM_COLLECTION, this, 'onRemoveAbortFile');\r\n        view.removeEventListener(FileEvent_1.FileEvent.ABORT_FILE_UPLOAD, this, 'onRemoveAbortFile');\r\n    };\r\n    FileCollectionView.prototype.onRemoveAbortFile = function (event) {\r\n        this.dispatch(event);\r\n        this.removeChildViewFromModel(event.payload['file']);\r\n    };\r\n    FileCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\r\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('fileInput', this, 'fileInput'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('selectBtn', this, 'selectBtn'));\r\n    };\r\n    FileCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'fileInput':\r\n                this.fileInput.addEventListener(\"change\", this.onFileInputChange.bind(this));\r\n                break;\r\n            case 'selectBtn':\r\n                this.selectBtn.addEventListener(\"click\", this.onFileBtnClick.bind(this));\r\n                break;\r\n        }\r\n    };\r\n    FileCollectionView.prototype.onFileInputChange = function (event) {\r\n        var files = this.fileInput.files;\r\n        if (!files.length) {\r\n            return;\r\n        }\r\n        else {\r\n            this.uploadFiles(files);\r\n        }\r\n    };\r\n    FileCollectionView.prototype.onFileBtnClick = function (event) {\r\n        if (this.fileInput) {\r\n            this.fileInput.click(); //trigger the open of the file input\r\n        }\r\n        if (this.selectBtn.getAttribute('href') !== null && this.selectBtn.getAttribute('href') !== undefined) {\r\n            event.preventDefault();\r\n        } // prevent navigation to \"#\" or any other link\r\n    };\r\n    FileCollectionView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.fileInput) {\r\n            this.fileInput.removeEventListener(\"change\", this.onFileInputChange);\r\n            this.fileInput = null;\r\n        }\r\n        if (this.selectBtn) {\r\n            this.selectBtn.removeEventListener(\"click\", this.onFileBtnClick);\r\n            this.selectBtn = null;\r\n        }\r\n    };\r\n    return FileCollectionView;\r\n}(AbstractCollectionView_1.AbstractCollectionView));\r\nexports.FileCollectionView = FileCollectionView;\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/26/17.\r\n */\r\nvar AbstractItemView_1 = __webpack_require__(3);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar FileEvent_1 = __webpack_require__(7);\r\nvar Lavender = __webpack_require__(0);\r\nvar File = (function (_super) {\r\n    __extends(File, _super);\r\n    function File() {\r\n        var _this = _super.call(this) || this;\r\n        _this._id = Math.random();\r\n        _this.id = Math.random();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(File.prototype, \"size\", {\r\n        get: function () {\r\n            return this._size;\r\n        },\r\n        set: function (value) {\r\n            this._size = value;\r\n            this.notify(value, 'size');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"fileObj\", {\r\n        get: function () {\r\n            return this._fileObj;\r\n        },\r\n        set: function (value) {\r\n            this._fileObj = value;\r\n            this.notify(value, 'fileObj');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"percentLoaded\", {\r\n        get: function () {\r\n            return this._percentLoaded;\r\n        },\r\n        set: function (value) {\r\n            this._percentLoaded = value;\r\n            this.notify(value, 'percentLoaded');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"state\", {\r\n        get: function () {\r\n            return this._state;\r\n        },\r\n        set: function (value) {\r\n            this._state = value;\r\n            this.notify(value, 'state');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"thumbnail\", {\r\n        get: function () {\r\n            return this._thumbnail;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnail = value;\r\n            this.notify(value, 'thumbnail');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        set: function (value) {\r\n            this._type = value;\r\n            this.notify(value, 'type');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(File.prototype, \"name\", {\r\n        get: function () {\r\n            return this._name;\r\n        },\r\n        set: function (value) {\r\n            this._name = value;\r\n            this.notify(value, 'name');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    File.PENDING = 'pending'; //unstarted\r\n    File.PROGRESS = 'progress';\r\n    File.LOAD = 'load';\r\n    File.ERROR = 'error';\r\n    File.ABORT = 'abort';\r\n    return File;\r\n}(Lavender.Subject));\r\nexports.File = File;\r\nvar FileView = (function (_super) {\r\n    __extends(FileView, _super);\r\n    function FileView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(FileView.prototype, \"fileLabel\", {\r\n        get: function () {\r\n            return this._fileLabel;\r\n        },\r\n        set: function (value) {\r\n            this._fileLabel = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"fileTypeLabel\", {\r\n        get: function () {\r\n            return this._fileTypeLabel;\r\n        },\r\n        set: function (value) {\r\n            this._fileTypeLabel = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"progressBar\", {\r\n        get: function () {\r\n            return this._progressBar;\r\n        },\r\n        set: function (value) {\r\n            this._progressBar = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"statusIndicator\", {\r\n        get: function () {\r\n            return this._statusIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._statusIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"loadIndicator\", {\r\n        get: function () {\r\n            return this._loadIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._loadIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"errorIndicator\", {\r\n        get: function () {\r\n            return this._errorIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._errorIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"progressIndicator\", {\r\n        get: function () {\r\n            return this._progressIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._progressIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"pendingIndicator\", {\r\n        get: function () {\r\n            return this._pendingIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._pendingIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"abortIndicator\", {\r\n        get: function () {\r\n            return this._abortIndicator;\r\n        },\r\n        set: function (value) {\r\n            this._abortIndicator = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"cancelBtn\", {\r\n        get: function () {\r\n            return this._cancelBtn;\r\n        },\r\n        set: function (value) {\r\n            this._cancelBtn = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"clearBtn\", {\r\n        get: function () {\r\n            return this._clearBtn;\r\n        },\r\n        set: function (value) {\r\n            this._clearBtn = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"thumbnail\", {\r\n        get: function () {\r\n            return this._thumbnail;\r\n        },\r\n        set: function (value) {\r\n            this._thumbnail = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"cancelBtnDisplay\", {\r\n        get: function () {\r\n            return this._cancelBtnDisplay;\r\n        },\r\n        set: function (value) {\r\n            this._cancelBtnDisplay = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FileView.prototype, \"clearBtnDisplay\", {\r\n        get: function () {\r\n            return this._clearBtnDisplay;\r\n        },\r\n        set: function (value) {\r\n            this._clearBtnDisplay = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FileView.prototype.setUpBindings = function () {\r\n        if (this.fileLabel !== null && this.fileLabel !== undefined) {\r\n            this.fileLabel.innerHTML = this.model.name;\r\n        }\r\n        if (this.fileTypeLabel !== null && this.fileTypeLabel !== undefined) {\r\n            this.fileTypeLabel.innerHTML = this.model.type;\r\n        }\r\n        if (this.thumbnail !== null && this.thumbnail !== undefined) {\r\n            this.thumbnail.src = this.model.thumbnail;\r\n        }\r\n        this.onStateChange(this.model.state); //set initial state\r\n        this.onPercentChange(this.model.percentLoaded); //set initial percent\r\n        this.binder.bind(this.model, 'state', this, 'onStateChange');\r\n        this.binder.bind(this.model, 'percentLoaded', this, 'onPercentChange');\r\n    };\r\n    FileView.prototype.setStatusIndicator = function (node) {\r\n        if (this.statusIndicator !== null && this.statusIndicator !== undefined) {\r\n            //remove child nodes\r\n            while (this.statusIndicator.firstChild) {\r\n                this.statusIndicator.removeChild(this.statusIndicator.firstChild);\r\n            }\r\n            this.statusIndicator.appendChild(node);\r\n        }\r\n    };\r\n    FileView.prototype.onPercentChange = function (value) {\r\n        if (this.progressBar !== null && this.progressBar !== undefined) {\r\n            //get the max width\r\n            var maxWidth = (this.progressBar.style.hasOwnProperty('maxWidth') && this.progressBar.style.maxWidth.length > 0) ? parseInt(this.progressBar.style.maxWidth) : null;\r\n            //set width based on % value of parent width\r\n            var parentWidth = parseFloat(window.getComputedStyle(this.progressBar.parentNode).width);\r\n            var newWidth = (value / 1) * parentWidth;\r\n            this.progressBar.style.width = (maxWidth !== null && newWidth > maxWidth) ? maxWidth + 'px' : newWidth + 'px';\r\n        }\r\n    };\r\n    FileView.prototype.init = function () {\r\n        _super.prototype.init.call(this);\r\n        this.setUpBindings();\r\n    };\r\n    FileView.prototype.onStateChange = function (value) {\r\n        this.setElementDisplay(this.cancelBtn, this.cancelBtnDisplay); //reset display state so button is visible\r\n        this.setElementDisplay(this.clearBtn, 'none'); //hide the clear button during upload\r\n        switch (value) {\r\n            case File.PENDING:\r\n                if (this.pendingIndicator !== null && this.pendingIndicator !== undefined) {\r\n                    this.setStatusIndicator(this.pendingIndicator);\r\n                }\r\n                break;\r\n            case File.PROGRESS:\r\n                if (this.progressIndicator !== null && this.progressIndicator !== undefined) {\r\n                    this.setStatusIndicator(this.progressIndicator);\r\n                }\r\n                break;\r\n            case File.LOAD:\r\n                if (this.loadIndicator !== null && this.loadIndicator !== undefined) {\r\n                    this.setStatusIndicator(this.loadIndicator);\r\n                }\r\n                this.setElementDisplay(this.cancelBtn, 'none'); //not visible by default, stops the upload but does not clear the file from the list\r\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay); //visible by default, clears the file from the list\r\n                break;\r\n            case File.ERROR:\r\n                if (this.errorIndicator !== null && this.errorIndicator !== undefined) {\r\n                    this.setStatusIndicator(this.errorIndicator);\r\n                }\r\n                this.setElementDisplay(this.cancelBtn, 'none'); //not visible by default, stops the upload but does not clear the file from the list\r\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay); //visible by default, clears the file from the list\r\n                break;\r\n            case File.ABORT:\r\n                if (this.abortIndicator !== null && this.abortIndicator !== undefined) {\r\n                    this.setStatusIndicator(this.abortIndicator);\r\n                }\r\n                this.setElementDisplay(this.cancelBtn, 'none'); //not visible by default, stops the upload but does not clear the file from the list\r\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay); //visible by default, clears the file from the list\r\n                break;\r\n        }\r\n    };\r\n    FileView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\r\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('thumbnail', this, 'thumbnail'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('clearBtn', this, 'clearBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('cancelBtn', this, 'cancelBtn'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('abortIndicator', this, 'abortIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('pendingIndicator', this, 'pendingIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('progressIndicator', this, 'progressIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('errorIndicator', this, 'errorIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('loadIndicator', this, 'loadIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('statusIndicator', this, 'statusIndicator'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('progressBar', this, 'progressBar'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('fileTypeLabel', this, 'fileTypeLabel'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('fileLabel', this, 'fileLabel'));\r\n    };\r\n    FileView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'cancelBtn':\r\n                this.cancelBtnDisplay = this.cancelBtn.style.display; //capture the original display state of the button\r\n                this.cancelBtn.addEventListener('click', this.onCancelBtnClick.bind(this));\r\n                break;\r\n            case 'clearBtn':\r\n                this.clearBtnDisplay = this.clearBtn.style.display; //capture the original display state of the button\r\n                this.clearBtn.addEventListener('click', this.onClearBtnClick.bind(this));\r\n                break;\r\n        }\r\n    };\r\n    FileView.prototype.onClearBtnClick = function (event) {\r\n        this.dispatch(new FileEvent_1.FileEvent(FileEvent_1.FileEvent.REMOVE_FILE_FROM_COLLECTION, { file: this.model }));\r\n    };\r\n    FileView.prototype.onCancelBtnClick = function (event) {\r\n        this.dispatch(new FileEvent_1.FileEvent(FileEvent_1.FileEvent.ABORT_FILE_UPLOAD, { file: this.model }));\r\n    };\r\n    FileView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.clearBtn !== null && this.clearBtn !== undefined) {\r\n            this.clearBtn.removeEventListener('click', this.onClearBtnClick);\r\n        }\r\n        if (this.cancelBtn !== null && this.cancelBtn !== undefined) {\r\n            this.cancelBtn.removeEventListener('click', this.onCancelBtnClick);\r\n        }\r\n        this.fileLabel = null;\r\n        this.progressBar = null;\r\n        this.cancelBtn = null;\r\n        this.clearBtn = null;\r\n        this.statusIndicator = null;\r\n        this.loadIndicator = null;\r\n        this.errorIndicator = null;\r\n        this.progressIndicator = null;\r\n        this.pendingIndicator = null;\r\n        this.abortIndicator = null;\r\n        this.thumbnail = null;\r\n    };\r\n    return FileView;\r\n}(AbstractItemView_1.AbstractItemView));\r\nexports.FileView = FileView;\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/1/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar SkinPartList = (function (_super) {\r\n    __extends(SkinPartList, _super);\r\n    function SkinPartList(source, allowDuplicates) {\r\n        if (allowDuplicates === void 0) { allowDuplicates = true; }\r\n        var _this = _super.call(this, source, allowDuplicates) || this;\r\n        _this.skinPartsByLabel = {};\r\n        return _this;\r\n    }\r\n    SkinPartList.prototype.addItem = function (object, hash, key) {\r\n        //ensure the object is valid before proceeding\r\n        var index = _super.prototype.addItem.call(this, object, hash, key);\r\n        //populate hash\r\n        this.skinPartsByLabel[object.label] = object;\r\n        return index;\r\n    };\r\n    SkinPartList.prototype.clear = function () {\r\n        _super.prototype.clearHash.call(this, this.skinPartsByLabel);\r\n        _super.prototype.clear.call(this);\r\n    };\r\n    SkinPartList.prototype.removeItemAt = function (index) {\r\n        var skinPart = this.getItemAt(index);\r\n        _super.prototype.removeItemFromHash.call(this, this.skinPartsByLabel, skinPart.label);\r\n        _super.prototype.removeItemAt.call(this, index);\r\n    };\r\n    SkinPartList.prototype.insert = function (object, index, suppressChangeEvent, hash, key, replaceIndex) {\r\n        if (suppressChangeEvent === void 0) { suppressChangeEvent = false; }\r\n        if (replaceIndex === void 0) { replaceIndex = false; }\r\n        //ensure the object is valid before proceeding\r\n        var returnValue = _super.prototype.insert.call(this, object, index, suppressChangeEvent, hash, key, replaceIndex);\r\n        //populate hash\r\n        this.skinPartsByLabel[object.label] = object;\r\n        return returnValue;\r\n    };\r\n    return SkinPartList;\r\n}(Lavender.ArrayList));\r\nexports.SkinPartList = SkinPartList;\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ComponentMap_1 = __webpack_require__(16);\r\n/**\r\n * Created by dsmiley on 7/24/17.\r\n */\r\nvar Context = (function () {\r\n    function Context(config, params) {\r\n        this.config = config;\r\n        //IMPORTANT: must occur first so application event bus is configured\r\n        this.componentMap = new ComponentMap_1.ComponentMap(this); //create factory if we require sub classes one day\r\n        this.startUp();\r\n    }\r\n    Context.prototype.startUp = function () {\r\n        this.mapComponents();\r\n    };\r\n    Context.prototype.mapComponents = function () {\r\n    };\r\n    return Context;\r\n}());\r\nexports.Context = Context;\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar LotusHTMLElement = (function (_super) {\r\n    __extends(LotusHTMLElement, _super);\r\n    function LotusHTMLElement() {\r\n        return _super.call(this) || this;\r\n    }\r\n    LotusHTMLElement.prototype.createShadowRoot = function () {\r\n        return _super.prototype['createShadowRoot'].call(this);\r\n    };\r\n    LotusHTMLElement.prototype.getComponentInstance = function () {\r\n        return this.lotusComponentInstance;\r\n    };\r\n    return LotusHTMLElement;\r\n}(HTMLDivElement));\r\nexports.LotusHTMLElement = LotusHTMLElement;\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 10/10/17.\r\n */\r\nvar Lavender = __webpack_require__(0);\r\nvar InputCollectionModel = (function (_super) {\r\n    __extends(InputCollectionModel, _super);\r\n    function InputCollectionModel(type, collection, selectionRequired) {\r\n        if (selectionRequired === void 0) { selectionRequired = false; }\r\n        var _this = _super.call(this) || this;\r\n        _this.selectionRequired = false;\r\n        _this._isValid = false;\r\n        _this.collection = collection;\r\n        _this.selectionRequired = selectionRequired;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(InputCollectionModel.prototype, \"errors\", {\r\n        get: function () {\r\n            return this._errors;\r\n        },\r\n        set: function (value) {\r\n            this._errors = value;\r\n            this.notify(value, 'errors');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputCollectionModel.prototype, \"validators\", {\r\n        get: function () {\r\n            return this._validators;\r\n        },\r\n        set: function (value) {\r\n            this._validators = value;\r\n            this.notify(value, 'validators');\r\n            this.setUpBindings();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputCollectionModel.prototype, \"isValid\", {\r\n        get: function () {\r\n            return this._isValid;\r\n        },\r\n        set: function (value) {\r\n            this._isValid = value;\r\n            this.notify(value, \"isValid\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputCollectionModel.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        set: function (value) {\r\n            this._type = value;\r\n            this.notify(value, 'type');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(InputCollectionModel.prototype, \"collection\", {\r\n        get: function () {\r\n            return this._collection;\r\n        },\r\n        set: function (value) {\r\n            this._collection = value;\r\n            this.notify(value, 'collection');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    InputCollectionModel.prototype.setUpBindings = function () {\r\n        for (var i = 0; i < this.validators.length; i++) {\r\n            this.binder.bind(this.validators.getItemAt(i), 'isValid', this, 'validate');\r\n        }\r\n    };\r\n    InputCollectionModel.prototype.validate = function (value) {\r\n        this.errors = new Lavender.ArrayList();\r\n        for (var i = 0; i < this.validators.length; i++) {\r\n            var validator = this.validators.getItemAt(i);\r\n            if (!validator.validate()) {\r\n                this.errors.addAll(validator.errors.source());\r\n            }\r\n        }\r\n        this.isValid = this.errors.length == 0;\r\n        //return the failed results\r\n        return this.errors;\r\n    };\r\n    InputCollectionModel.prototype.clear = function () {\r\n        //reset all form fields by clearing InputModel values\r\n        for (var i = 0; i < this.collection.length; i++) {\r\n            var item = this.collection.getItemAt(i);\r\n            switch (this.type) {\r\n                case InputCollectionModel.TYPE_INPUT:\r\n                    item.value = '';\r\n                    break;\r\n                case InputCollectionModel.TYPE_FILE:\r\n                    //TODO: fogure out how to reset file collection view using model. Probably need a ne wmodel attribute\r\n                    break;\r\n                case InputCollectionModel.TYPE_RADIO_GROUP:\r\n                case InputCollectionModel.TYPE_LIST:\r\n                    item.selected = false;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    InputCollectionModel.prototype.destroy = function () {\r\n        this.binder.unbindAll();\r\n        this.binder = null;\r\n        this.collection = null;\r\n    };\r\n    InputCollectionModel.TYPE_INPUT = 0;\r\n    InputCollectionModel.TYPE_LIST = 1;\r\n    InputCollectionModel.TYPE_RADIO_GROUP = 2;\r\n    InputCollectionModel.TYPE_FILE = 3;\r\n    return InputCollectionModel;\r\n}(Lavender.Subject));\r\nexports.InputCollectionModel = InputCollectionModel;\r\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractValidator_1 = __webpack_require__(10);\r\nvar Lavender = __webpack_require__(0);\r\nvar ValidationError_1 = __webpack_require__(11);\r\n/**\r\n * Created by dsmiley on 10/10/17.\r\n */\r\nvar SelectableInputValidator = (function (_super) {\r\n    __extends(SelectableInputValidator, _super);\r\n    function SelectableInputValidator() {\r\n        return _super.call(this) || this;\r\n    }\r\n    SelectableInputValidator.prototype.setUpBindings = function () {\r\n        for (var i = 0; i < this.source.collection.length; i++) {\r\n            //ensure changes in the value trigger validation\r\n            this.binder.bind(this.source.collection.getItemAt(i), 'selected', this, 'validateOnChange');\r\n        }\r\n    };\r\n    //iterate over model objects and ensure all required objects have some text\r\n    SelectableInputValidator.prototype.getValidationErrors = function () {\r\n        var returnList = new Lavender.ArrayList();\r\n        //if the model requires a selection ensure there is one\r\n        if (this.source.selectionRequired) {\r\n            var itemSelected = false;\r\n            var groupName = void 0;\r\n            for (var i = 0; i < this.source.collection.length; i++) {\r\n                groupName = this.source.collection.getItemAt(i).name; //group name is the same for all items\r\n                if (this.source.collection.getItemAt(i).selected) {\r\n                    itemSelected = true;\r\n                    break;\r\n                }\r\n            }\r\n            //at least one item must be selected\r\n            if (!itemSelected) {\r\n                returnList.addItem(new ValidationError_1.ValidationError('selected', 'form.selectionRequired', groupName + ' must have a selection.'));\r\n            }\r\n        }\r\n        return returnList; //returns ArrayList of SpiSdk.ValidationError instances\r\n    };\r\n    return SelectableInputValidator;\r\n}(AbstractValidator_1.AbstractValidator));\r\nexports.SelectableInputValidator = SelectableInputValidator;\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractValidator_1 = __webpack_require__(10);\r\nvar Lavender = __webpack_require__(0);\r\nvar ValidationError_1 = __webpack_require__(11);\r\n/**\r\n * Created by dsmiley on 10/10/17.\r\n */\r\nvar TextInputValidator = (function (_super) {\r\n    __extends(TextInputValidator, _super);\r\n    function TextInputValidator() {\r\n        return _super.call(this) || this;\r\n    }\r\n    TextInputValidator.prototype.setUpBindings = function () {\r\n        for (var i = 0; i < this.source.collection.length; i++) {\r\n            //ensure changes in the value trigger validation\r\n            this.binder.bind(this.source.collection.getItemAt(i), 'value', this, 'validateOnChange');\r\n        }\r\n    };\r\n    //iterate over model objects and ensure all required objects have some text\r\n    TextInputValidator.prototype.getValidationErrors = function () {\r\n        var returnList = new Lavender.ArrayList();\r\n        for (var i = 0; i < this.source.collection.length; i++) {\r\n            var item = this.source.collection.getItemAt(i);\r\n            if (item.required && (!item.nonFormattedValue || item.nonFormattedValue.length <= 0)) {\r\n                returnList.addItem(new ValidationError_1.ValidationError('required', 'form.required', item.label + ' is required'));\r\n            }\r\n        }\r\n        return returnList; //returns ArrayList of SpiSdk.ValidationError instances\r\n    };\r\n    return TextInputValidator;\r\n}(AbstractValidator_1.AbstractValidator));\r\nexports.TextInputValidator = TextInputValidator;\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ComponentEvent_1 = __webpack_require__(4);\r\n/**\r\n * Created by dsmiley on 7/26/17.\r\n */\r\nvar Button = (function (_super) {\r\n    __extends(Button, _super);\r\n    function Button() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(Button.prototype, \"buttonSkinPart\", {\r\n        get: function () {\r\n            return this._buttonSkinPart;\r\n        },\r\n        set: function (value) {\r\n            this._buttonSkinPart = value;\r\n            this.notify(value, 'buttonSkinPart');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Button.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        set: function (value) {\r\n            this._type = value;\r\n            this.notify(value, 'type');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Button.prototype.onClick = function (event) {\r\n        console.log('Lotus.Button.prototype.onClick: event is ' + event);\r\n        console.log('Lotus.Button.prototype.onClick: my id is ' + this.id);\r\n        console.log('Lotus.Button.prototype.onClick: this ' + this);\r\n        this.dispatch(new ComponentEvent_1.ComponentEvent(ComponentEvent_1.ComponentEvent.CLICK, { target: this.buttonSkinPart, originalEvent: event }));\r\n    };\r\n    Button.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('button', this, 'buttonSkinPart'));\r\n    };\r\n    Button.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'button':\r\n                //add button event listener or whatever else yo want to do when this skin part is added\r\n                //you could hold until all skin parts are added and then call addEventListeners\r\n                console.log('Lotus.Button.prototype.onSkinPartAdded: part: ' + part);\r\n                console.log('Lotus.Button.prototype.onSkinPartAdded: skinPart: ' + part);\r\n                this.addEventListeners();\r\n                break;\r\n        }\r\n    };\r\n    Button.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.buttonSkinPart.addEventListener('click', this.onClick.bind(this));\r\n    };\r\n    Button.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        this.buttonSkinPart.removeEventListener('click', this.onClick);\r\n    };\r\n    Button.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.buttonSkinPart = null;\r\n    };\r\n    return Button;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.Button = Button;\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/27/17.\r\n */\r\nvar FileCollectionView_1 = __webpack_require__(18);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar DragDropFileCollectionView = (function (_super) {\r\n    __extends(DragDropFileCollectionView, _super);\r\n    function DragDropFileCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(DragDropFileCollectionView.prototype, \"dragOverClass\", {\r\n        get: function () {\r\n            return this._dragOverClass;\r\n        },\r\n        set: function (value) {\r\n            this._dragOverClass = value;\r\n            this.notify(value, 'dragOverClass');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DragDropFileCollectionView.prototype, \"dropTarget\", {\r\n        get: function () {\r\n            return this._dropTarget;\r\n        },\r\n        set: function (value) {\r\n            this._dropTarget = value;\r\n            this.notify(value, 'dropTarget');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DragDropFileCollectionView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('dropTarget', this, 'dropTarget'));\r\n    };\r\n    DragDropFileCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'dropTarget':\r\n                this.dropTarget.addEventListener(\"drop\", this.onDrop.bind(this), false);\r\n                window.addEventListener(\"drop\", this.onPreventDrop.bind(this), false);\r\n                window.addEventListener(\"dragover\", this.onPreventDrop.bind(this), false);\r\n                this.dropTarget.addEventListener(\"dragover\", this.onDragOver.bind(this), false);\r\n                this.dropTarget.addEventListener(\"dragenter\", this.onDragOver.bind(this), false);\r\n                this.dropTarget.addEventListener(\"dragleave\", this.onDragLeave.bind(this), false);\r\n                break;\r\n        }\r\n    };\r\n    DragDropFileCollectionView.prototype.onPreventDrop = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n    };\r\n    DragDropFileCollectionView.prototype.onDrop = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.dragOverClass !== null && this.dragOverClass !== undefined) {\r\n            this.dropTarget.classList.remove(this.dragOverClass);\r\n        }\r\n        var files = (event.dataTransfer !== null && event.dataTransfer !== undefined) ? event.dataTransfer.files : event['originalEvent'].dataTransfer.files;\r\n        //note: files.hasOwnProperty('length') does not work\r\n        if (files === null || files === undefined || !files.length) {\r\n            return;\r\n        }\r\n        else {\r\n            this.uploadFiles(files);\r\n        }\r\n    };\r\n    DragDropFileCollectionView.prototype.onDragOver = function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.dragOverClass !== null && this.dragOverClass !== undefined) {\r\n            this.dropTarget.classList.add(this.dragOverClass);\r\n        }\r\n        if (event.dataTransfer !== null && event.dataTransfer !== undefined && event.dataTransfer.files !== null && event.dataTransfer.files !== undefined) {\r\n            event.dataTransfer.dropEffect = 'copy';\r\n        }\r\n        else if (event['originalEvent'].dataTransfer.files !== null && event['originalEvent'].dataTransfer.files !== undefined) {\r\n            event['originalEvent'].dataTransfer.dropEffect = 'copy';\r\n        }\r\n    };\r\n    DragDropFileCollectionView.prototype.onDragLeave = function (event) {\r\n        if (this.dragOverClass !== null && this.dragOverClass !== undefined) {\r\n            this.dropTarget.classList.remove(this.dragOverClass);\r\n        }\r\n    };\r\n    DragDropFileCollectionView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.dropTarget) {\r\n            this.dropTarget.removeEventListener(\"drop\", this.onDrop);\r\n            this.dropTarget.removeEventListener(\"dragover\", this.onDragOver);\r\n            this.dropTarget.removeEventListener(\"dragenter\", this.onDragOver);\r\n            this.dropTarget.removeEventListener(\"dragleave\", this.onDragLeave);\r\n            window.removeEventListener(\"drop\", this.onPreventDrop, false);\r\n            window.removeEventListener(\"dragover\", this.onPreventDrop, false);\r\n            this.dropTarget = null;\r\n        }\r\n        this.onDrop = null;\r\n        this.onDragOver = null;\r\n        this.dropTarget = null;\r\n    };\r\n    return DragDropFileCollectionView;\r\n}(FileCollectionView_1.FileCollectionView));\r\nexports.DragDropFileCollectionView = DragDropFileCollectionView;\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/28/17.\r\n */\r\nvar AbstractThumbnailView_1 = __webpack_require__(14);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar Image = (function (_super) {\r\n    __extends(Image, _super);\r\n    function Image() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(Image.prototype, \"loadingSVG\", {\r\n        get: function () {\r\n            return this._loadingSVG;\r\n        },\r\n        set: function (value) {\r\n            this._loadingSVG = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Image.prototype.getImageURL = function (model) {\r\n        if (model) {\r\n            return model['src'];\r\n        }\r\n        if (!this.model) {\r\n            return '';\r\n        }\r\n        return this.model['src'];\r\n    };\r\n    Image.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('loadingSVG', this, 'loadingSVG'));\r\n    };\r\n    Image.prototype.onImageLoad = function (event) {\r\n        _super.prototype.onImageLoad.call(this, event);\r\n        this.setElementDisplay(this.loadingSVG, 'none');\r\n    };\r\n    Image.prototype.setThumbnailSrc = function (src) {\r\n        _super.prototype.setThumbnailSrc.call(this, src);\r\n        this.setElementDisplay(this.loadingSVG, this._loadingSVGStyle);\r\n    };\r\n    Image.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'loadingSVG':\r\n                this._loadingSVGStyle = this.loadingSVG.style.display;\r\n                break;\r\n        }\r\n    };\r\n    Image.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.loadingSVG = null;\r\n    };\r\n    return Image;\r\n}(AbstractThumbnailView_1.AbstractThumbnailView));\r\nexports.Image = Image;\r\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/24/17.\r\n */\r\nvar AbstractRecordSetCollectionView_1 = __webpack_require__(17);\r\nvar ImageGalleryCollectionView = (function (_super) {\r\n    __extends(ImageGalleryCollectionView, _super);\r\n    function ImageGalleryCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return ImageGalleryCollectionView;\r\n}(AbstractRecordSetCollectionView_1.AbstractRecordSetCollectionView));\r\nexports.ImageGalleryCollectionView = ImageGalleryCollectionView;\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar AbstractComponent_1 = __webpack_require__(2);\r\nvar ImageGalleryItemDetail = (function (_super) {\r\n    __extends(ImageGalleryItemDetail, _super);\r\n    function ImageGalleryItemDetail() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"asset\", {\r\n        get: function () {\r\n            return this._asset;\r\n        },\r\n        set: function (value) {\r\n            this._asset = value;\r\n            this.notify(value, 'asset');\r\n            this.render();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"nameLabel\", {\r\n        get: function () {\r\n            return this._nameLabel;\r\n        },\r\n        set: function (value) {\r\n            this._nameLabel = value;\r\n            this.notify(value, 'nameLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"dateCreatedLabel\", {\r\n        get: function () {\r\n            return this._dateCreatedLabel;\r\n        },\r\n        set: function (value) {\r\n            this._dateCreatedLabel = value;\r\n            this.notify(value, 'dateCreatedLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ImageGalleryItemDetail.prototype, \"urlLabel\", {\r\n        get: function () {\r\n            return this._urlLabel;\r\n        },\r\n        set: function (value) {\r\n            this._urlLabel = value;\r\n            this.notify(value, 'urlLabel');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ImageGalleryItemDetail.prototype.render = function () {\r\n        if (this.asset && this.ready) {\r\n            if (this.nameLabel) {\r\n                this.nameLabel.innerHTML = this.asset.objectName;\r\n            }\r\n            if (this.dateCreatedLabel) {\r\n                this.dateCreatedLabel.innerHTML = this.asset.createdDate.toDateString();\r\n            }\r\n            if (this.urlLabel) {\r\n                this.urlLabel.innerHTML = this.asset.url;\r\n            }\r\n        }\r\n    };\r\n    ImageGalleryItemDetail.prototype.defineSkinParts = function () {\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('nameLabel', this, 'nameLabel'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('dateCreatedLabel', this, 'dateCreatedLabel'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('urlLabel', this, 'urlLabel'));\r\n    };\r\n    ImageGalleryItemDetail.prototype.created = function (element) {\r\n        _super.prototype.created.call(this, element);\r\n    };\r\n    ImageGalleryItemDetail.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.asset = null;\r\n        this.nameLabel = null;\r\n        this.dateCreatedLabel = null;\r\n        this.urlLabel = null;\r\n    };\r\n    return ImageGalleryItemDetail;\r\n}(AbstractComponent_1.AbstractComponent));\r\nexports.ImageGalleryItemDetail = ImageGalleryItemDetail;\r\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 8/24/17.\r\n */\r\nvar AbstractThumbnailView_1 = __webpack_require__(14);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ComponentEvent_1 = __webpack_require__(4);\r\nvar ImageGalleryView = (function (_super) {\r\n    __extends(ImageGalleryView, _super);\r\n    function ImageGalleryView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(ImageGalleryView.prototype, \"itemDetail\", {\r\n        get: function () {\r\n            return this._itemDetail;\r\n        },\r\n        set: function (value) {\r\n            this._itemDetail = value;\r\n            this.notify(value, 'itemDetail');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ImageGalleryView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('itemDetail', this, 'itemDetail'));\r\n    };\r\n    ImageGalleryView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //optional container for displaying collection elements\r\n            case 'itemDetail':\r\n                if (this.model) {\r\n                    //this is an example of working with nested components which are skin parts and require a reference to and item view model\r\n                    //nested components in your skins (template files) work natively, but if you have a skin part that requires a model reference you have to wait until ComponentEvent.READY is dispatched\r\n                    this.itemDetail.lotusComponentInstance.asset = this.model;\r\n                    this.itemDetail.lotusComponentInstance.addEventListener(ComponentEvent_1.ComponentEvent.READY, this, 'onItemDetailReady');\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onItemDetailReady = function (event) {\r\n        if (this.model) {\r\n            this.itemDetail.lotusComponentInstance.asset = this.model;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onModelChange = function (value) {\r\n        _super.prototype.onModelChange.call(this, value);\r\n        if (this.itemDetail) {\r\n            this.itemDetail.lotusComponentInstance.asset = value;\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.onDragStart = function (event) {\r\n        if (event['dataTransfer'] !== null && event['dataTransfer'] !== undefined) {\r\n            event['dataTransfer'].effectAllowed = 'all';\r\n            try {\r\n                event['dataTransfer'].setData('galleryImage', this.model['source']);\r\n            }\r\n            catch (e) {\r\n                event['dataTransfer'].setData('text', this.model['source']); //IE only allows two possible key values, text is the nest options\r\n            }\r\n        }\r\n        else {\r\n            event['originalEvent'].dataTransfer.effectAllowed = 'all';\r\n            try {\r\n                event['originalEvent'].dataTransfer.setData('galleryImage', this.model['source']);\r\n            }\r\n            catch (e) {\r\n                event['originalEvent'].dataTransfer.setData('text', this.model['source']); //IE only allows two possible key values, text is the nest options\r\n            }\r\n        }\r\n    };\r\n    ImageGalleryView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        if (this.itemDetail) {\r\n            this.itemDetail.lotusComponentInstance.removeEventListener(ComponentEvent_1.ComponentEvent.READY, this, 'onItemDetailReady');\r\n        }\r\n        this.itemDetail = null;\r\n    };\r\n    return ImageGalleryView;\r\n}(AbstractThumbnailView_1.AbstractThumbnailView));\r\nexports.ImageGalleryView = ImageGalleryView;\r\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/21/17.\r\n */\r\nvar AbstractItemView_1 = __webpack_require__(3);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar InputEvent_1 = __webpack_require__(8);\r\nvar InputModel_1 = __webpack_require__(9);\r\nvar Input = (function (_super) {\r\n    __extends(Input, _super);\r\n    function Input(type) {\r\n        var _this = _super.call(this) || this;\r\n        _this.type = type;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Input.prototype, \"inputSkinPart\", {\r\n        get: function () {\r\n            return this._inputSkinPart;\r\n        },\r\n        set: function (value) {\r\n            this._inputSkinPart = value;\r\n            this.notify(value, 'inputSkinPart');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Input.prototype, \"type\", {\r\n        get: function () {\r\n            return this._type;\r\n        },\r\n        set: function (value) {\r\n            this._type = value;\r\n            this.notify(value, 'type');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Input.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        set: function (value) {\r\n            this._value = value;\r\n            //manually this.inputSkinPart.value if there are no two way bindings\r\n            if (this.inputSkinPart && (!this.model || !(this.model instanceof InputModel_1.InputModel))) {\r\n                this.inputSkinPart.value = value;\r\n            }\r\n            this.notify(value, 'value');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    //add the invalid/valid class after validation. This method id typically called as part of a data binding on this.isValid\r\n    Input.prototype.attachValidationClass = function (classToAdd, classToRemove) {\r\n        if (this.inputSkinPart) {\r\n            this.inputSkinPart.classList.remove(classToRemove);\r\n            this.inputSkinPart.classList.add(classToAdd);\r\n        }\r\n    };\r\n    //TODO: add invalid classes and bindings to trigger attachment of invlaid styles when model's isValid state changes\r\n    Input.prototype.onModelChange = function (value) {\r\n        _super.prototype.onModelChange.call(this, value);\r\n        if (value instanceof InputModel_1.InputModel) {\r\n            //set initial value\r\n            this.value = value.value;\r\n            //set up two way bindings on model\r\n            this.binder.bind(value, 'value', this, 'value');\r\n            this.binder.bind(this, 'value', value, 'value');\r\n            //set up one way binding for text input\r\n            if (this.inputSkinPart) {\r\n                this.inputSkinPart.value = value.value;\r\n                this.binder.bind(this, 'value', this.inputSkinPart, 'value');\r\n            }\r\n        }\r\n    };\r\n    Input.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('input', this, 'inputSkinPart'));\r\n    };\r\n    Input.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'input':\r\n                //add event listener or whatever else yo want to do when this skin part is added\r\n                //you could hold until all skin parts are added and then call addEventListeners\r\n                console.log('Lotus.Input.prototype.onSkinPartAdded: part: ' + part);\r\n                this.inputSkinPart.setAttribute('type', this.type);\r\n                this.addEventListeners();\r\n                break;\r\n        }\r\n    };\r\n    Input.prototype.onChange = function (event) {\r\n        console.log('Lotus.Input.prototype.onChange: input value is ' + event.target.value);\r\n        console.log('Lotus.Input.prototype.onChange: my id is ' + this.id);\r\n        this.value = this.inputSkinPart.value;\r\n        this.dispatch(new InputEvent_1.InputEvent(InputEvent_1.InputEvent.CHANGE, { target: this.inputSkinPart, originalEvent: event }));\r\n    };\r\n    Input.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.inputSkinPart.addEventListener('change', this.onChange.bind(this));\r\n    };\r\n    Input.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        this.inputSkinPart.removeEventListener('change', this.onChange);\r\n    };\r\n    Input.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.inputSkinPart = null;\r\n    };\r\n    return Input;\r\n}(AbstractItemView_1.AbstractItemView));\r\nexports.Input = Input;\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/22/17.\r\n */\r\nvar AbstractInputCollectionView_1 = __webpack_require__(12);\r\nvar ListCollectionView = (function (_super) {\r\n    __extends(ListCollectionView, _super);\r\n    function ListCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    ListCollectionView.prototype.onChange = function (event) {\r\n        //get the associated item view for the selected list item\r\n        var itemView = this.childViews.getItemAt(event.target.selectedIndex);\r\n        //html option elements appear to not dispatch,orat leastnot bubblethe click event on list items\r\n        //so we force it here\r\n        itemView.onClick();\r\n    };\r\n    ListCollectionView.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.collectionContainer.addEventListener('change', this.onChange.bind(this));\r\n    };\r\n    ListCollectionView.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        this.collectionContainer.removeEventListener('change', this.onChange);\r\n    };\r\n    ListCollectionView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            //required, defines the layout for child views\r\n            case 'collectionContainer':\r\n                this.addEventListeners();\r\n                break;\r\n        }\r\n    };\r\n    ListCollectionView.prototype.refreshView = function (value) {\r\n        if (this.collectionContainer) {\r\n            this.collectionContainer.value = value;\r\n        }\r\n        if (this.selectedItem && !this.selectedItem.element['selected']) {\r\n            this.selectedItem.element['selected'] = true;\r\n        }\r\n    };\r\n    ListCollectionView.prototype.destroy = function () {\r\n        this.removeEventListeners();\r\n        _super.prototype.destroy.call(this);\r\n    };\r\n    return ListCollectionView;\r\n}(AbstractInputCollectionView_1.AbstractInputCollectionView));\r\nexports.ListCollectionView = ListCollectionView;\r\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/22/17.\r\n */\r\nvar AbstractSelectableFormInput_1 = __webpack_require__(13);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar ListItemView = (function (_super) {\r\n    __extends(ListItemView, _super);\r\n    function ListItemView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(ListItemView.prototype, \"option\", {\r\n        get: function () {\r\n            return this._option;\r\n        },\r\n        set: function (value) {\r\n            this._option = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ListItemView.prototype.refreshView = function (selected) {\r\n        if (this.option) {\r\n            this.option.selected = selected;\r\n        }\r\n    };\r\n    ListItemView.prototype.onClick = function (event) {\r\n        this.selected = true;\r\n    };\r\n    ListItemView.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.option.addEventListener('click', this.onClick.bind(this));\r\n    };\r\n    ListItemView.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        if (this.option) {\r\n            this.option.removeEventListener('click', this.onClick);\r\n        }\r\n    };\r\n    ListItemView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\r\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('itemTemplate', this, 'option'));\r\n    };\r\n    ListItemView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'itemTemplate':\r\n                //set up listitem value and label\r\n                this.option.value = (typeof this.model.value == 'object') ? JSON.stringify(this.model.value) : this.model.value;\r\n                this.option.innerHTML = this.model.label;\r\n                this.option.selected = this.selected;\r\n                if (this.selected) {\r\n                    this.onClick();\r\n                }\r\n                break;\r\n        }\r\n    };\r\n    ListItemView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.option = null;\r\n    };\r\n    return ListItemView;\r\n}(AbstractSelectableFormInput_1.AbstractSelectableFormInput));\r\nexports.ListItemView = ListItemView;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/22/17.\r\n */\r\nvar AbstractInputCollectionView_1 = __webpack_require__(12);\r\nvar RadioCollectionView = (function (_super) {\r\n    __extends(RadioCollectionView, _super);\r\n    function RadioCollectionView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    RadioCollectionView.prototype.refreshView = function (value) {\r\n        if (this.selectedItem) {\r\n            this.selectedItem.element['checked'] = true;\r\n        }\r\n    };\r\n    return RadioCollectionView;\r\n}(AbstractInputCollectionView_1.AbstractInputCollectionView));\r\nexports.RadioCollectionView = RadioCollectionView;\r\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Created by dsmiley on 9/22/17.\r\n */\r\nvar AbstractSelectableFormInput_1 = __webpack_require__(13);\r\nvar SkinPart_1 = __webpack_require__(1);\r\nvar RadioItemView = (function (_super) {\r\n    __extends(RadioItemView, _super);\r\n    function RadioItemView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    Object.defineProperty(RadioItemView.prototype, \"radio\", {\r\n        get: function () {\r\n            return this._radio;\r\n        },\r\n        set: function (value) {\r\n            this._radio = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadioItemView.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label;\r\n        },\r\n        set: function (value) {\r\n            this._label = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RadioItemView.prototype.onClick = function (event) {\r\n        this.selected = this.radio.checked;\r\n    };\r\n    RadioItemView.prototype.refreshView = function (selected) {\r\n        if (this.radio) {\r\n            this.radio.checked = selected;\r\n        }\r\n    };\r\n    RadioItemView.prototype.addEventListeners = function () {\r\n        _super.prototype.addEventListeners.call(this);\r\n        this.radio.addEventListener('click', this.onClick.bind(this));\r\n    };\r\n    RadioItemView.prototype.removeEventListeners = function () {\r\n        _super.prototype.removeEventListeners.call(this);\r\n        if (this.radio) {\r\n            this.radio.removeEventListener('click', this.onClick);\r\n        }\r\n    };\r\n    RadioItemView.prototype.defineSkinParts = function () {\r\n        _super.prototype.defineSkinParts.call(this);\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('radio', this, 'radio'));\r\n        this.skinParts.addItem(new SkinPart_1.SkinPart('label', this, 'label'));\r\n    };\r\n    RadioItemView.prototype.onSkinPartAdded = function (part, element) {\r\n        _super.prototype.onSkinPartAdded.call(this, part, element);\r\n        switch (part) {\r\n            case 'radio':\r\n                //set up listitem value and label\r\n                this.radio.value = (typeof this.model.value == 'object') ? JSON.stringify(this.model.value) : this.model.value;\r\n                this.radio.name = this.model.name;\r\n                this.radio.checked = this.selected;\r\n                this.addEventListeners();\r\n                break;\r\n            case 'label':\r\n                this.label.innerHTML = this.model.label;\r\n                break;\r\n        }\r\n    };\r\n    RadioItemView.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.removeEventListeners();\r\n        this.radio = null;\r\n        this.label = null;\r\n    };\r\n    return RadioItemView;\r\n}(AbstractSelectableFormInput_1.AbstractSelectableFormInput));\r\nexports.RadioItemView = RadioItemView;\r\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(__webpack_require__(21));\r\n__export(__webpack_require__(15));\r\n__export(__webpack_require__(16));\r\n__export(__webpack_require__(22));\r\n__export(__webpack_require__(4));\r\n__export(__webpack_require__(8));\r\n__export(__webpack_require__(5));\r\n__export(__webpack_require__(7));\r\n__export(__webpack_require__(1));\r\n__export(__webpack_require__(20));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(2));\r\n__export(__webpack_require__(3));\r\n__export(__webpack_require__(6));\r\n__export(__webpack_require__(17));\r\n__export(__webpack_require__(14));\r\n__export(__webpack_require__(13));\r\n__export(__webpack_require__(12));\r\n__export(__webpack_require__(32));\r\n__export(__webpack_require__(26));\r\n__export(__webpack_require__(34));\r\n__export(__webpack_require__(36));\r\n__export(__webpack_require__(29));\r\n__export(__webpack_require__(30));\r\n__export(__webpack_require__(31));\r\n__export(__webpack_require__(33));\r\n__export(__webpack_require__(35));\r\n__export(__webpack_require__(19));\r\n__export(__webpack_require__(18));\r\n__export(__webpack_require__(27));\r\n__export(__webpack_require__(28));\r\n__export(__webpack_require__(9));\r\n__export(__webpack_require__(23));\r\n__export(__webpack_require__(10));\r\n__export(__webpack_require__(11));\r\n__export(__webpack_require__(25));\r\n__export(__webpack_require__(24));\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// lotusJS-UMD.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 37);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f016f1a4aa8b09969a89","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Lavender\"\n// module id = 0\n// module chunks = 0 1","/**\n * Created by dsmiley on 8/1/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractComponent} from \"./AbstractComponent\";\n\nexport class SkinPart extends Lavender.Subject{\n\n    private _label:string;\n    private _attribute:string;\n    private _instance:AbstractComponent;\n\n    constructor(label:string, instance:AbstractComponent, attribute:string){\n        super();\n        this._label = label;\n        this._instance = instance;\n        this._attribute = attribute;\n    }\n\n    get label():string{\n        return this._label;\n    }\n\n    get element():HTMLElement{\n        return this._instance[this._attribute] as HTMLElement;\n    }\n    set element(val:HTMLElement){\n        this._instance[this._attribute] = val;\n        this.notify( val, 'element' );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/SkinPart.ts","import {IComponent} from \"./IComponent\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IContext} from \"../context/IContext\";\nimport {SkinPartList} from \"./SkinPartList\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport abstract class AbstractComponent extends Lavender.Subject implements IComponent{\n    private _element:LotusHTMLElement;\n    private _context:IContext;\n    private _ready:boolean = false;\n    private _id:number = Math.random();\n    private _skinParts:SkinPartList = new SkinPartList();\n    private _isValid:boolean = false;\n\n    //IMPORTANT: you have to initialize instance attributes that are not defined using accessor methods or they will dropped by the compiler.\n    public validClass:string = null;\n    public invalidClass:string = null;\n\n    //placeholders for mixins, required for the compiler\n    handlersByEventName:Object;\n    addEventListener: (  event:string, instance:Object, handler:string ) => void;\n    canListen: (  eventType:string, instance:Object, handler:string )  => boolean;\n    removeEventListener: ( event:string, instance:Object, handler:string )  => void;\n    removeAllEventListeners: ( instance:Object )  =>  void;\n    dispatch: ( event:Lavender.IEvent )  =>  void;\n\n    constructor(){\n        super();\n        Lavender.ObjectUtils.mixin(Lavender.EventDispatcher, AbstractComponent, this);\n    }\n\n    get element():LotusHTMLElement {\n        return this._element;\n    }\n\n    set element(val:LotusHTMLElement) {\n        this._element = val;\n        if( this._element !== null && this._element !== undefined ){\n            this._element.getComponentInstance = this.getComponentInstance.bind(this);\n        }\n        this.notify( val, 'element' );\n    }\n\n    get context():IContext {\n        return this._context;\n    }\n\n    set context(val:IContext) {\n        this._context = val;\n        this.notify( val, 'context' );\n    }\n\n    get ready():boolean {\n        return this._ready;\n    }\n\n    set ready(val:boolean) {\n        this._ready = val;\n        this.notify( val, 'ready' );\n    }\n\n    get id():number {\n        return this._id;\n    }\n\n    set id(val:number) {\n        this._id = val;\n        this.notify( val, 'id' );\n    }\n\n    get skinParts():SkinPartList {\n        return this._skinParts;\n    }\n\n    set skinParts(val:SkinPartList) {\n        this._skinParts = val;\n        this.notify( val, 'skinParts' );\n    }\n\n    get isValid():boolean {\n        return this._isValid;\n    }\n\n    set isValid(value:boolean) {\n        this._isValid = value;\n        this.notify(value, 'isValid');\n        if(this.isValid && this.validClass){\n            this.attachValidationClass(this.validClass, this.invalidClass);\n        }else if(!this.isValid && this.invalidClass){\n            this.attachValidationClass(this.invalidClass, this.validClass);\n        }\n    }\n\n    //stub for override\n    public attachValidationClass(classToAdd:string, classToRemove:string):void{\n\n    }\n\n    public init():void{\n        this.addAttributes();\n        this.defineSkinParts();\n        this.addSkinParts();\n    }\n\n    public addAttributes():void{\n        for( let i=0; i < this.element.attributes.length; i++ ){\n            let attribute = this.element.attributes[i];\n            if( attribute.name.indexOf('attribute') >= 0 ){\n                let index = attribute.name.indexOf('attribute') + 10;\n                let newProp = attribute.name.substring(index);//remove prefix\n                //convert dashes to camel case\n                //LEGACY: using the data- prefix should trigger camel case on dash automagically\n                let camelCased = newProp.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n                let properties:Array<string> = this.getAllPropertyNames(this);\n                if( properties.indexOf(camelCased) >= 0 ){\n                    this[camelCased] = attribute.value;\n                }\n            }\n        }\n    }\n\n    public getAllPropertyNames(obj:Object, iterateSelfBool:boolean=true, iteratePrototypeBool:boolean=true):Array<string>{\n        let props:Array<string> = [];\n\n        do {\n            if (iterateSelfBool) {\n                Object.getOwnPropertyNames(obj).forEach(function(prop) {\n                    if (props.indexOf(prop) === -1) {\n                        props.push(prop);\n                    }\n                });\n            }\n            if (!iteratePrototypeBool) {\n                break;\n            }\n            iterateSelfBool = true;\n        } while (obj = Object.getPrototypeOf(obj));\n\n        return props;\n    }\n\n    public addSkinParts():void{\n        if( this.element.getAttribute('data-skin-part') !== null && this.element.getAttribute('data-skin-part') !== undefined ){\n            this.addSkinPart(this.element.getAttribute('data-skin-part'), this.element);\n        }\n        let skinPartsNodeList = this.element.querySelectorAll('[data-skin-part]');\n        for (let i = 0; i < skinPartsNodeList.length; i++) {\n            // iterate over matches\n            //call addSkinPart on the component passing skin part attribute value and the element\n            this.addSkinPart(skinPartsNodeList[i].getAttribute('data-skin-part'), skinPartsNodeList[i]);\n        }\n    }\n\n    public addSkinPart(part:string, element:Element):void{\n        //skip undefined skin parts\n        if( this.skinParts.skinPartsByLabel[part] === null || this.skinParts.skinPartsByLabel[part] === undefined ){\n            return null;\n        }\n        //assign the skin part\n        this.skinParts.skinPartsByLabel[part].element = element;\n        //notify\n        this.onSkinPartAdded(part, this.skinParts.skinPartsByLabel[part].element);\n    }\n\n    public onReady():void{\n        this.ready = true;\n        this.dispatch(new ComponentEvent(ComponentEvent.READY, {target:this}));\n    }\n\n    public getComponentInstance():IComponent{\n        return this;\n    }\n\n    public created(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.created called');\n        this.element = element;\n        this.init();\n        this.onReady();\n    }\n\n    public destroy():void{\n        this.removeEventListeners();\n        this.binder.unbindAll();\n        this.binder = null;\n        this.element = null;\n        this.id = null;\n    }\n\n    //stub methods below\n\n    public defineSkinParts():void{\n\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n\n    }\n\n    public inserted(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.inserted called');\n    }\n\n    public removed(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.removed called');\n    }\n    \n    public attributeChanged(element:LotusHTMLElement):void{\n        console.log('AbstractComponent.attributeChanged called');\n    }\n\n    public addEventListeners():void{\n\n    }\n\n    public removeEventListeners():void{\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractComponent.ts","import {AbstractComponent} from \"./AbstractComponent\";\n/**\n * Created by dsmiley on 8/4/17.\n */\nexport abstract class AbstractItemView extends AbstractComponent{\n\n    private _model:Object;\n\n    constructor(){\n        super();\n    }\n\n    get model():Object {\n        return this._model;\n    }\n\n    set model(val:Object) {\n        this._model = val;\n        this.onModelChange(val);\n        this.notify(val, 'model');\n    }\n\n    public setElementDisplay(element:HTMLElement, display:string):void{\n        //at some points in the items lifecycle element could be null, se we require this check\n        if( element !== null && element !== undefined ){\n            element.style.display = display;\n        }\n    }\n\n    //stub for override\n    public onModelChange(value:Object):void{\n\n    }\n\n    //stub for override\n    public resetState():void{\n\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.model = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractItemView.ts","/**\n * Created by dsmiley on 7/31/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ComponentEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n    }\n\n    public static READY:string = 'lotusComponentReady';\n    public static CLICK:string = 'click';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ComponentEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ComponentEvent.ts","/**\n * Created by dsmiley on 7/31/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ItemViewEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n\n        if( type == ItemViewEvent.ITEM_SELECTED && ( !payload.hasOwnProperty('item') || payload['item'] === null || payload['item'] === undefined ) ){\n            throw  new Error('Lotus.ItemViewEvent payload.item is required');\n        }\n    }\n\n    public static ITEM_SELECTED = 'itemViewItemSelected';\n    public static ITEM_DESELECTED = 'itemViewItemDeselected';\n    public static REMOVE_ITEM = 'itemViewRemoveItem';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new ItemViewEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/ItemViewEvent.ts","/**\n * Created by dsmiley on 8/4/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractComponent} from \"./AbstractComponent\";\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport {InputModel} from \"../model/form/InputModel\";\n\nexport class AbstractCollectionView extends AbstractComponent{\n    private _collectionContainer:HTMLElement;\n    private _itemTemplate:HTMLElement;\n    private _selectedItem:AbstractItemView;\n    private _collection:Lavender.IList;\n    private _itemView:string;//IMPORTANT: this value must be defined on the tag\n    private _childViews:Lavender.ArrayList = new Lavender.ArrayList();\n\n    constructor(){\n        super();\n    }\n\n    get collectionContainer() {\n        return this._collectionContainer;\n    }\n\n    set collectionContainer(value) {\n        this._collectionContainer = value;\n        this.notify(value, 'collectionContainer');\n    }\n\n    get itemTemplate() {\n        return this._itemTemplate;\n    }\n\n    set itemTemplate(value) {\n        this._itemTemplate = value;\n        this.notify(value, 'itemTemplate');\n    }\n\n    get selectedItem() {\n        return this._selectedItem;\n    }\n\n    set selectedItem(value) {\n        this._selectedItem = value;\n        this.notify(value, 'selectedItem');\n    }\n\n    get collection():Lavender.IList {\n        return this._collection;\n    }\n\n    set collection(value) {\n        this.removeCollectionEventListeners();//must occur first\n        this._collection = value;\n        if(value){\n            this.addCollectionEventListeners();\n        }//must occur after line above\n        this.notify(value, 'collection');\n        //render the view as long as there are items in the collection\n        if(value && this.ready){\n            this.render();\n        }\n    }\n\n    get childViews():Lavender.ArrayList {\n        return this._childViews;\n    }\n\n    get itemView():string {\n        return this._itemView;\n    }\n\n    set itemView(value:string) {\n        this._itemView = value;\n        this.notify(value, 'itemView');\n    }\n\n    protected destroyChildViews():void{\n        for( let i=0; i < this.childViews.length; i++){\n            this.removeChildView( this.childViews.getItemAt(i) );\n        }\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            while (this.collectionContainer.firstChild) {\n                this.collectionContainer.removeChild(this.collectionContainer.firstChild);\n            }\n        }else{\n            //remove child nodes\n            while (this.element.firstChild) {\n                this.element.removeChild(this.element.firstChild);\n            }\n        }\n        this._childViews = null;\n    }\n\n    protected addCollectionEventListeners():void{\n        if( this.collection !== null && this.collection !== undefined ){\n            this.collection.addEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\n        }\n    }\n\n    protected removeCollectionEventListeners():void{\n        if( this.collection !== null && this.collection !== undefined ){\n            this.collection.removeEventListener(Lavender.CollectionEvent.COLLECTION_CHANGE, this, 'onCollectionChange');\n        }\n    }\n\n    protected onCollectionChange(event:Lavender.CollectionEvent):void{\n        switch(event.payload['type']){\n            case 'add':\n                this.addChildView(event.payload['item']);\n                break;\n            case 'remove':\n                this.removeChildViewFromModel(event.payload['item']);\n                break;\n            case 'removeAll':\n                this.removeAllChildViews();\n                break;\n        }\n    }\n\n    protected createChildView(model:Object):AbstractItemView{\n        let evalClass = eval(this.itemView);\n        return new evalClass();\n    }\n\n    protected cloneItemTemplate(model:Object):LotusHTMLElement{\n        return this.itemTemplate.cloneNode(true) as LotusHTMLElement;\n    }\n\n    //override point for objects that require manipulation of the model\n    protected getModel(model:Object):Object{\n        return model;\n    }\n\n    //override point for objects that require bindings on the model and view. the model param is not always equal to view.model as views sometimes require adapters\n    protected setUpViewBindings(model:Object, view:AbstractItemView):void{\n\n    }\n\n    protected addChildView(model:Object):void{\n        let view:AbstractItemView = this.createChildView( model );\n        //clone the view\n        let clone:LotusHTMLElement = this.cloneItemTemplate(model);\n        view.model = this.getModel(model);\n        view.element = clone;\n        view.init();\n        this.childViews.addItem( view );\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            this.collectionContainer.appendChild(view.element);\n        }else{\n            this.element.appendChild(view.element);\n        }\n        this.addViewEventListeners( view );\n        this.setUpViewBindings(model, view);\n        //set the selected item from the model\n        //this allows data models to drive the selected item when they are assigned, or a new item added\n        if(view.model['selected']){\n            this.onItemSelectedDeselect(new ItemViewEvent(ItemViewEvent.ITEM_SELECTED, {item:view}));\n        }\n    }\n\n    protected addViewEventListeners(view:AbstractItemView):void{\n        view.addEventListener(ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\n        view.addEventListener(ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\n        view.addEventListener(ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\n    }\n\n    protected removeViewEventListeners(view:AbstractItemView):void{\n        view.removeEventListener(ItemViewEvent.ITEM_SELECTED, this, 'onItemSelectedDeselect');\n        view.removeEventListener(ItemViewEvent.ITEM_DESELECTED, this, 'onItemSelectedDeselect');\n        view.removeEventListener(ItemViewEvent.REMOVE_ITEM, this, 'onItemRemove');\n    }\n\n    protected onItemSelectedDeselect(event:ItemViewEvent):void{\n        if( this.selectedItem !== null && this.selectedItem !== undefined && this.selectedItem != event.payload['item'] ){\n            this.selectedItem.resetState();\n        }\n        this.selectedItem = ( event.type == ItemViewEvent.ITEM_SELECTED ) ? event.payload['item'] : null;\n    }\n\n    protected onItemRemove(event:ItemViewEvent):void{\n        let index = this.collection.indexOf( event.payload['item'].model );\n        if( index >= 0 ){\n            this.collection.removeItemAt(index);\n        }\n    }\n\n    //IMPORTANT: this is a convience method for manual population only, do not bind it to a collection models collection change event as the add event is also fired\n    protected addAllChildViews(models:Lavender.IList):void{\n        for( let i=0; i < models.length; i++ ){\n            this.addChildView( models[i] );\n        }\n    }\n\n    protected removeAllChildViews():void{\n        if(!this.childViews){\n            return;\n        }\n        for( let i=this.childViews.length-1; i >= 0; i--){\n            this.removeChildView( this.childViews.getItemAt(i) );\n        }\n    }\n\n    protected removeChildView(view:AbstractItemView):void{\n        this.removeViewEventListeners( view );\n        this.removeElement( view.element );\n        view.destroy();\n        this.childViews.removeItemAt( this.childViews.indexOf(view) );\n    }\n\n    protected removeElement(element:HTMLElement):void{\n        if( this.collectionContainer !== null && this.collectionContainer !== undefined ){\n            this.collectionContainer.removeChild(element);\n        }else{\n            this.element.removeChild(element);\n        }\n    }\n\n    protected removeChildViewFromModel(model:Object):void{\n        //get the view associated with the model\n        for( let i=0; i < this.childViews.length; i++){\n            if( this.childViews.getItemAt(i).model == model ){\n                this.removeChildView( this.childViews.getItemAt(i) );\n                break;\n            }\n        }\n    }\n\n    protected initCollection():void{\n        //assign a default collection if it has not already been set\n        if( this.collection === null || this.collection === undefined ){\n            this.collection = this.getCollection();\n        }\n    }\n\n    protected refreshView(value:any):void{\n        //stub for override\n    }\n\n    public setSelectedItem(model:Object):void{\n        //since this can be used as a bindable end point make sure recursion does not occur\n        if(this.selectedItem && this.selectedItem.model == model){\n            return;\n        }\n        for( let i=0; i < this.childViews.length; i++){\n            if( this.childViews.getItemAt(i).model == model){\n                //set the selected item\n                this.onItemSelectedDeselect( new ItemViewEvent(ItemViewEvent.ITEM_SELECTED, {item:this.childViews.getItemAt(i)}) );\n                //refresh the view\n                if(this.selectedItem){\n                    this.refreshView(model['value']);\n                }\n                break;\n            }\n        }\n    }\n\n    public init():void{\n        super.init();\n        this.initCollection();\n        this.render();\n    }\n\n    public render():void{\n        if( this.itemView === null || this.itemView == undefined ){\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\n        }\n        this.removeAllChildViews();\n        for( let i=0; i < this.collection.length; i++ ){\n            this.addChildView( this.collection.getItemAt(i) );\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('collectionContainer', this, 'collectionContainer'));\n        this.skinParts.addItem(new SkinPart('itemTemplate', this, 'itemTemplate'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //required, defines the layout for child views\n            case 'itemTemplate':\n                element.parentNode.removeChild(element);//remove from the view\n                break;\n\n        }\n    }\n\n    public getCollection():Lavender.IList{\n        return new Lavender.ArrayList();\n    }\n\n    public destroy():void{\n        this.destroyChildViews();\n        super.destroy();\n        this.collection = null;\n        this.itemView = null;\n        this.collectionContainer = null;\n        this.itemTemplate = null;\n        this.selectedItem = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractCollectionView.ts","/**\n * Created by dsmiley on 9/26/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class FileEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n    }\n\n    public static REMOVE_FILE_FROM_COLLECTION:string = 'removeFileFromCollection';\n    public static ABORT_FILE_UPLOAD:string = 'abortFileUpload';\n    public static UPLOAD_FILE:string = 'uploadFile';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new FileEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/FileEvent.ts","/**\n * Created by dsmiley on 9/21/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class InputEvent extends Lavender.AbstractEvent{\n    constructor(type:string, payload?:Object){\n        super(type, payload);\n    }\n\n    public static CHANGE:string = 'change';\n\n    clone(type:string, payload:Object):Lavender.IEvent{\n        return new InputEvent(this.type, this.payload)\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/control/events/InputEvent.ts","/**\n * Created by dsmiley on 10/5/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class InputModel extends Lavender.Subject{\n\n    private _label:string;\n    private _value:string;\n    private _name:string;\n    private _selected:boolean = false;\n    private _required:boolean = false;\n    private _nonFormattedValue:string;\n\n    public format:(value:string) => string;\n\n    constructor(label?:string, value?:string, name?:string, selected:boolean = false, required:boolean=false){\n        super();\n        this.label = label;\n        this.value = value;\n        this.name = name;\n        this.selected = selected;\n        this.required = required;\n    }\n\n\n    get nonFormattedValue():string {\n        return this._nonFormattedValue;\n    }\n\n    get label():string {\n        return this._label;\n    }\n\n    set label(value:string) {\n        this._label = value;\n        this.notify(value, 'label');\n    }\n\n    get value():string {\n        return this._value;\n    }\n\n    set value(value:string) {\n        this._nonFormattedValue = value;\n        if(this.format){\n            value = this.format(value);\n        }\n        this._value = value;\n        this.notify(value, 'value');\n    }\n\n    get name():string {\n        return this._name;\n    }\n\n    set name(value:string) {\n        this._name = value;\n        this.notify(value, 'name');\n    }\n\n    get selected():boolean {\n        return this._selected;\n    }\n\n    set selected(value:boolean) {\n        this._selected = value;\n        this.notify(value, 'selected');\n    }\n\n    get required():boolean {\n        return this._required;\n    }\n\n    set required(value:boolean) {\n        this._required = value;\n        this.notify(value, 'required');\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/InputModel.ts","import {IValidator} from \"./IValidator\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {InputCollectionModel} from \"../InputCollectionModel\";\n/**\n * Created by dsmiley on 10/10/17.\n */\n\nexport class AbstractValidator extends Lavender.Subject implements IValidator{\n\n    private _errors:Lavender.ArrayList;\n    private _warnings:Lavender.ArrayList;\n    private _source:InputCollectionModel;\n    private _isValid:boolean = false;\n    private _hasWarnings:boolean = false;\n    private _id:string;\n\n    constructor(){\n        super();\n    }\n\n    get errors():Lavender.ArrayList {\n        return this._errors;\n    }\n\n    set errors(value:Lavender.ArrayList) {\n        this._errors = value;\n        this.notify(value, \"errors\");\n    }\n\n    get warnings():Lavender.ArrayList {\n        return this._warnings;\n    }\n\n    set warnings(value:Lavender.ArrayList) {\n        this._warnings = value;\n        this.notify(value, \"warnings\");\n    }\n\n    get source():InputCollectionModel {\n        return this._source;\n    }\n\n    set source(value:InputCollectionModel) {\n        this._source = value;\n        if( this.source !== null && this.source !== undefined ){\n            this.init();//set up initial state\n        }\n        this.notify(value, \"source\");\n    }\n\n    get isValid():boolean {\n        return this._isValid;\n    }\n\n    set isValid(value:boolean) {\n        this._isValid = value;\n        this.notify(value, \"isValid\");\n    }\n\n    get hasWarnings():boolean {\n        return this._hasWarnings;\n    }\n\n    set hasWarnings(value:boolean) {\n        this._hasWarnings = value;\n        this.notify(value, \"hasWarnings\");\n    }\n\n    get id():string {\n        return this._id;\n    }\n\n    set id(value:string) {\n        this._id = value;\n        this.notify(value, \"id\");\n    }\n\n    protected getValidationResult():boolean{\n        return this.errors.length <= 0;\n    }\n\n    protected getValidationWarningsResult():boolean{\n        return this.warnings.length > 0;\n    }\n\n    //stub for override\n    protected getValidationErrors():Lavender.ArrayList{\n        return new Lavender.ArrayList();//returns ArrayList of SpiSdk.ValidationError instances\n    }\n\n    //stub for override\n    protected getValidationWarnings():Lavender.ArrayList{\n        return new Lavender.ArrayList();//returns ArrayList of SpiSdk.ValidationError instances\n    }\n\n    protected validateOnChange(value:string):void{\n        this.validate();\n    }\n\n    protected setUpBindings():void{\n\n    }\n\n    protected addEventListeners():void{\n\n    }\n\n    public validate():boolean {\n        this.errors = this.getValidationErrors();//get all errors and store\n        this.warnings = this.getValidationWarnings();\n        this.isValid = this.getValidationResult();\n        this.hasWarnings = this.getValidationWarningsResult();\n        return this.isValid;//returns true or false, to obtain specific errors use this.errors\n    }\n\n    public init():void {\n        this.addEventListeners();\n        this.setUpBindings();\n        this.validate();\n    }\n\n    public destroy():void {\n        this.binder.unbindAll();\n        this.binder = null;\n        this.source = null;\n        this.errors = null;\n        this.warnings = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/validation/AbstractValidator.ts","/**\n * Created by dsmiley on 10/10/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {InputModel} from \"../InputModel\";\nexport class ValidationError extends Lavender.Subject{\n\n    private _property:string;\n    private _errorCode:string;\n    private _errorMessage:string;\n\n    constructor(property:string, errorCode:string, errorMessage:string){\n        super();\n        this.property = property;\n        this.errorCode = errorCode;\n        this.errorMessage = errorMessage;\n    }\n\n    get property():string {\n        return this._property;\n    }\n\n    set property(value:string) {\n        this._property = value;\n        this.notify(value, \"property\");\n    }\n\n    get errorCode():string {\n        return this._errorCode;\n    }\n\n    set errorCode(value:string) {\n        this._errorCode = value;\n        this.notify(value, \"errorCode\");\n    }\n\n    get errorMessage():string {\n        return this._errorMessage;\n    }\n\n    set errorMessage(value:string) {\n        this._errorMessage = value;\n        this.notify(value, \"errorMessage\");\n    }\n\n    public destroy():void{\n        this.property = null;\n        this.errorCode = null;\n        this.errorMessage = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/validation/ValidationError.ts","import {AbstractCollectionView} from \"./AbstractCollectionView\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\nimport {InputEvent} from \"../control/events/InputEvent\";\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {InputModel} from \"../model/form/InputModel\";\n/**\n * Created by dsmiley on 10/5/17.\n */\n\nexport abstract class AbstractInputCollectionView extends AbstractCollectionView{\n\n    //add the invalid/valid class after validation. This method id typically called as part of a data binding on this.isValid\n    public attachValidationClass(classToAdd:string, classToRemove:string):void{\n        if(this.collectionContainer){\n            this.collectionContainer.classList.remove(classToRemove);\n            this.collectionContainer.classList.add(classToAdd);\n        }\n    }\n\n    protected onItemSelectedDeselect(event:ItemViewEvent):void{\n        let dispatchChange:boolean =  (this.selectedItem != event.payload['item']);\n        super.onItemSelectedDeselect(event);\n        //if the selected item has changed dispatch input change event\n        if( dispatchChange ){\n            this.dispatch(new InputEvent(InputEvent.CHANGE, {target:this.selectedItem, originalEvent:event}));\n        }\n    }\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractInputCollectionView.ts","/**\n * Created by dsmiley on 10/5/17.\n */\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {InputModel} from \"../model/form/InputModel\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\n\nexport abstract class AbstractSelectableFormInput extends AbstractItemView{\n\n    private _selected:boolean;\n\n    constructor(){\n        super();\n    }\n\n    get selected():boolean {\n        return this._selected;\n    }\n\n    set selected(value:boolean) {\n        this._selected = value;\n        this.refreshView(value);\n        this.notify(value, 'selected');\n        let eventType = ( this.selected ) ? ItemViewEvent.ITEM_SELECTED : ItemViewEvent.ITEM_DESELECTED;\n        //dispatch event to notify view that the layout was selected/or deselected\n        this.dispatch(new ItemViewEvent(eventType, {item:this}));\n    }\n\n    //stub for override\n    protected refreshView(selected:boolean):void{\n\n    }\n\n    //called when anewitemis clickedbythe end user in a collection view\n    //this is called to reset the state of the currently selected item\n    public resetState():void{\n        this.selected = false;\n    }\n\n    public onModelChange(value:Object):void{\n        super.onModelChange(value);\n        if(value && value instanceof InputModel){\n            //set initial value\n            this.selected = (value as InputModel).selected;\n            //set up two way bindings\n            this.binder.bind(value, 'selected', this, 'selected');\n            this.binder.bind(this, 'selected', value, 'selected');\n        }else if(value && value['selected']){\n            this.selected = value['selected'];\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractSelectableFormInput.ts","/**\n * Created by dsmiley on 8/23/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\n\nexport class AbstractThumbnailView extends AbstractItemView{\n    private _thumbWidth:string;\n    private _thumbHeight:string;\n    private _thumbnail:HTMLImageElement;\n    private _thumbnailContainer:HTMLElement;\n    private _allowDrag = true;\n    private _thumbnailDisplay:string;\n    private _thumbnailSelectedClass:string;\n    \n    constructor(){\n        super();\n    }\n\n    get thumbWidth():string {\n        return this._thumbWidth;\n    }\n\n    set thumbWidth(value:string) {\n        this._thumbWidth = value;\n        this.notify(value, 'thumbWidth');\n    }\n\n    get thumbHeight():string {\n        return this._thumbHeight;\n    }\n\n    set thumbHeight(value:string) {\n        this._thumbHeight = value;\n        this.notify(value, 'thumbHeight');\n    }\n\n    get thumbnail():HTMLImageElement {\n        return this._thumbnail;\n    }\n\n    set thumbnail(value:HTMLImageElement) {\n        this._thumbnail = value;\n        this.notify(value, 'thumbnail');\n    }\n\n    get thumbnailContainer():HTMLElement {\n        return this._thumbnailContainer;\n    }\n\n    set thumbnailContainer(value:HTMLElement) {\n        this._thumbnailContainer = value;\n        this.notify(value, 'thumbnailContainer');\n    }\n\n    get allowDrag():boolean {\n        return this._allowDrag;\n    }\n\n    set allowDrag(value:boolean) {\n        this._allowDrag = value;\n        this.notify(value, 'allowDrag');\n    }\n\n    protected sizeImage():void{\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        let defaultSize:Lavender.widthHeightObject = this.getDefaultSize();\n        let containerSize:Lavender.widthHeightObject = this.getContainerSize();\n        let scale = Lavender.ResizeUtils.getScaleToFit(defaultSize, containerSize);\n        let width = defaultSize['width'] * scale;\n        let height = defaultSize['height'] * scale;\n        //console.log(\"width/height \"+width+\"/\"+height)\n        this.thumbnail.setAttribute('width', width + 'px');\n        this.thumbnail.setAttribute('height', height + 'px');\n        this.thumbnail.style.maxWidth = containerSize.width + 'px';\n        this.thumbnail.style.maxHeight = containerSize.height + 'px';\n    }\n\n    protected onThumbClick(event:Event):void{\n        this.resetState();\n    }\n\n    //stub for override\n    protected onDragStart(event:Event):void{\n\n    }\n\n    protected getImageURL(model?:Object):string{\n        if(model){\n            return model['thumbUrl'];\n        }\n        return this.model['thumbUrl'];\n    }\n\n    protected getDefaultSize():Lavender.widthHeightObject{\n        return {width:parseInt(this.thumbnail.getAttribute('width')), height:parseInt(this.thumbnail.getAttribute('height'))} as Lavender.widthHeightObject;\n    }\n\n    protected getContainerSize():Lavender.widthHeightObject{\n        let returnObj = (this.thumbnailContainer !== null && this.thumbnailContainer !== undefined ) ? {width:parseInt(window.getComputedStyle(this.thumbnailContainer).width), height:parseInt(window.getComputedStyle(this.thumbnailContainer).height)} : {width:NaN, height:NaN};\n        //if the container has a defined width and height set in the tempalte use that instead of our defaults\n        if( !isNaN( parseInt(this.thumbWidth) ) && !isNaN( parseInt(this.thumbWidth) ) ){\n            returnObj = {width:parseInt(this.thumbWidth), height:parseInt(this.thumbHeight)} as Lavender.widthHeightObject;\n        }\n        return returnObj;\n    }\n\n    protected onImageLoad(event:Event):void{\n        if(!this.thumbnail){\n            return;\n        }\n        this.thumbnail.onload = null;\n        this.setElementDisplay(this.thumbnail, this._thumbnailDisplay);\n        this.sizeImage();\n    }\n\n    protected setThumbnailSrc(src:string):void{\n        if(!this.thumbnail){\n            return\n        }\n        this.thumbnail.onload = this.onImageLoad.bind(this);\n        this.setElementDisplay(this.thumbnail, 'none');\n        this.thumbnail['src'] = src;\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        this.thumbnail.setAttribute('draggable', (this.allowDrag) ? 'true' : 'false');\n        this.thumbnail.addEventListener('click', this.onThumbClick.bind(this));\n        this.thumbnail.addEventListener('dragstart', this.onDragStart.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        if( this.thumbnail === null ||  this.thumbnail === undefined ){\n            return;\n        }\n        this.thumbnail.removeEventListener('click', this.onThumbClick);\n        this.thumbnail.removeEventListener('dragstart', this.onDragStart);\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('thumbnail', this, 'thumbnail'));\n        this.skinParts.addItem(new SkinPart('thumbnailContainer', this, 'thumbnailContainer'));\n    }\n\n    public onModelChange(model:Object):void{\n        if(model){\n            this.setThumbnailSrc(this.getImageURL(model));\n        }\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'thumbnail':\n                this.binder.bind(this, 'model', this, 'onModelChange');\n                this._thumbnailDisplay = this.thumbnail.style.display;\n                this.setThumbnailSrc(this.getImageURL());\n                this.addEventListeners();\n                break;\n            case 'thumbnailContainer':\n                this._thumbnailSelectedClass = this.thumbnailContainer.getAttribute('selected-class');\n                break;\n        }\n    }\n\n    public resetState():void{\n        this.thumbnailContainer.classList.toggle(this._thumbnailSelectedClass);\n        let eventType = ( this.thumbnailContainer.classList.contains(this._thumbnailSelectedClass) ) ? ItemViewEvent.ITEM_SELECTED : ItemViewEvent.ITEM_DESELECTED;\n        //dispatch event to notify view that the layout was selected/or deselected\n        this.dispatch(new ItemViewEvent(eventType, {item:this}));\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.removeEventListeners()\n        this.thumbnail = null;\n        this.thumbnailContainer = null;\n        this._thumbnailSelectedClass = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractThumbnailView.ts","/**\n * Created by dsmiley on 7/25/17.\n */\nimport {IComponentList} from './IComponentList';\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class ComponentList extends Lavender.ArrayList implements IComponentList{\n    public instancesByConstructor:Object = {};\n    \n    constructor(){\n        super();\n    }\n    \n    protected addToHash(object:any):void{\n        if( this.instancesByConstructor[ object.constructor ] === null || this.instancesByConstructor[ object.constructor ] === undefined ){\n            this.instancesByConstructor[ object.constructor ] = [];\n        }\n        this.instancesByConstructor[ object.constructor ].push( object );\n    }\n    \n    protected removeItemFromHash(hash:Object, object:any):void{\n        let objects = hash[ object.constructor ];\n        if( objects === null || objects === undefined ||  objects.length < 1 ){\n            return;\n        }\n        for(let i = 0; i < objects.length; i++ ){\n            if( objects[i] == object ){\n                //remove the item from the array\n                switch (i) {\n                    case 0:\n                        objects.shift();\n                        break;\n                    case objects.length - 1:\n                        objects.pop();\n                        break;\n                    default:\n                        let head = objects.slice(0, i);\n                        let tail = objects.slice(i + 1);\n                        objects = head.concat(tail);\n                        break;\n                }\n                break;\n            }\n        }\n    }\n\n    public addItem(object:Object, hash?:Object, key?:string):number{\n        let index:number = super.addItem(object,hash,key);\n        //populate hash\n        this.addToHash(object);\n        return index;\n    }\n\n    public clear():void{\n        super.clearHash(this.instancesByConstructor);\n        super.clear();\n    }\n\n    public removeItemAt(index:number):void{\n        let object:Object = this.getItemAt( index );\n        this.removeItemFromHash(this.instancesByConstructor, object);\n        super.removeItemAt(index);\n    }\n\n    public insert(object:any, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false ):number{\n        let returnValue:number = super.insert(object,index,suppressChangeEvent,hash,key,replaceIndex);\n        this.addToHash(object);\n        return returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/ComponentList.ts","import {IContext} from \"./IContext\";\nimport {IComponentList} from \"./IComponentList\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {IXtag, IDefinition, ILifecycle} from \"./xtag\";\nimport {IComponentMap} from \"./IComponentMap\";\nimport {ComponentList} from \"./ComponentList\";\nimport {LotusHTMLElement} from \"./LotusHTMLElement\";\n\ndeclare var xtag:IXtag;\n\n/**\n * Created by dsmiley on 7/25/17.\n */\nexport class ComponentMap implements IComponentMap{\n    public context:IContext;\n    public componentInstances:IComponentList;\n    public tagInstanceToRequestId:Object;\n\n    constructor(context:IContext){\n        this.context = context;\n        this.componentInstances = new ComponentList();\n        this.tagInstanceToRequestId = {};\n    }\n    \n    public success(result:Lavender.IResult):void{\n        let tagInstance:LotusHTMLElement = this.tagInstanceToRequestId[result.requestId];\n        let div:HTMLDivElement = document.createElement('div');\n        div.innerHTML = result.resultObj as string;\n        //clone the contents\n        let clone:DocumentFragment = document.importNode((div.childNodes[0] as HTMLTemplateElement).content, true) as DocumentFragment;\n        //select the root component node\n        let component:LotusHTMLElement = clone.querySelector(tagInstance.getAttribute('data-component-root')) as LotusHTMLElement;\n        component.lotusComponentInstance = tagInstance.lotusComponentInstance;\n        //create a shadow host from the tag instance and append the clone to it\n        let host:Element = tagInstance.createShadowRoot();\n        host.appendChild(clone);\n        //transfer data-attribute instance onto the component\n        for( let i=0; i < tagInstance.attributes.length; i++ ){\n            let attribute = tagInstance.attributes[i];\n            if( attribute.name.indexOf('attribute') >= 0 ){\n                component.setAttribute(attribute.name, attribute.value)\n            }\n        }\n        //pass along the root component node to the view component\n        this.createComponent(component);\n        //Scope styles to the tag. This appends the tag's nodeName to all styles to simulate DOM encapsulation, however it will not shield the shadowDOM from selectors in the lightDOM. This is not possible with pollyfills at this time.\n        //Note window.WebComponents is added by bower web components core. shimStyling is used by polyfills\n        if( window['WebComponents'] && window['WebComponents'].ShadowCSS ){\n            window['WebComponents'].ShadowCSS.shimStyling(host,tagInstance.nodeName);\n        }\n    }\n\n    public fault(fault:Lavender.IFault):void{\n        console.log(fault);\n        throw new Error('Could not load template. Please check you defined the correct path.');\n    }\n\n    public onProgress(progress:number):void{\n\n    }\n\n    //stub for override in LotusJS-MVW\n    protected mapMediators(tagInstance:LotusHTMLElement):void{\n\n    }\n\n    public addComponent(tagInstance:LotusHTMLElement, functionConstructor):void{\n        // fired once at the time a component\n        // is initially created or parsed\n        if( tagInstance.lotusComponentInstance === null || tagInstance.lotusComponentInstance === undefined ){\n            tagInstance.lotusComponentInstance  = new functionConstructor();\n            this.componentInstances.addItem(tagInstance.lotusComponentInstance);\n        }\n        //trigger mediator assignment if any\n        this.mapMediators(tagInstance)\n        //if the tag instance defines a scr attribute load the template and set up the shadow DOM\n        let src:string = tagInstance.getAttribute('data-template-url');\n        if( src !== null && src !== undefined ){\n            let httpService = new Lavender.XhrHttpService();\n            httpService.addResponder(this);\n            httpService.send(\n                'GET',\n                src,\n                null,\n                'text/html',\n                'text',\n                true);\n            this.tagInstanceToRequestId[httpService.requestId] = tagInstance;\n            return;\n        }\n        this.createComponent(tagInstance);\n    }\n\n    public createComponent(tagInstance:LotusHTMLElement):void{\n        tagInstance.lotusComponentInstance.created(tagInstance);\n    }\n\n    public mapComponent(tagName:string, prototype:HTMLElement, functionConstructor:Function, framework:IXtag):void{\n        if(!framework){\n            framework = xtag;\n        }\n        let componentMap:IComponentMap = this;\n        let lifecycle:ILifecycle = {\n            created: function(){\n                //IMPORTANT:, use builder patter here and create an add component function\n                componentMap.addComponent(this as LotusHTMLElement, functionConstructor);\n            },\n            inserted: function(){\n                // fired each time a component\n                // is inserted into the DOM\n                (this as LotusHTMLElement).lotusComponentInstance.inserted(this as LotusHTMLElement);\n            },\n            removed: function(){\n                // fired each time an element\n                // is removed from DOM\n                (this as LotusHTMLElement).lotusComponentInstance.removed(this as LotusHTMLElement);\n            },\n            attributeChanged: function(attrName: string, oldValue: any, newValue: any){\n                // fired when attributes are set\n                (this as LotusHTMLElement).lotusComponentInstance.attributeChanged(this as LotusHTMLElement);\n            }\n        } as ILifecycle;\n        let definition:IDefinition = {\n            // extend existing elements\n            prototype: prototype,\n            lifecycle:lifecycle\n        } as IDefinition;\n        framework.register(tagName, definition);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/ComponentMap.ts","/**\n * Created by dsmiley on 8/23/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\nimport {AbstractCollectionView} from \"./AbstractCollectionView\";\n\nexport class AbstractRecordSetCollectionView extends AbstractCollectionView{\n    private _navBtnEnabledClass:string;\n    private _navBtnDisabledClass:string;\n    private _nextBtn:HTMLElement;\n    private _pervBtn:HTMLElement;\n    private _firstBtn:HTMLElement;\n    private _lastBtn:HTMLElement;\n    private _recordSet:Lavender.RecordSet;\n\n    get recordSet():Lavender.RecordSet {\n        return this._recordSet;\n    }\n\n    set recordSet(value:Lavender.RecordSet) {\n        this.removeCollectionEventListeners();//must occur first\n        this._recordSet = value;\n        this.addCollectionEventListeners();//must occur after line above\n        this.notify(value, 'recordSet');\n    }\n\n    get navBtnEnabledClass() {\n        return this._navBtnEnabledClass;\n    }\n\n    set navBtnEnabledClass(value) {\n        this._navBtnEnabledClass = value;\n        this.notify(value, 'navBtnEnabledClass');\n    }\n\n    get navBtnDisabledClass() {\n        return this._navBtnDisabledClass;\n    }\n\n    set navBtnDisabledClass(value) {\n        this._navBtnDisabledClass = value;\n        this.notify(value, 'navBtnDisabledClass');\n    }\n\n    get nextBtn() {\n        return this._nextBtn;\n    }\n\n    set nextBtn(value) {\n        this._nextBtn = value;\n        this.notify(value, 'nextBtn');\n    }\n\n    get pervBtn() {\n        return this._pervBtn;\n    }\n\n    set pervBtn(value) {\n        this._pervBtn = value;\n        this.notify(value, 'pervBtn');\n    }\n\n    get firstBtn() {\n        return this._firstBtn;\n    }\n\n    set firstBtn(value) {\n        this._firstBtn = value;\n        this.notify(value, 'firstBtn');\n    }\n\n    get lastBtn() {\n        return this._lastBtn;\n    }\n\n    set lastBtn(value) {\n        this._lastBtn = value;\n        this.notify(value, 'lastBtn');\n    }\n\n    constructor(){\n        super();\n        this.nextBtn = null;\n        this.pervBtn = null;\n        this.firstBtn = null;\n        this.lastBtn = null;\n    }\n\n    protected addCollectionEventListeners():void{\n        //IMPORTANT, do not call super, we don't want to listen for collection change events but instead the events below\n        if( this.recordSet !== null && this.recordSet !== undefined ){\n            this.recordSet.addEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\n            this.binder.bind(this.recordSet, 'pageList', this, 'onPageListChange', null, null, 'pageListChaneHandler');\n        }\n    }\n\n    protected removeCollectionEventListeners():void{\n        //IMPORTANT, do not call super\n        //This method can be called as part of a destroy sequence where the collection is nulled out, so we check for NPE\n        if( this.recordSet !== null && this.recordSet !== undefined ){\n            //remove old event listeners\n            this.recordSet.removeEventListener(Lavender.RecordSetEvent.RESULTS_CHANGE, this, 'onResultsChange');\n        }\n        if( this.binder !== null && this.binder !== undefined ){\n            this.binder.unbind('pageListChaneHandler');\n        }\n    }\n\n    protected onClickHandler(event:Event):void{\n        //event.currentTarget always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\n        switch( (event.currentTarget as HTMLElement).getAttribute('data-skin-part') ){\n            case 'nextBtn':\n                if( this.recordSet.selectedPage + 1 > this.recordSet.totalPages ){\n                    return;\n                }\n                this.recordSet.selectedPage += 1;\n                break;\n            case 'pervBtn':\n                if( this.recordSet.selectedPage - 1 < 1 ){\n                    return;\n                }\n                this.recordSet.selectedPage -= 1;\n                break;\n            case 'firstBtn':\n                this.recordSet.selectedPage = 1;\n                break;\n            case 'lastBtn':\n                this.recordSet.selectedPage = this.recordSet.totalPages;\n                break;\n        }\n        if( this.nextBtn ){\n            this.refreshNavButtonDisplay( this.nextBtn, 'next');\n        }\n        if( this.pervBtn ){\n            this.refreshNavButtonDisplay( this.pervBtn, 'prev');\n        }\n        if( this.firstBtn ){\n            this.refreshNavButtonDisplay( this.firstBtn, 'prev');\n        }\n        if( this.lastBtn ){\n            this.refreshNavButtonDisplay( this.lastBtn, 'next');\n        }\n    }\n\n    protected refreshNavButtonDisplay(button:HTMLElement, type:String):void{\n        if(button.classList.contains(this.navBtnDisabledClass)){\n            button.classList.remove(this.navBtnDisabledClass)\n        }\n        if(button.classList.contains(this.navBtnEnabledClass)){\n            button.classList.remove(this.navBtnEnabledClass)\n        }\n        let classToAdd;\n        if( type === 'next' ){\n            classToAdd = ( this.recordSet.selectedPage + 1 > this.recordSet.totalPages ) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\n        }else{\n            classToAdd =  ( this.recordSet.selectedPage - 1 < 1 ) ? this.navBtnDisabledClass : this.navBtnEnabledClass;\n        }\n        button.classList.add(classToAdd);\n    }\n    \n    protected onResultsChange(event:Lavender.RecordSetEvent):void{\n        this.render();\n    }\n\n    protected onPageListChange(value:Lavender.IList):void{\n        this.render();\n    }\n\n    protected initCollection():void{\n        //assign a default collection if it has not already been set\n        if( this.recordSet === null || this.recordSet === undefined ){\n            this.recordSet = new Lavender.RecordSet();\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('nextBtn', this, 'nextBtn'));\n        this.skinParts.addItem(new SkinPart('pervBtn', this, 'pervBtn'));\n        this.skinParts.addItem(new SkinPart('firstBtn', this, 'firstBtn'));\n        this.skinParts.addItem(new SkinPart('lastBtn', this, 'lastBtn'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //optional container for displaying collection elements\n            case 'nextBtn':\n                this.nextBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'pervBtn':\n                this.pervBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'firstBtn':\n                this.firstBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n            case 'lastBtn':\n                this.lastBtn.addEventListener('click', this.onClickHandler.bind(this));\n                break;\n        }\n        //IMPORTANT: you could defined these classes on a sort of dummy skin part defined within the component, or on one of the buttons\n        if( element.getAttribute('data-enabledClass') !== null && element.getAttribute('data-enabledClass') !== undefined ){\n            this.navBtnEnabledClass = element.getAttribute('data-enabledClass');\n        }\n        if( element.getAttribute('data-disabled-class') !== null && element.getAttribute('data-disabled-class') !== undefined ){\n            this.navBtnDisabledClass = element.getAttribute('data-disabled-class');\n        }\n    }\n\n    public render():void{\n        //IMPORTANT: do not call super!\n        if( this.itemView === null || this.itemView == undefined ){\n            throw Error('data-attribute-item-view must be defined on the tag instance and point to a valid constructor');\n        }\n        //clear the current view\n        this.removeAllChildViews();\n        if( this.nextBtn ){\n            this.refreshNavButtonDisplay( this.nextBtn, 'next');\n        }\n        if( this.pervBtn ){\n            this.refreshNavButtonDisplay( this.pervBtn, 'prev');\n        }\n        if( this.firstBtn ){\n            this.refreshNavButtonDisplay( this.firstBtn, 'prev');\n        }\n        if( this.lastBtn ){\n            this.refreshNavButtonDisplay( this.lastBtn, 'next');\n        }\n        if (this.recordSet.pageList === null || this.recordSet.pageList === undefined) {\n            return;\n        }\n        //populate the new view using the record set's current page\n        for (let i = 0; i < this.recordSet.pageList.length; i++) {\n            let model = this.recordSet.pageList.getItemAt(i);\n            this.addChildView(model);\n        }\n        this.selectedItem = null;//reset the selected item state\n    }\n\n    public destroy():void{\n        super.destroy();\n        if( this.nextBtn ){\n            this.nextBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.pervBtn ){\n            this.pervBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.firstBtn ){\n            this.firstBtn.removeEventListener('click', this.onClickHandler);\n        }\n        if( this.lastBtn ){\n            this.lastBtn.removeEventListener('click', this.onClickHandler);\n        }\n        this.recordSet.destroy();\n        this.navBtnEnabledClass = null;\n        this.navBtnDisabledClass = null;\n        this.nextBtn = null;\n        this.pervBtn = null;\n        this.firstBtn = null;\n        this.lastBtn = null;\n        this.recordSet = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/AbstractRecordSetCollectionView.ts","/**\n * Created by dsmiley on 9/26/17.\n */\nimport {AbstractCollectionView} from \"./AbstractCollectionView\";\nimport {File} from \"./FileView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {FileEvent} from \"../control/events/FileEvent\";\nimport {AbstractItemView} from \"./AbstractItemView\";\n\nexport class FileCollectionView extends AbstractCollectionView{\n\n    constructor(){\n        super();\n    }\n\n    private _fileInput:HTMLInputElement;\n    private _selectBtn:HTMLButtonElement;\n\n    get fileInput():HTMLInputElement {\n        return this._fileInput;\n    }\n\n    set fileInput(value:HTMLInputElement) {\n        this._fileInput = value;\n    }\n\n    get selectBtn():HTMLButtonElement {\n        return this._selectBtn;\n    }\n\n    set selectBtn(value:HTMLButtonElement) {\n        this._selectBtn = value;\n    }\n    \n    protected getUploadEvent(file):FileEvent{\n        return new FileEvent(FileEvent.UPLOAD_FILE, {file:file});\n    }\n    \n    protected uploadFiles(files:FileList):void{\n        for (let i = 0; i < files.length; i++) {\n            if(files[i].type.indexOf('image') < 0 ){\n                continue;//skip file types that are not images\n            }\n            //iterate over the files and create a new file object and append to the collection\n            let file = new File();\n            file.type = files[i].type;\n            file.name = files[i].name;\n            file.size = files[i].size;\n            file.fileObj = files[i];\n            file.thumbnail = window.URL.createObjectURL(files[i]);\n            //add the item to the collection\n            this.collection.addItem(file);\n            //dispatch event to load the file\n            this.dispatch(this.getUploadEvent(file));\n        }\n    }\n\n    protected addViewEventListeners(view:AbstractItemView):void{\n        super.addViewEventListeners(view);\n        view.addEventListener(FileEvent.REMOVE_FILE_FROM_COLLECTION, this, 'onRemoveAbortFile')\n        view.addEventListener(FileEvent.ABORT_FILE_UPLOAD, this, 'onRemoveAbortFile')\n    }\n\n    protected removeViewEventListeners(view:AbstractItemView):void{\n        super.removeViewEventListeners(view);\n        view.removeEventListener(FileEvent.REMOVE_FILE_FROM_COLLECTION, this, 'onRemoveAbortFile')\n        view.removeEventListener(FileEvent.ABORT_FILE_UPLOAD, this, 'onRemoveAbortFile')\n    }\n\n    public onRemoveAbortFile(event:FileEvent):void{\n        this.dispatch(event);\n        this.removeChildViewFromModel(event.payload['file']);\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\n        this.skinParts.addItem(new SkinPart('fileInput', this, 'fileInput'));\n        this.skinParts.addItem(new SkinPart('selectBtn', this, 'selectBtn'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch(part){\n            case 'fileInput':\n                this.fileInput.addEventListener(\"change\", this.onFileInputChange.bind(this));\n                break;\n            case 'selectBtn':\n                this.selectBtn.addEventListener(\"click\", this.onFileBtnClick.bind(this));\n                break;\n        }\n    }\n    \n    public onFileInputChange(event:Event):void{\n        let files = this.fileInput.files;\n        if (!files.length) {\n            return;\n        } else {\n            this.uploadFiles(files);\n        }\n    }\n\n    public onFileBtnClick(event:Event):void{\n        if (this.fileInput) {\n            this.fileInput.click();//trigger the open of the file input\n        }\n        if( this.selectBtn.getAttribute('href') !== null && this.selectBtn.getAttribute('href') !== undefined ){\n            event.preventDefault();\n        } // prevent navigation to \"#\" or any other link\n    }\n\n    public destroy():void{\n        super.destroy();\n        if( this.fileInput ){\n            this.fileInput.removeEventListener(\"change\", this.onFileInputChange);\n            this.fileInput = null;\n        }\n        if( this.selectBtn ){\n            this.selectBtn.removeEventListener(\"click\", this.onFileBtnClick);\n            this.selectBtn = null;\n        }\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/FileCollectionView.ts","/**\n * Created by dsmiley on 9/26/17.\n */\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {FileEvent} from \"../control/events/FileEvent\";\nimport * as Lavender from 'lavenderjs/lib';\n\nexport class File extends Lavender.Subject{\n\n    public static  PENDING = 'pending';//unstarted\n    public static PROGRESS = 'progress';\n    public static LOAD = 'load';\n    public static ERROR = 'error';\n    public static ABORT = 'abort';\n\n    private _percentLoaded:number;\n    private _state:string;\n    private _thumbnail:string;\n    private _type:string;\n    private _name:string;\n    private _fileObj:any;\n    private _size:number;\n    private _id:number = Math.random();\n\n    public id:number = Math.random();\n\n    constructor(){\n        super();\n    }\n\n    get size():number {\n        return this._size;\n    }\n\n    set size(value:number) {\n        this._size = value;\n        this.notify(value, 'size');\n    }\n\n    get fileObj():any {\n        return this._fileObj;\n    }\n\n    set fileObj(value:any) {\n        this._fileObj = value;\n        this.notify(value, 'fileObj');\n    }\n\n    get percentLoaded():number {\n        return this._percentLoaded;\n    }\n\n    set percentLoaded(value:number) {\n        this._percentLoaded = value;\n        this.notify(value, 'percentLoaded');\n    }\n\n    get state():string {\n        return this._state;\n    }\n\n    set state(value:string) {\n        this._state = value;\n        this.notify(value, 'state');\n    }\n\n    get thumbnail():string {\n        return this._thumbnail;\n    }\n\n    set thumbnail(value:string) {\n        this._thumbnail = value;\n        this.notify(value, 'thumbnail');\n    }\n\n    get type():string {\n        return this._type;\n    }\n\n    set type(value:string) {\n        this._type = value;\n        this.notify(value, 'type');\n    }\n\n    get name():string {\n        return this._name;\n    }\n\n    set name(value:string) {\n        this._name = value;\n        this.notify(value, 'name');\n    }\n\n}\n\nexport class FileView extends AbstractItemView{\n\n    constructor(){\n        super();\n    }\n\n    private _fileLabel:HTMLLabelElement;\n    private _fileTypeLabel:HTMLLabelElement;\n    private _progressBar:HTMLElement;\n    private _statusIndicator:HTMLElement;\n    private _loadIndicator:HTMLElement;\n    private _errorIndicator:HTMLElement;\n    private _progressIndicator:HTMLElement;\n    private _pendingIndicator:HTMLElement;\n    private _abortIndicator:HTMLElement;\n    private _cancelBtn:HTMLButtonElement;\n    private _clearBtn:HTMLButtonElement;\n    private _thumbnail:HTMLImageElement;\n    private _cancelBtnDisplay:string;//css style for active button state\n    private _clearBtnDisplay:string;//css style for active button state\n\n\n    get fileLabel():HTMLLabelElement {\n        return this._fileLabel;\n    }\n\n    set fileLabel(value:HTMLLabelElement) {\n        this._fileLabel = value;\n    }\n\n    get fileTypeLabel():HTMLLabelElement {\n        return this._fileTypeLabel;\n    }\n\n    set fileTypeLabel(value:HTMLLabelElement) {\n        this._fileTypeLabel = value;\n    }\n\n    get progressBar():HTMLElement {\n        return this._progressBar;\n    }\n\n    set progressBar(value:HTMLElement) {\n        this._progressBar = value;\n    }\n\n    get statusIndicator():HTMLElement {\n        return this._statusIndicator;\n    }\n\n    set statusIndicator(value:HTMLElement) {\n        this._statusIndicator = value;\n    }\n\n    get loadIndicator():HTMLElement {\n        return this._loadIndicator;\n    }\n\n    set loadIndicator(value:HTMLElement) {\n        this._loadIndicator = value;\n    }\n\n    get errorIndicator():HTMLElement {\n        return this._errorIndicator;\n    }\n\n    set errorIndicator(value:HTMLElement) {\n        this._errorIndicator = value;\n    }\n\n    get progressIndicator():HTMLElement {\n        return this._progressIndicator;\n    }\n\n    set progressIndicator(value:HTMLElement) {\n        this._progressIndicator = value;\n    }\n\n    get pendingIndicator():HTMLElement {\n        return this._pendingIndicator;\n    }\n\n    set pendingIndicator(value:HTMLElement) {\n        this._pendingIndicator = value;\n    }\n\n    get abortIndicator():HTMLElement {\n        return this._abortIndicator;\n    }\n\n    set abortIndicator(value:HTMLElement) {\n        this._abortIndicator = value;\n    }\n\n    get cancelBtn():HTMLButtonElement {\n        return this._cancelBtn;\n    }\n\n    set cancelBtn(value:HTMLButtonElement) {\n        this._cancelBtn = value;\n    }\n\n    get clearBtn():HTMLButtonElement {\n        return this._clearBtn;\n    }\n\n    set clearBtn(value:HTMLButtonElement) {\n        this._clearBtn = value;\n    }\n\n    get thumbnail():HTMLImageElement {\n        return this._thumbnail;\n    }\n\n    set thumbnail(value:HTMLImageElement) {\n        this._thumbnail = value;\n    }\n\n    get cancelBtnDisplay():string {\n        return this._cancelBtnDisplay;\n    }\n\n    set cancelBtnDisplay(value:string) {\n        this._cancelBtnDisplay = value;\n    }\n\n    get clearBtnDisplay():string {\n        return this._clearBtnDisplay;\n    }\n\n    set clearBtnDisplay(value:string) {\n        this._clearBtnDisplay = value;\n    }\n\n    protected setUpBindings():void{\n        if( this.fileLabel !== null && this.fileLabel !== undefined ){\n            this.fileLabel.innerHTML = (this.model as File).name;\n        }\n        if( this.fileTypeLabel !== null && this.fileTypeLabel !== undefined ){\n            this.fileTypeLabel.innerHTML = (this.model as File).type;\n        }\n        if( this.thumbnail !== null && this.thumbnail !== undefined ){\n            this.thumbnail.src = (this.model as File).thumbnail;\n        }\n        this.onStateChange((this.model as File).state);//set initial state\n        this.onPercentChange((this.model as File).percentLoaded);//set initial percent\n        this.binder.bind((this.model as File), 'state', this, 'onStateChange');\n        this.binder.bind((this.model as File), 'percentLoaded', this, 'onPercentChange');\n    }\n\n    protected setStatusIndicator(node:HTMLElement):void{\n        if( this.statusIndicator !== null && this.statusIndicator !== undefined ){\n            //remove child nodes\n            while (this.statusIndicator.firstChild) {\n                this.statusIndicator.removeChild(this.statusIndicator.firstChild);\n            }\n            this.statusIndicator.appendChild(node);\n        }\n    }\n\n    protected onPercentChange(value:number):void{\n        if( this.progressBar !== null && this.progressBar !== undefined ){\n            //get the max width\n            let maxWidth:number = ( this.progressBar.style.hasOwnProperty('maxWidth') && this.progressBar.style.maxWidth.length > 0 ) ? parseInt(this.progressBar.style.maxWidth) : null;\n            //set width based on % value of parent width\n            let parentWidth = parseFloat(window.getComputedStyle(this.progressBar.parentNode as HTMLElement).width);\n            let newWidth:number = ( value/1 ) * parentWidth;\n            this.progressBar.style.width = ( maxWidth !== null && newWidth > maxWidth ) ? maxWidth + 'px' : newWidth + 'px';\n        }\n    }\n\n    public init():void{\n        super.init();\n        this.setUpBindings();\n    }\n\n    public onStateChange(value:string):void{\n        this.setElementDisplay(this.cancelBtn, this.cancelBtnDisplay);//reset display state so button is visible\n        this.setElementDisplay(this.clearBtn, 'none');//hide the clear button during upload\n        switch( value ){\n            case File.PENDING:\n                if( this.pendingIndicator !== null && this.pendingIndicator !== undefined ){\n                    this.setStatusIndicator( this.pendingIndicator );\n                }\n                break;\n            case File.PROGRESS:\n                if( this.progressIndicator !== null && this.progressIndicator !== undefined ){\n                    this.setStatusIndicator( this.progressIndicator );\n                }\n                break;\n            case File.LOAD:\n                if( this.loadIndicator !== null && this.loadIndicator !== undefined ){\n                    this.setStatusIndicator( this.loadIndicator );\n                }\n                this.setElementDisplay(this.cancelBtn, 'none');//not visible by default, stops the upload but does not clear the file from the list\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay);//visible by default, clears the file from the list\n                break;\n            case File.ERROR:\n                if( this.errorIndicator !== null && this.errorIndicator !== undefined ){\n                    this.setStatusIndicator( this.errorIndicator );\n                }\n                this.setElementDisplay(this.cancelBtn, 'none');//not visible by default, stops the upload but does not clear the file from the list\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay);//visible by default, clears the file from the list\n                break;\n            case File.ABORT:\n                if( this.abortIndicator !== null && this.abortIndicator !== undefined ){\n                    this.setStatusIndicator( this.abortIndicator );\n                }\n                this.setElementDisplay(this.cancelBtn, 'none');//not visible by default, stops the upload but does not clear the file from the list\n                this.setElementDisplay(this.clearBtn, this.clearBtnDisplay);//visible by default, clears the file from the list\n                break;\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\n        this.skinParts.addItem(new SkinPart('thumbnail', this, 'thumbnail'));\n        this.skinParts.addItem(new SkinPart('clearBtn', this, 'clearBtn'));\n        this.skinParts.addItem(new SkinPart('cancelBtn', this, 'cancelBtn'));\n        this.skinParts.addItem(new SkinPart('abortIndicator', this, 'abortIndicator'));\n        this.skinParts.addItem(new SkinPart('pendingIndicator', this, 'pendingIndicator'));\n        this.skinParts.addItem(new SkinPart('progressIndicator', this, 'progressIndicator'));\n        this.skinParts.addItem(new SkinPart('errorIndicator', this, 'errorIndicator'));\n        this.skinParts.addItem(new SkinPart('loadIndicator', this, 'loadIndicator'));\n        this.skinParts.addItem(new SkinPart('statusIndicator', this, 'statusIndicator'));\n        this.skinParts.addItem(new SkinPart('progressBar', this, 'progressBar'));\n        this.skinParts.addItem(new SkinPart('fileTypeLabel', this, 'fileTypeLabel'));\n        this.skinParts.addItem(new SkinPart('fileLabel', this, 'fileLabel'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'cancelBtn':\n                this.cancelBtnDisplay = this.cancelBtn.style.display;//capture the original display state of the button\n                this.cancelBtn.addEventListener('click', this.onCancelBtnClick.bind(this));\n                break;\n            case 'clearBtn':\n                this.clearBtnDisplay = this.clearBtn.style.display;//capture the original display state of the button\n                this.clearBtn.addEventListener('click', this.onClearBtnClick.bind(this));\n                break;\n        }\n    }\n\n    public onClearBtnClick(event:Event):void{\n        this.dispatch(new FileEvent(FileEvent.REMOVE_FILE_FROM_COLLECTION, {file:this.model}));\n    }\n\n    public onCancelBtnClick(event:Event):void{\n        this.dispatch(new FileEvent(FileEvent.ABORT_FILE_UPLOAD, {file:this.model}));\n    }\n\n    public destroy():void{\n        super.destroy();\n        if( this.clearBtn !== null && this.clearBtn !== undefined ){\n            this.clearBtn.removeEventListener('click', this.onClearBtnClick);\n        }\n        if( this.cancelBtn !== null && this.cancelBtn !== undefined ){\n            this.cancelBtn.removeEventListener('click', this.onCancelBtnClick);\n        }\n        this.fileLabel = null;\n        this.progressBar = null;\n        this.cancelBtn = null;\n        this.clearBtn = null;\n        this.statusIndicator = null;\n        this.loadIndicator = null;\n        this.errorIndicator = null;\n        this.progressIndicator = null;\n        this.pendingIndicator = null;\n        this.abortIndicator = null;\n        this.thumbnail = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/FileView.ts","/**\n * Created by dsmiley on 8/1/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\n\nexport class SkinPartList extends Lavender.ArrayList{\n    public skinPartsByLabel:Object = {};\n    \n    constructor(source?:Array<any>, allowDuplicates:boolean = true){\n        super(source,allowDuplicates);\n    }\n    \n    public addItem(object:SkinPart, hash?:Object, key?:string):number{\n        //ensure the object is valid before proceeding\n        let index = super.addItem(object, hash, key);\n        //populate hash\n        this.skinPartsByLabel[ object.label ] = object;\n        return index;\n    }\n\n    public clear():void{\n        super.clearHash(this.skinPartsByLabel);\n        super.clear();\n    }\n    \n    public removeItemAt(index:number):void{\n        let skinPart:SkinPart = this.getItemAt( index );\n        super.removeItemFromHash(this.skinPartsByLabel, skinPart.label);\n        super.removeItemAt(index);\n    }\n\n    public insert(object:SkinPart, index:number, suppressChangeEvent:boolean=false, hash?:Object, key?:string, replaceIndex:boolean=false ):number{\n        //ensure the object is valid before proceeding\n        let returnValue = super.insert(object, index,suppressChangeEvent,hash,key,replaceIndex);\n        //populate hash\n        this.skinPartsByLabel[ object.label ] = object;\n        return returnValue;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/SkinPartList.ts","import * as Lavender from 'lavenderjs/lib';\nimport {IComponentMap} from \"./IComponentMap\";\nimport {IContext} from \"./IContext\";\nimport {ComponentMap} from \"./ComponentMap\";\n\n/**\n * Created by dsmiley on 7/24/17.\n */\nexport class Context implements IContext{\n    public config:Object;\n    public eventDispatcher:Lavender.IEventDispatcher;\n    public componentMap:IComponentMap;\n    \n    constructor(config:Object, params:Object){\n        this.config = config;\n        //IMPORTANT: must occur first so application event bus is configured\n        this.componentMap = new ComponentMap(this);//create factory if we require sub classes one day\n        this.startUp();\n    }\n\n    public startUp(){\n        this.mapComponents();\n    }\n\n    public mapComponents(){\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/Context.ts","import {IComponent} from \"../view/IComponent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport class LotusHTMLElement extends HTMLDivElement{\n    public lotusComponentInstance:IComponent;\n\n    constructor(){\n        super();\n    }\n\n    public createShadowRoot():Element{\n        return super['createShadowRoot']();\n    }\n\n    public getComponentInstance():IComponent{\n        return this.lotusComponentInstance;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/context/LotusHTMLElement.ts","/**\n * Created by dsmiley on 10/10/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {InputModel} from \"./InputModel\";\nimport {IValidator} from \"./validation/IValidator\";\n\nexport class InputCollectionModel extends Lavender.Subject{\n    public static TYPE_INPUT:number = 0;\n    public static TYPE_LIST:number = 1;\n    public static TYPE_RADIO_GROUP:number = 2;\n    public static TYPE_FILE:number =3;\n\n    public selectionRequired:boolean = false;\n\n    private _type:number;\n    private _collection:Lavender.ArrayList;\n    private _isValid:boolean = false;\n    private _validators:Lavender.ArrayList;\n    private _errors:Lavender.ArrayList;\n\n    constructor(type:String, collection:Lavender.ArrayList, selectionRequired:boolean = false){\n        super();\n        this.collection = collection;\n        this.selectionRequired = selectionRequired;\n    }\n\n\n    get errors():Lavender.ArrayList {\n        return this._errors;\n    }\n\n    set errors(value:Lavender.ArrayList) {\n        this._errors = value;\n        this.notify(value, 'errors');\n    }\n\n    get validators():Lavender.ArrayList {\n        return this._validators;\n    }\n\n    set validators(value:Lavender.ArrayList) {\n        this._validators = value;\n        this.notify(value, 'validators');\n        this.setUpBindings();\n    }\n\n    get isValid():boolean {\n        return this._isValid;\n    }\n\n    set isValid(value:boolean) {\n        this._isValid = value;\n        this.notify(value, \"isValid\");\n    }\n\n    get type():number {\n        return this._type;\n    }\n\n    set type(value:number) {\n        this._type = value;\n        this.notify(value, 'type');\n    }\n\n    get collection():Lavender.ArrayList {\n        return this._collection;\n    }\n\n    set collection(value:Lavender.ArrayList) {\n        this._collection = value;\n        this.notify(value, 'collection');\n    }\n\n    public setUpBindings():void{\n        for(let i=0; i<this.validators.length; i++){\n            this.binder.bind(this.validators.getItemAt(i), 'isValid', this, 'validate');\n        }\n    }\n\n    public validate(value?:boolean):Lavender.ArrayList{\n        this.errors = new Lavender.ArrayList();\n        for(let i=0; i<this.validators.length; i++){\n            let validator:IValidator = (this.validators.getItemAt(i) as IValidator);\n            if(!validator.validate()){\n                this.errors.addAll(validator.errors.source());\n            }\n        }\n        this.isValid = this.errors.length == 0;\n        //return the failed results\n        return this.errors;\n    }\n\n    public clear():void{\n        //reset all form fields by clearing InputModel values\n        for(let i=0; i<this.collection.length; i++){\n            let item:InputModel = this.collection.getItemAt(i) as InputModel;\n            switch(this.type){\n                case InputCollectionModel.TYPE_INPUT:\n                    item.value = '';\n                    break;\n                case InputCollectionModel.TYPE_FILE:\n                    //TODO: fogure out how to reset file collection view using model. Probably need a ne wmodel attribute\n                    break;\n                case InputCollectionModel.TYPE_RADIO_GROUP:\n                case InputCollectionModel.TYPE_LIST:\n                    item.selected = false\n                    break;\n            }\n        }\n    }\n\n    public destroy():void{\n        this.binder.unbindAll();\n        this.binder = null;\n        this.collection = null;\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/InputCollectionModel.ts","import {AbstractValidator} from \"./AbstractValidator\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {InputModel} from \"../InputModel\";\nimport {ValidationError} from \"./ValidationError\";\n/**\n * Created by dsmiley on 10/10/17.\n */\nexport class SelectableInputValidator extends AbstractValidator{\n\n    constructor(){\n        super();\n    }\n\n    protected setUpBindings():void{\n        for(let i=0;i<this.source.collection.length;i++){\n            //ensure changes in the value trigger validation\n            this.binder.bind(this.source.collection.getItemAt(i), 'selected', this, 'validateOnChange');\n        }\n    }\n\n    //iterate over model objects and ensure all required objects have some text\n    protected getValidationErrors():Lavender.ArrayList{\n        let returnList = new Lavender.ArrayList();\n        //if the model requires a selection ensure there is one\n        if(this.source.selectionRequired){\n            let itemSelected:boolean = false;\n            let groupName:string;\n            for(let i=0;i<this.source.collection.length;i++){\n                groupName = this.source.collection.getItemAt(i).name;//group name is the same for all items\n                if(this.source.collection.getItemAt(i).selected){\n                    itemSelected = true;\n                    break\n                }\n            }\n            //at least one item must be selected\n            if(!itemSelected){\n                returnList.addItem(new ValidationError('selected', 'form.selectionRequired', groupName + ' must have a selection.'))\n            }\n        }\n        return returnList;//returns ArrayList of SpiSdk.ValidationError instances\n    }\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/validation/SelectableInputValidator.ts","import {AbstractValidator} from \"./AbstractValidator\";\nimport * as Lavender from 'lavenderjs/lib';\nimport {InputModel} from \"../InputModel\";\nimport {ValidationError} from \"./ValidationError\";\n/**\n * Created by dsmiley on 10/10/17.\n */\nexport class TextInputValidator extends AbstractValidator{\n\n    constructor(){\n        super();\n    }\n\n    protected setUpBindings():void{\n        for(let i=0;i<this.source.collection.length;i++){\n            //ensure changes in the value trigger validation\n            this.binder.bind(this.source.collection.getItemAt(i), 'value', this, 'validateOnChange');\n        }\n    }\n\n    //iterate over model objects and ensure all required objects have some text\n    protected getValidationErrors():Lavender.ArrayList{\n        let returnList = new Lavender.ArrayList();\n        for(let i=0;i<this.source.collection.length;i++){\n            let item:InputModel = this.source.collection.getItemAt(i);\n            if(item.required && (!item.nonFormattedValue || item.nonFormattedValue.length <=0) ){\n                returnList.addItem(new ValidationError('required', 'form.required', item.label + ' is required'))\n            }\n        }\n        return returnList;//returns ArrayList of SpiSdk.ValidationError instances\n    }\n    \n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/form/validation/TextInputValidator.ts","import {AbstractComponent} from \"./AbstractComponent\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n/**\n * Created by dsmiley on 7/26/17.\n */\nexport class Button extends AbstractComponent{\n    private _buttonSkinPart:HTMLElement;\n    private _type:string;\n\n    constructor(){\n        super();\n    }\n\n    get buttonSkinPart():HTMLElement {\n        return this._buttonSkinPart;\n    }\n\n    set buttonSkinPart(value:HTMLElement) {\n        this._buttonSkinPart = value;\n        this.notify( value, 'buttonSkinPart' );\n    }\n\n    get type():string {\n        return this._type;\n    }\n\n    set type(value:string) {\n        this._type = value;\n        this.notify( value, 'type' );\n    }\n\n    public onClick(event:Event):void{\n        console.log('Lotus.Button.prototype.onClick: event is ' + event);\n        console.log('Lotus.Button.prototype.onClick: my id is ' + this.id);\n        console.log('Lotus.Button.prototype.onClick: this ' + this);\n        this.dispatch(new ComponentEvent(ComponentEvent.CLICK, {target:this.buttonSkinPart, originalEvent:event}))\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('button', this, 'buttonSkinPart'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'button':\n                //add button event listener or whatever else yo want to do when this skin part is added\n                //you could hold until all skin parts are added and then call addEventListeners\n                console.log('Lotus.Button.prototype.onSkinPartAdded: part: ' + part);\n                console.log('Lotus.Button.prototype.onSkinPartAdded: skinPart: ' + part);\n                this.addEventListeners();\n                break;\n        }\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.buttonSkinPart.addEventListener('click', this.onClick.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        this.buttonSkinPart.removeEventListener('click', this.onClick);\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.buttonSkinPart = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/Button.ts","/**\n * Created by dsmiley on 9/27/17.\n */\nimport {FileCollectionView} from \"./FileCollectionView\";\nimport {File} from \"./FileView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {FileEvent} from \"../control/events/FileEvent\";\nimport {AbstractItemView} from \"./AbstractItemView\";\n\nexport class DragDropFileCollectionView extends FileCollectionView{\n\n    constructor(){\n        super();\n    }\n\n    private _dragOverClass:string;\n    private _dropTarget:HTMLElement;\n\n    get dragOverClass():string {\n        return this._dragOverClass;\n    }\n\n    set dragOverClass(value:string) {\n        this._dragOverClass = value;\n        this.notify(value, 'dragOverClass');\n    }\n\n    get dropTarget():HTMLElement {\n        return this._dropTarget;\n    }\n\n    set dropTarget(value:HTMLElement) {\n        this._dropTarget = value;\n        this.notify(value, 'dropTarget');\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        this.skinParts.addItem(new SkinPart('dropTarget', this, 'dropTarget'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch(part){\n            case 'dropTarget':\n                this.dropTarget.addEventListener(\"drop\", this.onDrop.bind(this), false);\n                window.addEventListener(\"drop\", this.onPreventDrop.bind(this), false);\n                window.addEventListener(\"dragover\", this.onPreventDrop.bind(this), false);\n                this.dropTarget.addEventListener(\"dragover\", this.onDragOver.bind(this), false);\n                this.dropTarget.addEventListener(\"dragenter\", this.onDragOver.bind(this), false);\n                this.dropTarget.addEventListener(\"dragleave\", this.onDragLeave.bind(this), false);\n                break;\n        }\n    }\n\n    public onPreventDrop(event:DragEvent):void{\n        event.preventDefault();\n        event.stopPropagation();\n    }\n\n    public onDrop(event:DragEvent):void{\n        event.preventDefault();\n        event.stopPropagation();\n        if( this.dragOverClass !== null && this.dragOverClass !== undefined ){\n            this.dropTarget.classList.remove(this.dragOverClass);\n        }\n        let files = ( event.dataTransfer !== null && event.dataTransfer !== undefined ) ? event.dataTransfer.files : event['originalEvent'].dataTransfer.files;\n        //note: files.hasOwnProperty('length') does not work\n        if (files === null || files === undefined || !files.length) {\n            return;\n        } else {\n            this.uploadFiles(files);\n        }\n    }\n\n    public onDragOver(event:DragEvent):void{\n        event.preventDefault();\n        event.stopPropagation();\n        if( this.dragOverClass !== null && this.dragOverClass !== undefined ){\n            this.dropTarget.classList.add(this.dragOverClass);\n        }\n        if( event.dataTransfer !== null && event.dataTransfer !== undefined && event.dataTransfer.files !== null && event.dataTransfer.files !== undefined){\n            event.dataTransfer.dropEffect = 'copy';\n        }else if( event['originalEvent'].dataTransfer.files !== null && event['originalEvent'].dataTransfer.files !== undefined ){\n            event['originalEvent'].dataTransfer.dropEffect = 'copy';\n        }\n    }\n\n    public onDragLeave(event:DragEvent):void{\n        if( this.dragOverClass !== null && this.dragOverClass !== undefined ){\n            this.dropTarget.classList.remove(this.dragOverClass);\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        if( this.dropTarget ){\n            this.dropTarget.removeEventListener(\"drop\", this.onDrop);\n            this.dropTarget.removeEventListener(\"dragover\", this.onDragOver);\n            this.dropTarget.removeEventListener(\"dragenter\", this.onDragOver);\n            this.dropTarget.removeEventListener(\"dragleave\", this.onDragLeave);\n            window.removeEventListener(\"drop\", this.onPreventDrop, false);\n            window.removeEventListener(\"dragover\", this.onPreventDrop, false);\n            this.dropTarget = null;\n        }\n        this.onDrop = null;\n        this.onDragOver = null;\n        this.dropTarget = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/DragDropFileCollectionView.ts","/**\n * Created by dsmiley on 9/28/17.\n */\nimport {AbstractThumbnailView} from \"./AbstractThumbnailView\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ImageGalleryItemDetail, asset} from \"./ImageGalleryItemDetail\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n\nexport class Image extends AbstractThumbnailView{\n\n    private _loadingSVG:HTMLElement;\n    private _loadingSVGStyle:string;\n\n    get loadingSVG():HTMLElement {\n        return this._loadingSVG;\n    }\n\n    set loadingSVG(value:HTMLElement) {\n        this._loadingSVG = value;\n    }\n\n    protected getImageURL(model?:Object):string{\n        if(model){\n            return model['src'];\n        }\n        if(!this.model){\n            return '';\n        }\n        return this.model['src'];\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('loadingSVG', this, 'loadingSVG'));\n    }\n\n    protected onImageLoad(event:Event):void{\n        super.onImageLoad(event);\n        this.setElementDisplay(this.loadingSVG, 'none');\n    }\n\n    protected setThumbnailSrc(src:string):void{\n        super.setThumbnailSrc(src);\n        this.setElementDisplay(this.loadingSVG, this._loadingSVGStyle);\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'loadingSVG':\n                this._loadingSVGStyle = this.loadingSVG.style.display;\n                break;\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.loadingSVG = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/Image.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport {AbstractRecordSetCollectionView} from \"./AbstractRecordSetCollectionView\";\n\nexport class ImageGalleryCollectionView extends AbstractRecordSetCollectionView{\n    constructor(){\n        super();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryCollectionView.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport * as Lavender from 'lavenderjs/lib';\nimport {SkinPart} from \"./SkinPart\";\nimport {AbstractComponent} from \"./AbstractComponent\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\n\nexport type asset = { objectName: string, createdDate:Date, url:string };\n\nexport class ImageGalleryItemDetail extends AbstractComponent{\n    private _asset:asset;\n    private _nameLabel:HTMLElement;\n    private _dateCreatedLabel:HTMLElement;\n    private _urlLabel:HTMLElement;\n    \n    constructor(){\n        super();\n    }\n\n\n    get asset():asset {\n        return this._asset;\n    }\n\n    set asset(value:asset) {\n        this._asset = value;\n        this.notify(value, 'asset');\n        this.render();\n    }\n\n    get nameLabel():HTMLElement {\n        return this._nameLabel;\n    }\n\n    set nameLabel(value:HTMLElement) {\n        this._nameLabel = value;\n        this.notify(value, 'nameLabel');\n    }\n\n    get dateCreatedLabel():HTMLElement {\n        return this._dateCreatedLabel;\n    }\n\n    set dateCreatedLabel(value:HTMLElement) {\n        this._dateCreatedLabel = value;\n        this.notify(value, 'dateCreatedLabel');\n    }\n\n    get urlLabel():HTMLElement {\n        return this._urlLabel;\n    }\n\n    set urlLabel(value:HTMLElement) {\n        this._urlLabel = value;\n        this.notify(value, 'urlLabel');\n    }\n\n    protected render():void{\n        if (this.asset && this.ready) {\n            if(this.nameLabel){\n                this.nameLabel.innerHTML = this.asset.objectName;\n            }\n            if(this.dateCreatedLabel){\n                this.dateCreatedLabel.innerHTML = this.asset.createdDate.toDateString();\n            }\n            if(this.urlLabel){\n                this.urlLabel.innerHTML = this.asset.url;\n            }\n        }\n    }\n\n    public defineSkinParts():void{\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('nameLabel', this, 'nameLabel'));\n        this.skinParts.addItem(new SkinPart('dateCreatedLabel', this, 'dateCreatedLabel'));\n        this.skinParts.addItem(new SkinPart('urlLabel', this, 'urlLabel'));\n    }\n\n    public created(element:LotusHTMLElement):void{\n        super.created(element);\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.asset = null;\n        this.nameLabel = null;\n        this.dateCreatedLabel = null;\n        this.urlLabel = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryItemDetail.ts","/**\n * Created by dsmiley on 8/24/17.\n */\nimport {AbstractThumbnailView} from \"./AbstractThumbnailView\";\nimport {LotusHTMLElement} from \"../context/LotusHTMLElement\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ImageGalleryItemDetail, asset} from \"./ImageGalleryItemDetail\";\nimport {ComponentEvent} from \"../control/events/ComponentEvent\";\n\nexport class ImageGalleryView extends AbstractThumbnailView{\n    private _itemDetail:LotusHTMLElement;\n    \n    constructor(){\n        super();\n    }\n\n    get itemDetail():LotusHTMLElement {\n        return this._itemDetail;\n    }\n\n    set itemDetail(value:LotusHTMLElement) {\n        this._itemDetail = value;\n        this.notify(value, 'itemDetail');\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('itemDetail', this, 'itemDetail'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //optional container for displaying collection elements\n            case 'itemDetail':\n                if(this.model){\n                    //this is an example of working with nested components which are skin parts and require a reference to and item view model\n                    //nested components in your skins (template files) work natively, but if you have a skin part that requires a model reference you have to wait until ComponentEvent.READY is dispatched\n                    (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = this.model as asset;\n                    (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).addEventListener(ComponentEvent.READY, this, 'onItemDetailReady')\n                }\n                break;\n        }\n    }\n\n    public onItemDetailReady(event):void{\n        if(this.model){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = this.model as asset;\n        }\n    }\n\n    public onModelChange(value):void{\n        super.onModelChange(value);\n        if(this.itemDetail){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).asset = value as asset;\n        }\n    }\n\n    public onDragStart(event:Event):void{\n        if( event['dataTransfer'] !== null && event['dataTransfer'] !== undefined ){\n            event['dataTransfer'].effectAllowed = 'all';\n            try{\n                event['dataTransfer'].setData('galleryImage', this.model['source']);\n            }catch(e){\n                event['dataTransfer'].setData('text', this.model['source']);//IE only allows two possible key values, text is the nest options\n            }\n        }else{\n            event['originalEvent'].dataTransfer.effectAllowed = 'all';\n            try{\n                event['originalEvent'].dataTransfer.setData('galleryImage', this.model['source']);\n            }catch(e){\n                event['originalEvent'].dataTransfer.setData('text', this.model['source']);//IE only allows two possible key values, text is the nest options\n            }\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        if(this.itemDetail){\n            (this.itemDetail.lotusComponentInstance as ImageGalleryItemDetail).removeEventListener(ComponentEvent.READY, this, 'onItemDetailReady');\n        }\n        this.itemDetail = null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/ImageGalleryView.ts","/**\n * Created by dsmiley on 9/21/17.\n */\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {SkinPart} from \"./SkinPart\";\nimport {InputEvent} from \"../control/events/InputEvent\";\nimport {InputModel} from \"../model/form/InputModel\";\n\nexport class Input extends AbstractItemView{\n    private _inputSkinPart:HTMLInputElement;\n    private _type:string;\n    private _value:string;\n\n    constructor(type?:string){\n        super();\n        this.type = type;\n    }\n\n    get inputSkinPart():HTMLInputElement {\n        return this._inputSkinPart;\n    }\n\n    set inputSkinPart(value:HTMLInputElement) {\n        this._inputSkinPart = value;\n        this.notify( value, 'inputSkinPart' );\n    }\n\n    get type():string {\n        return this._type;\n    }\n\n    set type(value:string) {\n        this._type = value;\n        this.notify( value, 'type' );\n    }\n\n    get value():string {\n        return this._value;\n    }\n\n    set value(value:string) {\n        this._value = value;\n        //manually this.inputSkinPart.value if there are no two way bindings\n        if(this.inputSkinPart && ( !this.model || !(this.model instanceof InputModel) )){\n            this.inputSkinPart.value = value;\n        }\n        this.notify( value, 'value' );\n    }\n\n    //add the invalid/valid class after validation. This method id typically called as part of a data binding on this.isValid\n    public attachValidationClass(classToAdd:string, classToRemove:string):void{\n        if(this.inputSkinPart){\n            this.inputSkinPart.classList.remove(classToRemove);\n            this.inputSkinPart.classList.add(classToAdd);\n        }\n    }\n\n    //TODO: add invalid classes and bindings to trigger attachment of invlaid styles when model's isValid state changes\n    public onModelChange(value:Object):void{\n        super.onModelChange(value);\n        if(value instanceof InputModel){\n            //set initial value\n            this.value = value.value;\n            //set up two way bindings on model\n            this.binder.bind(value, 'value', this, 'value');\n            this.binder.bind(this, 'value', value, 'value');\n            //set up one way binding for text input\n            if(this.inputSkinPart){\n                this.inputSkinPart.value = value.value;\n                this.binder.bind(this, 'value', this.inputSkinPart, 'value');\n            }\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts\n        this.skinParts.addItem(new SkinPart('input', this, 'inputSkinPart'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'input':\n                //add event listener or whatever else yo want to do when this skin part is added\n                //you could hold until all skin parts are added and then call addEventListeners\n                console.log('Lotus.Input.prototype.onSkinPartAdded: part: ' + part);\n                this.inputSkinPart.setAttribute('type', this.type)\n                this.addEventListeners();\n                break;\n        }\n    }\n\n    public onChange(event:Event):void{\n        console.log('Lotus.Input.prototype.onChange: input value is ' + (event.target as HTMLInputElement).value);\n        console.log('Lotus.Input.prototype.onChange: my id is ' + this.id);\n        this.value = this.inputSkinPart.value;\n        this.dispatch(new InputEvent(InputEvent.CHANGE, {target:this.inputSkinPart, originalEvent:event}))\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.inputSkinPart.addEventListener('change', this.onChange.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        this.inputSkinPart.removeEventListener('change', this.onChange);\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.inputSkinPart = null;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/Input.ts","/**\n * Created by dsmiley on 9/22/17.\n */\nimport {AbstractInputCollectionView} from \"./AbstractInputCollectionView\";\nimport {AbstractItemView} from \"./AbstractItemView\";\nimport {ListItemView} from \"./ListItemView\";\n\nexport class ListCollectionView extends AbstractInputCollectionView{\n\n    constructor() {\n        super();\n    }\n\n    public onChange(event:Event):void{\n        //get the associated item view for the selected list item\n        let itemView:ListItemView = this.childViews.getItemAt((event.target as HTMLSelectElement).selectedIndex);\n        //html option elements appear to not dispatch,orat leastnot bubblethe click event on list items\n        //so we force it here\n        itemView.onClick();\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.collectionContainer.addEventListener('change', this.onChange.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        this.collectionContainer.removeEventListener('change', this.onChange);\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element );\n        switch(part){\n            //required, defines the layout for child views\n            case 'collectionContainer':\n                this.addEventListeners();\n                break;\n\n        }\n    }\n\n    protected refreshView(value:any):void{\n        if(this.collectionContainer){\n            (this.collectionContainer as HTMLSelectElement).value = value;\n        }\n        if(this.selectedItem && !this.selectedItem.element['selected']){\n            this.selectedItem.element['selected'] = true;\n        }\n    }\n\n    public destroy():void{\n        this.removeEventListeners();\n        super.destroy();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ListCollectionView.ts","/**\n * Created by dsmiley on 9/22/17.\n */\nimport {AbstractSelectableFormInput} from \"./AbstractSelectableFormInput\";\nimport {SkinPart} from \"./SkinPart\";\nimport {InputModel} from \"../model/form/InputModel\";\n\nexport class ListItemView extends AbstractSelectableFormInput{\n\n    private _option:HTMLOptionElement;\n\n    constructor(){\n        super();\n    }\n\n    get option():HTMLOptionElement {\n        return this._option;\n    }\n\n    set option(value:HTMLOptionElement) {\n        this._option = value;\n    }\n\n    protected refreshView(selected:boolean):void{\n        if(this.option){\n            this.option.selected = selected;\n        }\n    }\n\n    public onClick(event?:Event):void{\n        this.selected = true;\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.option.addEventListener('click', this.onClick.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        if(this.option){\n            this.option.removeEventListener('click', this.onClick);\n        }\n    }\n\n    public defineSkinParts():void{\n        super.defineSkinParts();\n        //set up skin parts. We use the term itemTemplate as it allows us to include this component as a nested component in a collection view.\n        //Choosing another name would require it be wrapped in a itemTemplate skin part\n        this.skinParts.addItem(new SkinPart('itemTemplate', this, 'option'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'itemTemplate':\n                //set up listitem value and label\n                this.option.value = (typeof (this.model as InputModel).value == 'object') ? JSON.stringify((this.model as InputModel).value) : (this.model as InputModel).value;\n                this.option.innerHTML = (this.model as InputModel).label;\n                this.option.selected = this.selected;\n                if(this.selected){\n                    this.onClick();\n                }\n                break;\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.option = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/ListItemView.ts","/**\n * Created by dsmiley on 9/22/17.\n */\nimport {AbstractInputCollectionView} from \"./AbstractInputCollectionView\";\n\nexport class RadioCollectionView extends AbstractInputCollectionView{\n\n    constructor(){\n        super();\n    }\n\n    protected refreshView(value:any):void{\n        if(this.selectedItem){\n            this.selectedItem.element['checked'] = true;\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/RadioCollectionView.ts","/**\n * Created by dsmiley on 9/22/17.\n */\nimport {AbstractSelectableFormInput} from \"./AbstractSelectableFormInput\";\nimport {SkinPart} from \"./SkinPart\";\nimport {ItemViewEvent} from \"../control/events/ItemViewEvent\";\nimport {InputModel} from \"../model/form/InputModel\";\n\nexport class RadioItemView extends AbstractSelectableFormInput{\n\n    private _radio:HTMLInputElement;\n    private _label:HTMLLabelElement;\n\n    constructor(){\n        super();\n    }\n\n    get radio():HTMLInputElement {\n        return this._radio;\n    }\n\n    set radio(value:HTMLInputElement) {\n        this._radio = value;\n    }\n\n    get label():HTMLLabelElement {\n        return this._label;\n    }\n\n    set label(value:HTMLLabelElement) {\n        this._label = value;\n    }\n\n    public onClick(event:Event):void{\n        this.selected = this.radio.checked;\n    }\n\n    protected refreshView(selected:boolean):void{\n        if(this.radio){\n            this.radio.checked = selected;\n        }\n    }\n\n    public addEventListeners():void{\n        super.addEventListeners();\n        this.radio.addEventListener('click', this.onClick.bind(this));\n    }\n\n    public removeEventListeners():void{\n        super.removeEventListeners();\n        if(this.radio){\n            this.radio.removeEventListener('click', this.onClick);\n        }\n    }\n    \n    public defineSkinParts():void{\n        super.defineSkinParts();\n        this.skinParts.addItem(new SkinPart('radio', this, 'radio'));\n        this.skinParts.addItem(new SkinPart('label', this, 'label'));\n    }\n\n    public onSkinPartAdded(part:string, element:HTMLElement):void{\n        super.onSkinPartAdded(part, element);\n        switch( part ){\n            case 'radio':\n                //set up listitem value and label\n                this.radio.value = (typeof (this.model as InputModel).value == 'object') ? JSON.stringify((this.model as InputModel).value) : (this.model as InputModel).value;\n                this.radio.name = (this.model as InputModel).name;\n                this.radio.checked = this.selected;\n                this.addEventListeners();\n                break;\n            case 'label':\n                this.label.innerHTML = (this.model as InputModel).label;\n                break;\n        }\n    }\n\n    public destroy():void{\n        super.destroy();\n        this.removeEventListeners();\n        this.radio = null;\n        this.label = null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/view/RadioItemView.ts","/**\n * Created by dsmiley on 7/24/17.\n */\nexport * from './context/IContext';\nexport * from './context/Context';\nexport * from './context/IComponentList';\nexport * from './context/ComponentList';\nexport * from './context/IComponentMap';\nexport * from './context/ComponentMap';\nexport * from './context/xtag';\nexport * from './context/LotusHTMLElement';\nexport * from './control/events/ComponentEvent';\nexport * from './control/events/InputEvent';\nexport * from './control/events/ItemViewEvent';\nexport * from './control/events/FileEvent';\nexport * from './view/SkinPart';\nexport * from './view/SkinPartList';\nexport * from './view/AbstractComponent';\nexport * from './view/IComponent';\nexport * from './view/AbstractComponent';\nexport * from './view/AbstractItemView';\nexport * from './view/AbstractCollectionView';\nexport * from './view/AbstractRecordSetCollectionView';\nexport * from './view/AbstractThumbnailView';\nexport * from './view/AbstractSelectableFormInput';\nexport * from './view/AbstractInputCollectionView';\nexport * from './view/Input';\nexport * from './view/Button';\nexport * from './view/ListItemView';\nexport * from './view/RadioItemView';\nexport * from './view/ImageGalleryCollectionView';\nexport * from './view/ImageGalleryItemDetail';\nexport * from './view/ImageGalleryView';\nexport * from './view/ListCollectionView';\nexport * from './view/RadioCollectionView';\nexport * from './view/FileView';\nexport * from './view/FileCollectionView';\nexport * from './view/DragDropFileCollectionView';\nexport * from './view/Image';\nexport * from './model/form/InputModel';\nexport * from './model/form/InputCollectionModel';\nexport * from './model/form/validation/IValidator';\nexport * from './model/form/validation/AbstractValidator';\nexport * from './model/form/validation/ValidationError';\nexport * from './model/form/validation/TextInputValidator';\nexport * from './model/form/validation/SelectableInputValidator';\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}